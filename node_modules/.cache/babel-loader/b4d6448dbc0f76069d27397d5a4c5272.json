{"ast":null,"code":"import _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { kyberswapDexes } from 'constants/dexes';\nimport { ELASTIC_NOT_SUPPORTED } from 'constants/v2';\nimport { useActiveWeb3React } from 'hooks';\nimport useLiquiditySources from 'hooks/useAggregatorStats';\nimport { updateAllDexes } from '.';\nexport default function Updater() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var _useLiquiditySources = useLiquiditySources(chainId),\n      dexes = _useLiquiditySources.data; // filterout kyberswap dexes, will hardcode\n\n\n  var normalizeDexes = useMemo(function () {\n    var temp = (dexes === null || dexes === void 0 ? void 0 : dexes.map(function (item) {\n      return _objectSpread(_objectSpread({}, item), {}, {\n        id: item.dexId\n      });\n    }).filter(function (item) {\n      return !item.dexId.includes('kyberswap');\n    })) || [];\n    var isSupportkSElastic = !ELASTIC_NOT_SUPPORTED[chainId || 1];\n    return [].concat(_toConsumableArray(temp), _toConsumableArray(kyberswapDexes.filter(function (item) {\n      return isSupportkSElastic ? true : item.id !== 'kyberswapv2';\n    })));\n  }, [dexes, chainId]);\n  useEffect(function () {\n    if (chainId && normalizeDexes.length) {\n      dispatch(updateAllDexes({\n        chainId: chainId,\n        dexes: normalizeDexes\n      }));\n    }\n  }, [normalizeDexes, chainId, dispatch]);\n  return null;\n}\n\n_s(Updater, \"A83C9W8dp3npsOLAIw1NXCHwvgc=\", false, function () {\n  return [useDispatch, useActiveWeb3React, useLiquiditySources];\n});\n\n_c = Updater;\n\nvar _c;\n\n$RefreshReg$(_c, \"Updater\");","map":{"version":3,"names":["useEffect","useMemo","useDispatch","kyberswapDexes","ELASTIC_NOT_SUPPORTED","useActiveWeb3React","useLiquiditySources","updateAllDexes","Updater","dispatch","chainId","dexes","data","normalizeDexes","temp","map","item","id","dexId","filter","includes","isSupportkSElastic","length"],"sources":["/Applications/XAMPP/voxel-interface/src/state/customizeDexes/updater.tsx"],"sourcesContent":["import { useEffect, useMemo } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { kyberswapDexes } from 'constants/dexes'\nimport { ELASTIC_NOT_SUPPORTED } from 'constants/v2'\nimport { useActiveWeb3React } from 'hooks'\nimport useLiquiditySources from 'hooks/useAggregatorStats'\n\nimport { updateAllDexes } from '.'\nimport { AppDispatch } from '../index'\n\nexport default function Updater(): null {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { chainId } = useActiveWeb3React()\n  const { data: dexes } = useLiquiditySources(chainId)\n\n  // filterout kyberswap dexes, will hardcode\n  const normalizeDexes = useMemo(() => {\n    const temp =\n      dexes?.map(item => ({ ...item, id: item.dexId })).filter(item => !item.dexId.includes('kyberswap')) || []\n    const isSupportkSElastic = !ELASTIC_NOT_SUPPORTED[chainId || 1]\n    return [...temp, ...kyberswapDexes.filter(item => (isSupportkSElastic ? true : item.id !== 'kyberswapv2'))]\n  }, [dexes, chainId])\n\n  useEffect(() => {\n    if (chainId && normalizeDexes.length) {\n      dispatch(\n        updateAllDexes({\n          chainId,\n          dexes: normalizeDexes,\n        }),\n      )\n    }\n  }, [normalizeDexes, chainId, dispatch])\n\n  return null\n}\n"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,OAApB,QAAmC,OAAnC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,cAAT,QAA+B,iBAA/B;AACA,SAASC,qBAAT,QAAsC,cAAtC;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,mBAAP,MAAgC,0BAAhC;AAEA,SAASC,cAAT,QAA+B,GAA/B;AAGA,eAAe,SAASC,OAAT,GAAyB;EAAA;;EACtC,IAAMC,QAAQ,GAAGP,WAAW,EAA5B;;EAEA,0BAAoBG,kBAAkB,EAAtC;EAAA,IAAQK,OAAR,uBAAQA,OAAR;;EACA,2BAAwBJ,mBAAmB,CAACI,OAAD,CAA3C;EAAA,IAAcC,KAAd,wBAAQC,IAAR,CAJsC,CAMtC;;;EACA,IAAMC,cAAc,GAAGZ,OAAO,CAAC,YAAM;IACnC,IAAMa,IAAI,GACR,CAAAH,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEI,GAAP,CAAW,UAAAC,IAAI;MAAA,uCAAUA,IAAV;QAAgBC,EAAE,EAAED,IAAI,CAACE;MAAzB;IAAA,CAAf,EAAkDC,MAAlD,CAAyD,UAAAH,IAAI;MAAA,OAAI,CAACA,IAAI,CAACE,KAAL,CAAWE,QAAX,CAAoB,WAApB,CAAL;IAAA,CAA7D,MAAuG,EADzG;IAEA,IAAMC,kBAAkB,GAAG,CAACjB,qBAAqB,CAACM,OAAO,IAAI,CAAZ,CAAjD;IACA,oCAAWI,IAAX,sBAAoBX,cAAc,CAACgB,MAAf,CAAsB,UAAAH,IAAI;MAAA,OAAKK,kBAAkB,GAAG,IAAH,GAAUL,IAAI,CAACC,EAAL,KAAY,aAA7C;IAAA,CAA1B,CAApB;EACD,CAL6B,EAK3B,CAACN,KAAD,EAAQD,OAAR,CAL2B,CAA9B;EAOAV,SAAS,CAAC,YAAM;IACd,IAAIU,OAAO,IAAIG,cAAc,CAACS,MAA9B,EAAsC;MACpCb,QAAQ,CACNF,cAAc,CAAC;QACbG,OAAO,EAAPA,OADa;QAEbC,KAAK,EAAEE;MAFM,CAAD,CADR,CAAR;IAMD;EACF,CATQ,EASN,CAACA,cAAD,EAAiBH,OAAjB,EAA0BD,QAA1B,CATM,CAAT;EAWA,OAAO,IAAP;AACD;;GA1BuBD,O;UACLN,W,EAEGG,kB,EACIC,mB;;;KAJFE,O"},"metadata":{},"sourceType":"module"}