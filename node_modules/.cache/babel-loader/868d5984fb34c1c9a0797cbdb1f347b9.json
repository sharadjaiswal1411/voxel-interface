{"ast":null,"code":"import _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/LiquidityChartRangeInput/index.tsx\",\n    _ZOOM_LEVELS,\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { FeeAmount } from '@kyberswap/ks-sdk-elastic';\nimport { format } from 'd3';\nimport { saturate } from 'polished';\nimport React, { useCallback, useMemo } from 'react';\nimport { BarChart2, Inbox } from 'react-feather';\nimport { batch } from 'react-redux';\nimport { Text } from 'rebass';\nimport styled from 'styled-components';\nimport { AutoColumn, ColumnCenter } from 'components/Column';\nimport WarningIcon from 'components/LiveChart/WarningIcon';\nimport Loader from 'components/Loader';\nimport { useColor } from 'hooks/useColor';\nimport useTheme from 'hooks/useTheme';\nimport { Bound } from 'state/mint/proamm/actions';\nimport { Chart } from './Chart';\nimport { useDensityChartData } from './hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ZOOM_LEVELS = (_ZOOM_LEVELS = {}, _defineProperty(_ZOOM_LEVELS, FeeAmount.STABLE, {\n  initialMin: 0.999,\n  initialMax: 1.001,\n  min: 0.00001,\n  max: 1.5\n}), _defineProperty(_ZOOM_LEVELS, FeeAmount.LOWEST, {\n  initialMin: 0.999,\n  initialMax: 1.001,\n  min: 0.00001,\n  max: 1.5\n}), _defineProperty(_ZOOM_LEVELS, FeeAmount.LOW, {\n  initialMin: 0.999,\n  initialMax: 1.001,\n  min: 0.00001,\n  max: 1.5\n}), _defineProperty(_ZOOM_LEVELS, FeeAmount.MEDIUM, {\n  initialMin: 0.5,\n  initialMax: 2,\n  min: 0.00001,\n  max: 20\n}), _defineProperty(_ZOOM_LEVELS, FeeAmount.HIGH, {\n  initialMin: 0.5,\n  initialMax: 2,\n  min: 0.00001,\n  max: 20\n}), _ZOOM_LEVELS);\nvar ChartWrapper = styled.div.withConfig({\n  displayName: \"LiquidityChartRangeInput__ChartWrapper\",\n  componentId: \"sc-131adxh-0\"\n})([\"position:relative;justify-content:center;align-content:center;\"]);\n_c = ChartWrapper;\n\nfunction InfoBox(_ref) {\n  var message = _ref.message,\n      icon = _ref.icon;\n  return /*#__PURE__*/_jsxDEV(ColumnCenter, {\n    style: {\n      height: '100%',\n      justifyContent: 'center'\n    },\n    children: [icon, message && /*#__PURE__*/_jsxDEV(Text, {\n      padding: 10,\n      marginTop: \"20px\",\n      textAlign: \"center\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = InfoBox;\nexport default function LiquidityChartRangeInput(_ref2) {\n  _s();\n\n  var _saturate, _saturate2;\n\n  var currencyA = _ref2.currencyA,\n      currencyB = _ref2.currencyB,\n      feeAmount = _ref2.feeAmount,\n      ticksAtLimit = _ref2.ticksAtLimit,\n      price = _ref2.price,\n      priceLower = _ref2.priceLower,\n      priceUpper = _ref2.priceUpper,\n      onLeftRangeInput = _ref2.onLeftRangeInput,\n      onRightRangeInput = _ref2.onRightRangeInput,\n      interactive = _ref2.interactive;\n  var theme = useTheme();\n  var tokenAColor = useColor(currencyA === null || currencyA === void 0 ? void 0 : currencyA.wrapped);\n  var tokenBColor = useColor(currencyB === null || currencyB === void 0 ? void 0 : currencyB.wrapped);\n  var isSorted = currencyA && currencyB && (currencyA === null || currencyA === void 0 ? void 0 : currencyA.wrapped.sortsBefore(currencyB === null || currencyB === void 0 ? void 0 : currencyB.wrapped));\n\n  var _useDensityChartData = useDensityChartData({\n    currencyA: currencyA,\n    currencyB: currencyB,\n    feeAmount: feeAmount\n  }),\n      isLoading = _useDensityChartData.isLoading,\n      isUninitialized = _useDensityChartData.isUninitialized,\n      isError = _useDensityChartData.isError,\n      formattedData = _useDensityChartData.formattedData;\n\n  var onBrushDomainChangeEnded = useCallback(function (domain, mode) {\n    var leftRangeValue = Number(domain[0]);\n    var rightRangeValue = Number(domain[1]);\n\n    if (leftRangeValue <= 0) {\n      leftRangeValue = 1 / Math.pow(10, 6);\n    }\n\n    batch(function () {\n      // simulate user input for auto-formatting and other validations\n      if ((!ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER] || mode === 'handle' || mode === 'reset') && leftRangeValue > 0) {\n        onLeftRangeInput(leftRangeValue.toFixed(6));\n      }\n\n      if ((!ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER] || mode === 'reset') && rightRangeValue > 0) {\n        // todo: remove this check. Upper bound for large numbers\n        // sometimes fails to parse to tick.\n        if (rightRangeValue < 1e35) {\n          onRightRangeInput(rightRangeValue.toFixed(6));\n        }\n      }\n    });\n  }, [isSorted, onLeftRangeInput, onRightRangeInput, ticksAtLimit]);\n  interactive = interactive && Boolean(formattedData === null || formattedData === void 0 ? void 0 : formattedData.length);\n  var brushDomain = useMemo(function () {\n    var leftPrice = isSorted ? priceLower : priceUpper === null || priceUpper === void 0 ? void 0 : priceUpper.invert();\n    var rightPrice = isSorted ? priceUpper : priceLower === null || priceLower === void 0 ? void 0 : priceLower.invert();\n    return leftPrice && rightPrice ? [parseFloat(leftPrice === null || leftPrice === void 0 ? void 0 : leftPrice.toSignificant(6)), parseFloat(rightPrice === null || rightPrice === void 0 ? void 0 : rightPrice.toSignificant(6))] : undefined;\n  }, [isSorted, priceLower, priceUpper]);\n  var brushLabelValue = useCallback(function (d, x) {\n    if (!price) return '';\n    if (d === 'w' && ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER]) return '0';\n    if (d === 'e' && ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER]) return 'âˆž';\n    var percent = (x < price ? -1 : 1) * ((Math.max(x, price) - Math.min(x, price)) / price) * 100;\n    return price ? \"\".concat(format(Math.abs(percent) > 1 ? '.2~s' : '.2~f')(percent), \"%\") : '';\n  }, [isSorted, price, ticksAtLimit]);\n  return /*#__PURE__*/_jsxDEV(AutoColumn, {\n    gap: \"md\",\n    style: {\n      minHeight: '200px'\n    },\n    children: isUninitialized ? /*#__PURE__*/_jsxDEV(InfoBox, {\n      message: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Your position will appear here.\"\n      }, void 0, false, void 0, this),\n      icon: /*#__PURE__*/_jsxDEV(Inbox, {\n        size: 56,\n        stroke: theme.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this) : isLoading ? /*#__PURE__*/_jsxDEV(InfoBox, {\n      icon: /*#__PURE__*/_jsxDEV(Loader, {\n        size: \"40px\",\n        stroke: theme.subText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : isError ? /*#__PURE__*/_jsxDEV(InfoBox, {\n      message: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Liquidity data not available.\"\n      }, void 0, false, void 0, this),\n      icon: /*#__PURE__*/_jsxDEV(WarningIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 79\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this) : !formattedData || formattedData === [] || !price ? /*#__PURE__*/_jsxDEV(InfoBox, {\n      message: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"There is no liquidity data.\"\n      }, void 0, false, void 0, this),\n      icon: /*#__PURE__*/_jsxDEV(BarChart2, {\n        size: 56,\n        stroke: theme.subText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ChartWrapper, {\n      children: /*#__PURE__*/_jsxDEV(Chart, {\n        data: {\n          series: formattedData,\n          current: price\n        },\n        dimensions: {\n          width: 400,\n          height: 200\n        },\n        margins: {\n          top: 10,\n          right: 2,\n          bottom: 20,\n          left: 0\n        },\n        styles: {\n          area: {\n            selection: theme.blue1\n          },\n          brush: {\n            handle: {\n              west: (_saturate = saturate(0.1, tokenAColor)) !== null && _saturate !== void 0 ? _saturate : theme.red1,\n              east: (_saturate2 = saturate(0.1, tokenBColor)) !== null && _saturate2 !== void 0 ? _saturate2 : theme.blue1\n            }\n          }\n        },\n        interactive: interactive,\n        brushLabels: brushLabelValue,\n        brushDomain: brushDomain,\n        onBrushDomainChange: onBrushDomainChangeEnded,\n        zoomLevels: ZOOM_LEVELS[feeAmount !== null && feeAmount !== void 0 ? feeAmount : FeeAmount.MEDIUM],\n        ticksAtLimit: ticksAtLimit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LiquidityChartRangeInput, \"QeZIpYMGOVj4vupiKKDFDGDa1kY=\", false, function () {\n  return [useTheme, useColor, useColor, useDensityChartData];\n});\n\n_c3 = LiquidityChartRangeInput;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ChartWrapper\");\n$RefreshReg$(_c2, \"InfoBox\");\n$RefreshReg$(_c3, \"LiquidityChartRangeInput\");","map":{"version":3,"names":["FeeAmount","format","saturate","React","useCallback","useMemo","BarChart2","Inbox","batch","Text","styled","AutoColumn","ColumnCenter","WarningIcon","Loader","useColor","useTheme","Bound","Chart","useDensityChartData","ZOOM_LEVELS","STABLE","initialMin","initialMax","min","max","LOWEST","LOW","MEDIUM","HIGH","ChartWrapper","div","InfoBox","message","icon","height","justifyContent","LiquidityChartRangeInput","currencyA","currencyB","feeAmount","ticksAtLimit","price","priceLower","priceUpper","onLeftRangeInput","onRightRangeInput","interactive","theme","tokenAColor","wrapped","tokenBColor","isSorted","sortsBefore","isLoading","isUninitialized","isError","formattedData","onBrushDomainChangeEnded","domain","mode","leftRangeValue","Number","rightRangeValue","LOWER","UPPER","toFixed","Boolean","length","brushDomain","leftPrice","invert","rightPrice","parseFloat","toSignificant","undefined","brushLabelValue","d","x","percent","Math","abs","minHeight","text","subText","series","current","width","top","right","bottom","left","area","selection","blue1","brush","handle","west","red1","east"],"sources":["/Applications/XAMPP/voxel-interface/src/components/LiquidityChartRangeInput/index.tsx"],"sourcesContent":["import { Currency, Price, Token } from '@kyberswap/ks-sdk-core'\nimport { FeeAmount } from '@kyberswap/ks-sdk-elastic'\nimport { Trans } from '@lingui/macro'\nimport { format } from 'd3'\nimport { saturate } from 'polished'\nimport React, { ReactNode, useCallback, useMemo } from 'react'\nimport { BarChart2, Inbox } from 'react-feather'\nimport { batch } from 'react-redux'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { AutoColumn, ColumnCenter } from 'components/Column'\nimport WarningIcon from 'components/LiveChart/WarningIcon'\nimport Loader from 'components/Loader'\nimport { useColor } from 'hooks/useColor'\nimport useTheme from 'hooks/useTheme'\nimport { Bound } from 'state/mint/proamm/actions'\n\nimport { Chart } from './Chart'\nimport { useDensityChartData } from './hooks'\nimport { ZoomLevels } from './types'\n\nconst ZOOM_LEVELS: Record<FeeAmount, ZoomLevels> = {\n  [FeeAmount.STABLE]: {\n    initialMin: 0.999,\n    initialMax: 1.001,\n    min: 0.00001,\n    max: 1.5,\n  },\n\n  [FeeAmount.LOWEST]: {\n    initialMin: 0.999,\n    initialMax: 1.001,\n    min: 0.00001,\n    max: 1.5,\n  },\n  [FeeAmount.LOW]: {\n    initialMin: 0.999,\n    initialMax: 1.001,\n    min: 0.00001,\n    max: 1.5,\n  },\n  [FeeAmount.MEDIUM]: {\n    initialMin: 0.5,\n    initialMax: 2,\n    min: 0.00001,\n    max: 20,\n  },\n  [FeeAmount.HIGH]: {\n    initialMin: 0.5,\n    initialMax: 2,\n    min: 0.00001,\n    max: 20,\n  },\n}\n\nconst ChartWrapper = styled.div`\n  position: relative;\n\n  justify-content: center;\n  align-content: center;\n`\n\nfunction InfoBox({ message, icon }: { message?: ReactNode; icon: ReactNode }) {\n  return (\n    <ColumnCenter style={{ height: '100%', justifyContent: 'center' }}>\n      {icon}\n      {message && (\n        <Text padding={10} marginTop=\"20px\" textAlign=\"center\">\n          {message}\n        </Text>\n      )}\n    </ColumnCenter>\n  )\n}\n\nexport default function LiquidityChartRangeInput({\n  currencyA,\n  currencyB,\n  feeAmount,\n  ticksAtLimit,\n  price,\n  priceLower,\n  priceUpper,\n  onLeftRangeInput,\n  onRightRangeInput,\n  interactive,\n}: {\n  currencyA: Currency | undefined\n  currencyB: Currency | undefined\n  feeAmount?: FeeAmount\n  ticksAtLimit: { [bound in Bound]?: boolean | undefined }\n  price: number | undefined\n  priceLower?: Price<Token, Token>\n  priceUpper?: Price<Token, Token>\n  onLeftRangeInput: (typedValue: string) => void\n  onRightRangeInput: (typedValue: string) => void\n  interactive: boolean\n}) {\n  const theme = useTheme()\n\n  const tokenAColor = useColor(currencyA?.wrapped)\n  const tokenBColor = useColor(currencyB?.wrapped)\n\n  const isSorted = currencyA && currencyB && currencyA?.wrapped.sortsBefore(currencyB?.wrapped)\n\n  const { isLoading, isUninitialized, isError, formattedData } = useDensityChartData({\n    currencyA,\n    currencyB,\n    feeAmount,\n  })\n\n  const onBrushDomainChangeEnded = useCallback(\n    (domain: [number, number], mode: string | undefined) => {\n      let leftRangeValue = Number(domain[0])\n      const rightRangeValue = Number(domain[1])\n\n      if (leftRangeValue <= 0) {\n        leftRangeValue = 1 / 10 ** 6\n      }\n\n      batch(() => {\n        // simulate user input for auto-formatting and other validations\n        if (\n          (!ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER] || mode === 'handle' || mode === 'reset') &&\n          leftRangeValue > 0\n        ) {\n          onLeftRangeInput(leftRangeValue.toFixed(6))\n        }\n\n        if ((!ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER] || mode === 'reset') && rightRangeValue > 0) {\n          // todo: remove this check. Upper bound for large numbers\n          // sometimes fails to parse to tick.\n          if (rightRangeValue < 1e35) {\n            onRightRangeInput(rightRangeValue.toFixed(6))\n          }\n        }\n      })\n    },\n    [isSorted, onLeftRangeInput, onRightRangeInput, ticksAtLimit],\n  )\n\n  interactive = interactive && Boolean(formattedData?.length)\n\n  const brushDomain: [number, number] | undefined = useMemo(() => {\n    const leftPrice = isSorted ? priceLower : priceUpper?.invert()\n    const rightPrice = isSorted ? priceUpper : priceLower?.invert()\n\n    return leftPrice && rightPrice\n      ? [parseFloat(leftPrice?.toSignificant(6)), parseFloat(rightPrice?.toSignificant(6))]\n      : undefined\n  }, [isSorted, priceLower, priceUpper])\n\n  const brushLabelValue = useCallback(\n    (d: 'w' | 'e', x: number) => {\n      if (!price) return ''\n\n      if (d === 'w' && ticksAtLimit[isSorted ? Bound.LOWER : Bound.UPPER]) return '0'\n      if (d === 'e' && ticksAtLimit[isSorted ? Bound.UPPER : Bound.LOWER]) return 'âˆž'\n\n      const percent = (x < price ? -1 : 1) * ((Math.max(x, price) - Math.min(x, price)) / price) * 100\n\n      return price ? `${format(Math.abs(percent) > 1 ? '.2~s' : '.2~f')(percent)}%` : ''\n    },\n    [isSorted, price, ticksAtLimit],\n  )\n\n  return (\n    <AutoColumn gap=\"md\" style={{ minHeight: '200px' }}>\n      {isUninitialized ? (\n        <InfoBox\n          message={<Trans>Your position will appear here.</Trans>}\n          icon={<Inbox size={56} stroke={theme.text} />}\n        />\n      ) : isLoading ? (\n        <InfoBox icon={<Loader size=\"40px\" stroke={theme.subText} />} />\n      ) : isError ? (\n        <InfoBox message={<Trans>Liquidity data not available.</Trans>} icon={<WarningIcon />} />\n      ) : !formattedData || formattedData === [] || !price ? (\n        <InfoBox\n          message={<Trans>There is no liquidity data.</Trans>}\n          icon={<BarChart2 size={56} stroke={theme.subText} />}\n        />\n      ) : (\n        <ChartWrapper>\n          <Chart\n            data={{ series: formattedData, current: price }}\n            dimensions={{ width: 400, height: 200 }}\n            margins={{ top: 10, right: 2, bottom: 20, left: 0 }}\n            styles={{\n              area: {\n                selection: theme.blue1,\n              },\n              brush: {\n                handle: {\n                  west: saturate(0.1, tokenAColor) ?? theme.red1,\n                  east: saturate(0.1, tokenBColor) ?? theme.blue1,\n                },\n              },\n            }}\n            interactive={interactive}\n            brushLabels={brushLabelValue}\n            brushDomain={brushDomain}\n            onBrushDomainChange={onBrushDomainChangeEnded}\n            zoomLevels={ZOOM_LEVELS[feeAmount ?? FeeAmount.MEDIUM]}\n            ticksAtLimit={ticksAtLimit}\n          />\n        </ChartWrapper>\n      )}\n    </AutoColumn>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}