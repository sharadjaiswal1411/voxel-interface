{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nvar _s = $RefreshSig$();\n\nimport { useMemo } from 'react';\nimport { BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from '../constants';\nimport { useActiveWeb3React } from './index';\nexport function useAllCurrencyCombinations(currencyA, currencyB) {\n  _s();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId; // const basePairs: [Token, Token][] = useMemo(\n  //   () =>\n  //     flatMap(bases, (base): [Token, Token][] => bases.map(otherBase => [base, otherBase])).filter(\n  //       ([t0, t1]) => t0.address !== t1.address\n  //     ),\n  //   [bases]\n  // )\n\n\n  return useMemo(function () {\n    var tokenA = currencyA === null || currencyA === void 0 ? void 0 : currencyA.wrapped;\n    var tokenB = currencyB === null || currencyB === void 0 ? void 0 : currencyB.wrapped;\n    var bases = chainId ? BASES_TO_CHECK_TRADES_AGAINST[chainId] : [];\n    var basePairs = [];\n\n    for (var i = 0; i < bases.length - 1; i++) {\n      for (var j = i + 1; j < bases.length; j++) {\n        basePairs.push([bases[i], bases[j]]);\n      }\n    }\n\n    var AAgainstAllBase = tokenA && bases.filter(function (base) {\n      return base.address === (tokenA === null || tokenA === void 0 ? void 0 : tokenA.address);\n    }).length <= 0 ? bases.map(function (base) {\n      return [tokenA, base];\n    }) : [];\n    var BAgainstAllBase = tokenB && bases.filter(function (base) {\n      return base.address === (tokenB === null || tokenB === void 0 ? void 0 : tokenB.address);\n    }).length <= 0 ? bases.map(function (base) {\n      return [tokenB, base];\n    }) : [];\n    var directPair = tokenA && tokenB && bases.filter(function (base) {\n      return base.address === (tokenA === null || tokenA === void 0 ? void 0 : tokenA.address);\n    }).length <= 0 && bases.filter(function (base) {\n      return base.address === (tokenB === null || tokenB === void 0 ? void 0 : tokenB.address);\n    }).length <= 0 ? [[tokenA, tokenB]] : [];\n    return tokenA && tokenB ? [].concat(directPair, _toConsumableArray(AAgainstAllBase), _toConsumableArray(BAgainstAllBase), basePairs).filter(function (tokens) {\n      return Boolean(tokens[0] && tokens[1]);\n    }).filter(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          t0 = _ref2[0],\n          t1 = _ref2[1];\n\n      return t0.address !== t1.address;\n    }).filter(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          tokenA = _ref4[0],\n          tokenB = _ref4[1];\n\n      if (!chainId) return true;\n      var customBases = CUSTOM_BASES[chainId];\n      if (!customBases) return true;\n      var customBasesA = customBases[tokenA.address];\n      var customBasesB = customBases[tokenB.address];\n      if (!customBasesA && !customBasesB) return true;\n      if (customBasesA && !customBasesA.find(function (base) {\n        return tokenB.equals(base);\n      })) return false;\n      if (customBasesB && !customBasesB.find(function (base) {\n        return tokenA.equals(base);\n      })) return false;\n      return true;\n    }) : [];\n  }, [chainId, currencyA, currencyB]);\n}\n\n_s(useAllCurrencyCombinations, \"MZB4M8cyCV+h94y3JGwcy21BfBk=\", false, function () {\n  return [useActiveWeb3React];\n});","map":{"version":3,"names":["useMemo","BASES_TO_CHECK_TRADES_AGAINST","CUSTOM_BASES","useActiveWeb3React","useAllCurrencyCombinations","currencyA","currencyB","chainId","tokenA","wrapped","tokenB","bases","basePairs","i","length","j","push","AAgainstAllBase","filter","base","address","map","BAgainstAllBase","directPair","tokens","Boolean","t0","t1","customBases","customBasesA","customBasesB","find","equals"],"sources":["/Applications/XAMPP/voxel-interface/src/hooks/useAllCurrencyCombinations.ts"],"sourcesContent":["import { Currency, Token } from '@kyberswap/ks-sdk-core'\nimport { useMemo } from 'react'\n\nimport { BASES_TO_CHECK_TRADES_AGAINST, CUSTOM_BASES } from '../constants'\nimport { useActiveWeb3React } from './index'\n\nexport function useAllCurrencyCombinations(currencyA?: Currency, currencyB?: Currency): [Token, Token][] {\n  const { chainId } = useActiveWeb3React()\n\n  // const basePairs: [Token, Token][] = useMemo(\n  //   () =>\n  //     flatMap(bases, (base): [Token, Token][] => bases.map(otherBase => [base, otherBase])).filter(\n  //       ([t0, t1]) => t0.address !== t1.address\n  //     ),\n  //   [bases]\n  // )\n\n  return useMemo(() => {\n    const tokenA = currencyA?.wrapped\n    const tokenB = currencyB?.wrapped\n    const bases: Token[] = chainId ? BASES_TO_CHECK_TRADES_AGAINST[chainId] : []\n\n    const basePairs: [Token, Token][] = []\n    for (let i = 0; i < bases.length - 1; i++) {\n      for (let j = i + 1; j < bases.length; j++) {\n        basePairs.push([bases[i], bases[j]])\n      }\n    }\n\n    const AAgainstAllBase =\n      tokenA && bases.filter(base => base.address === tokenA?.address).length <= 0\n        ? bases.map((base): [Token, Token] => [tokenA, base])\n        : []\n\n    const BAgainstAllBase =\n      tokenB && bases.filter(base => base.address === tokenB?.address).length <= 0\n        ? bases.map((base): [Token, Token] => [tokenB, base])\n        : []\n\n    const directPair =\n      tokenA &&\n      tokenB &&\n      bases.filter(base => base.address === tokenA?.address).length <= 0 &&\n      bases.filter(base => base.address === tokenB?.address).length <= 0\n        ? [[tokenA, tokenB]]\n        : []\n\n    return tokenA && tokenB\n      ? [\n          // the direct pair\n          ...directPair,\n          // token A against all bases\n          ...AAgainstAllBase,\n          // token B against all bases\n          ...BAgainstAllBase,\n          // each base against all bases\n          ...basePairs,\n        ]\n          .filter((tokens): tokens is [Token, Token] => Boolean(tokens[0] && tokens[1]))\n          .filter(([t0, t1]) => t0.address !== t1.address)\n          .filter(([tokenA, tokenB]) => {\n            if (!chainId) return true\n            const customBases = CUSTOM_BASES[chainId]\n            if (!customBases) return true\n\n            const customBasesA: Token[] | undefined = customBases[tokenA.address]\n            const customBasesB: Token[] | undefined = customBases[tokenB.address]\n\n            if (!customBasesA && !customBasesB) return true\n\n            if (customBasesA && !customBasesA.find(base => tokenB.equals(base))) return false\n            if (customBasesB && !customBasesB.find(base => tokenA.equals(base))) return false\n\n            return true\n          })\n      : []\n  }, [chainId, currencyA, currencyB])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}