{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/LiquidityChartRangeInput/Zoom.tsx\",\n    _s = $RefreshSig$();\n\nimport { select, zoom, zoomIdentity } from 'd3';\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { RefreshCcw, ZoomIn, ZoomOut } from 'react-feather';\nimport styled from 'styled-components';\nimport { ButtonGray } from 'components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Wrapper = styled.div.withConfig({\n  displayName: \"Zoom__Wrapper\",\n  componentId: \"sc-16tjiq7-0\"\n})([\"display:grid;grid-template-columns:repeat(\", \",1fr);grid-gap:6px;position:absolute;top:-75px;right:0;\"], function (_ref) {\n  var count = _ref.count;\n  return count.toString();\n});\n_c = Wrapper;\nvar Button = styled(ButtonGray).withConfig({\n  displayName: \"Zoom__Button\",\n  componentId: \"sc-16tjiq7-1\"\n})([\"background-color:\", \";&:hover{background-color:\", \";color:\", \";}width:32px;height:32px;padding:4px;\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.subText + '33';\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.buttonBlack;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.text;\n});\n_c2 = Button;\nexport var ZoomOverlay = styled.rect.withConfig({\n  displayName: \"Zoom__ZoomOverlay\",\n  componentId: \"sc-16tjiq7-2\"\n})([\"fill:transparent;cursor:grab;&:active{cursor:grabbing;}\"]);\nexport default function Zoom(_ref5) {\n  _s();\n\n  var svg = _ref5.svg,\n      xScale = _ref5.xScale,\n      setZoom = _ref5.setZoom,\n      width = _ref5.width,\n      height = _ref5.height,\n      resetBrush = _ref5.resetBrush,\n      showResetButton = _ref5.showResetButton,\n      zoomLevels = _ref5.zoomLevels;\n  var zoomBehavior = useRef();\n\n  var _useMemo = useMemo(function () {\n    return [function () {\n      return svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleBy, 2);\n    }, function () {\n      return svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleBy, 0.5);\n    }, function () {\n      return svg && zoomBehavior.current && select(svg).transition().call(zoomBehavior.current.scaleTo, 0.5);\n    }, function () {\n      return svg && zoomBehavior.current && select(svg).call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1)).transition().call(zoomBehavior.current.scaleTo, 0.5);\n    }];\n  }, [svg]),\n      _useMemo2 = _slicedToArray(_useMemo, 4),\n      zoomIn = _useMemo2[0],\n      zoomOut = _useMemo2[1],\n      zoomInitial = _useMemo2[2],\n      zoomReset = _useMemo2[3];\n\n  useEffect(function () {\n    if (!svg) return;\n    zoomBehavior.current = zoom().scaleExtent([zoomLevels.min, zoomLevels.max]).extent([[0, 0], [width, height]]).on('zoom', function (_ref6) {\n      var transform = _ref6.transform;\n      return setZoom(transform);\n    });\n    select(svg).call(zoomBehavior.current);\n  }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels, zoomLevels.max, zoomLevels.min]);\n  useEffect(function () {\n    // reset zoom to initial on zoomLevel change\n    zoomInitial();\n  }, [zoomInitial, zoomLevels]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    count: showResetButton ? 3 : 2,\n    children: [showResetButton && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: function onClick() {\n        resetBrush();\n        zoomReset();\n      },\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(RefreshCcw, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: zoomIn,\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(ZoomIn, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: zoomOut,\n      disabled: false,\n      children: /*#__PURE__*/_jsxDEV(ZoomOut, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Zoom, \"zH4NRSDp1LbD9MaDDRtFoY33Y4A=\");\n\n_c3 = Zoom;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"Zoom\");","map":{"version":3,"names":["select","zoom","zoomIdentity","React","useEffect","useMemo","useRef","RefreshCcw","ZoomIn","ZoomOut","styled","ButtonGray","Wrapper","div","count","toString","Button","theme","subText","buttonBlack","text","ZoomOverlay","rect","Zoom","svg","xScale","setZoom","width","height","resetBrush","showResetButton","zoomLevels","zoomBehavior","current","transition","call","scaleBy","scaleTo","transform","translate","scale","zoomIn","zoomOut","zoomInitial","zoomReset","scaleExtent","min","max","extent","on"],"sources":["/Applications/XAMPP/voxel-interface/src/components/LiquidityChartRangeInput/Zoom.tsx"],"sourcesContent":["import { ScaleLinear, ZoomBehavior, ZoomTransform, select, zoom, zoomIdentity } from 'd3'\nimport React, { useEffect, useMemo, useRef } from 'react'\nimport { RefreshCcw, ZoomIn, ZoomOut } from 'react-feather'\nimport styled from 'styled-components'\n\nimport { ButtonGray } from 'components/Button'\n\nimport { ZoomLevels } from './types'\n\nconst Wrapper = styled.div<{ count: number }>`\n  display: grid;\n  grid-template-columns: repeat(${({ count }) => count.toString()}, 1fr);\n  grid-gap: 6px;\n\n  position: absolute;\n  top: -75px;\n  right: 0;\n`\n\nconst Button = styled(ButtonGray)`\n  background-color: ${({ theme }) => theme.subText + '33'};\n  &:hover {\n    background-color: ${({ theme }) => theme.buttonBlack};\n    color: ${({ theme }) => theme.text};\n  }\n\n  width: 32px;\n  height: 32px;\n  padding: 4px;\n`\n\nexport const ZoomOverlay = styled.rect`\n  fill: transparent;\n  cursor: grab;\n\n  &:active {\n    cursor: grabbing;\n  }\n`\n\nexport default function Zoom({\n  svg,\n  xScale,\n  setZoom,\n  width,\n  height,\n  resetBrush,\n  showResetButton,\n  zoomLevels,\n}: {\n  svg: SVGElement | null\n  xScale: ScaleLinear<number, number>\n  setZoom: (transform: ZoomTransform) => void\n  width: number\n  height: number\n  resetBrush: () => void\n  showResetButton: boolean\n  zoomLevels: ZoomLevels\n}) {\n  const zoomBehavior = useRef<ZoomBehavior<Element, unknown>>()\n\n  const [zoomIn, zoomOut, zoomInitial, zoomReset] = useMemo(\n    () => [\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 2),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleBy, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n      () =>\n        svg &&\n        zoomBehavior.current &&\n        select(svg as Element)\n          .call(zoomBehavior.current.transform, zoomIdentity.translate(0, 0).scale(1))\n          .transition()\n          .call(zoomBehavior.current.scaleTo, 0.5),\n    ],\n    [svg],\n  )\n\n  useEffect(() => {\n    if (!svg) return\n\n    zoomBehavior.current = zoom()\n      .scaleExtent([zoomLevels.min, zoomLevels.max])\n      .extent([\n        [0, 0],\n        [width, height],\n      ])\n      .on('zoom', ({ transform }: { transform: ZoomTransform }) => setZoom(transform))\n\n    select(svg as Element).call(zoomBehavior.current)\n  }, [height, width, setZoom, svg, xScale, zoomBehavior, zoomLevels, zoomLevels.max, zoomLevels.min])\n\n  useEffect(() => {\n    // reset zoom to initial on zoomLevel change\n    zoomInitial()\n  }, [zoomInitial, zoomLevels])\n\n  return (\n    <Wrapper count={showResetButton ? 3 : 2}>\n      {showResetButton && (\n        <Button\n          onClick={() => {\n            resetBrush()\n            zoomReset()\n          }}\n          disabled={false}\n        >\n          <RefreshCcw size={16} />\n        </Button>\n      )}\n      <Button onClick={zoomIn} disabled={false}>\n        <ZoomIn size={16} />\n      </Button>\n      <Button onClick={zoomOut} disabled={false}>\n        <ZoomOut size={16} />\n      </Button>\n    </Wrapper>\n  )\n}\n"],"mappings":";;;;;AAAA,SAAmDA,MAAnD,EAA2DC,IAA3D,EAAiEC,YAAjE,QAAqF,IAArF;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,EAAoCC,MAApC,QAAkD,OAAlD;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,QAA4C,eAA5C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAASC,UAAT,QAA2B,mBAA3B;;AAIA,IAAMC,OAAO,GAAGF,MAAM,CAACG,GAAV;EAAA;EAAA;AAAA,8GAEqB;EAAA,IAAGC,KAAH,QAAGA,KAAH;EAAA,OAAeA,KAAK,CAACC,QAAN,EAAf;AAAA,CAFrB,CAAb;KAAMH,O;AAUN,IAAMI,MAAM,GAAGN,MAAM,CAACC,UAAD,CAAT;EAAA;EAAA;AAAA,4GACU;EAAA,IAAGM,KAAH,SAAGA,KAAH;EAAA,OAAeA,KAAK,CAACC,OAAN,GAAgB,IAA/B;AAAA,CADV,EAGY;EAAA,IAAGD,KAAH,SAAGA,KAAH;EAAA,OAAeA,KAAK,CAACE,WAArB;AAAA,CAHZ,EAIC;EAAA,IAAGF,KAAH,SAAGA,KAAH;EAAA,OAAeA,KAAK,CAACG,IAArB;AAAA,CAJD,CAAZ;MAAMJ,M;AAYN,OAAO,IAAMK,WAAW,GAAGX,MAAM,CAACY,IAAV;EAAA;EAAA;AAAA,+DAAjB;AASP,eAAe,SAASC,IAAT,QAkBZ;EAAA;;EAAA,IAjBDC,GAiBC,SAjBDA,GAiBC;EAAA,IAhBDC,MAgBC,SAhBDA,MAgBC;EAAA,IAfDC,OAeC,SAfDA,OAeC;EAAA,IAdDC,KAcC,SAdDA,KAcC;EAAA,IAbDC,MAaC,SAbDA,MAaC;EAAA,IAZDC,UAYC,SAZDA,UAYC;EAAA,IAXDC,eAWC,SAXDA,eAWC;EAAA,IAVDC,UAUC,SAVDA,UAUC;EACD,IAAMC,YAAY,GAAG1B,MAAM,EAA3B;;EAEA,eAAkDD,OAAO,CACvD;IAAA,OAAM,CACJ;MAAA,OACEmB,GAAG,IACHQ,YAAY,CAACC,OADb,IAEAjC,MAAM,CAACwB,GAAD,CAAN,CACGU,UADH,GAEGC,IAFH,CAEQH,YAAY,CAACC,OAAb,CAAqBG,OAF7B,EAEsC,CAFtC,CAHF;IAAA,CADI,EAOJ;MAAA,OACEZ,GAAG,IACHQ,YAAY,CAACC,OADb,IAEAjC,MAAM,CAACwB,GAAD,CAAN,CACGU,UADH,GAEGC,IAFH,CAEQH,YAAY,CAACC,OAAb,CAAqBG,OAF7B,EAEsC,GAFtC,CAHF;IAAA,CAPI,EAaJ;MAAA,OACEZ,GAAG,IACHQ,YAAY,CAACC,OADb,IAEAjC,MAAM,CAACwB,GAAD,CAAN,CACGU,UADH,GAEGC,IAFH,CAEQH,YAAY,CAACC,OAAb,CAAqBI,OAF7B,EAEsC,GAFtC,CAHF;IAAA,CAbI,EAmBJ;MAAA,OACEb,GAAG,IACHQ,YAAY,CAACC,OADb,IAEAjC,MAAM,CAACwB,GAAD,CAAN,CACGW,IADH,CACQH,YAAY,CAACC,OAAb,CAAqBK,SAD7B,EACwCpC,YAAY,CAACqC,SAAb,CAAuB,CAAvB,EAA0B,CAA1B,EAA6BC,KAA7B,CAAmC,CAAnC,CADxC,EAEGN,UAFH,GAGGC,IAHH,CAGQH,YAAY,CAACC,OAAb,CAAqBI,OAH7B,EAGsC,GAHtC,CAHF;IAAA,CAnBI,CAAN;EAAA,CADuD,EA4BvD,CAACb,GAAD,CA5BuD,CAAzD;EAAA;EAAA,IAAOiB,MAAP;EAAA,IAAeC,OAAf;EAAA,IAAwBC,WAAxB;EAAA,IAAqCC,SAArC;;EA+BAxC,SAAS,CAAC,YAAM;IACd,IAAI,CAACoB,GAAL,EAAU;IAEVQ,YAAY,CAACC,OAAb,GAAuBhC,IAAI,GACxB4C,WADoB,CACR,CAACd,UAAU,CAACe,GAAZ,EAAiBf,UAAU,CAACgB,GAA5B,CADQ,EAEpBC,MAFoB,CAEb,CACN,CAAC,CAAD,EAAI,CAAJ,CADM,EAEN,CAACrB,KAAD,EAAQC,MAAR,CAFM,CAFa,EAMpBqB,EANoB,CAMjB,MANiB,EAMT;MAAA,IAAGX,SAAH,SAAGA,SAAH;MAAA,OAAiDZ,OAAO,CAACY,SAAD,CAAxD;IAAA,CANS,CAAvB;IAQAtC,MAAM,CAACwB,GAAD,CAAN,CAAuBW,IAAvB,CAA4BH,YAAY,CAACC,OAAzC;EACD,CAZQ,EAYN,CAACL,MAAD,EAASD,KAAT,EAAgBD,OAAhB,EAAyBF,GAAzB,EAA8BC,MAA9B,EAAsCO,YAAtC,EAAoDD,UAApD,EAAgEA,UAAU,CAACgB,GAA3E,EAAgFhB,UAAU,CAACe,GAA3F,CAZM,CAAT;EAcA1C,SAAS,CAAC,YAAM;IACd;IACAuC,WAAW;EACZ,CAHQ,EAGN,CAACA,WAAD,EAAcZ,UAAd,CAHM,CAAT;EAKA,oBACE,QAAC,OAAD;IAAS,KAAK,EAAED,eAAe,GAAG,CAAH,GAAO,CAAtC;IAAA,WACGA,eAAe,iBACd,QAAC,MAAD;MACE,OAAO,EAAE,mBAAM;QACbD,UAAU;QACVe,SAAS;MACV,CAJH;MAKE,QAAQ,EAAE,KALZ;MAAA,uBAOE,QAAC,UAAD;QAAY,IAAI,EAAE;MAAlB;QAAA;QAAA;QAAA;MAAA;IAPF;MAAA;MAAA;MAAA;IAAA,QAFJ,eAYE,QAAC,MAAD;MAAQ,OAAO,EAAEH,MAAjB;MAAyB,QAAQ,EAAE,KAAnC;MAAA,uBACE,QAAC,MAAD;QAAQ,IAAI,EAAE;MAAd;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAZF,eAeE,QAAC,MAAD;MAAQ,OAAO,EAAEC,OAAjB;MAA0B,QAAQ,EAAE,KAApC;MAAA,uBACE,QAAC,OAAD;QAAS,IAAI,EAAE;MAAf;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAfF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAqBD;;GA5FuBnB,I;;MAAAA,I"},"metadata":{},"sourceType":"module"}