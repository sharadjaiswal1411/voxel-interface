{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _taggedTemplateLiteral from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/swapv2/SwapSettingsPanel/SlippageSetting.tsx\",\n    _templateObject,\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport React, { useRef, useState } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport { Flex, Text } from 'rebass';\nimport styled, { css } from 'styled-components';\nimport QuestionHelper from 'components/QuestionHelper';\nimport { MAX_SLIPPAGE_IN_BIPS } from 'constants/index';\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel';\nimport useTheme from 'hooks/useTheme';\nimport { useUserSlippageTolerance } from 'state/user/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar DefaultSlippages = [5, 10, 50, 100];\n\nvar parseSlippageInput = function parseSlippageInput(str) {\n  return Math.round(Number.parseFloat(str) * 100);\n}; // isValid = true means it's OK to process with the number with an extra parse\n// isValid = true with message means warning\n// isValid = false with/without message means error\n\n\nvar validateSlippageInput = function validateSlippageInput(str) {\n  if (str === '') {\n    return {\n      isValid: true\n    };\n  }\n\n  var numberRegex = /^\\s*([0-9]+)(\\.\\d+)?\\s*$/;\n\n  if (!str.match(numberRegex)) {\n    return {\n      isValid: false,\n      message:\n      /*i18n*/\n      i18n._(\"Enter a valid slippage percentage\")\n    };\n  }\n\n  var rawSlippage = parseSlippageInput(str);\n\n  if (Number.isNaN(rawSlippage)) {\n    return {\n      isValid: false,\n      message:\n      /*i18n*/\n      i18n._(\"Enter a valid slippage percentage\")\n    };\n  }\n\n  if (rawSlippage < 0) {\n    return {\n      isValid: false,\n      message:\n      /*i18n*/\n      i18n._(\"Enter a valid slippage percentage\")\n    };\n  } else if (rawSlippage < 50) {\n    return {\n      isValid: true,\n      message:\n      /*i18n*/\n      i18n._(\"Your transaction may fail\")\n    };\n  } else if (rawSlippage > MAX_SLIPPAGE_IN_BIPS) {\n    return {\n      isValid: false,\n      message:\n      /*i18n*/\n      i18n._(\"Enter a smaller slippage percentage\")\n    };\n  } else if (rawSlippage > 500) {\n    return {\n      isValid: true,\n      message:\n      /*i18n*/\n      i18n._(\"Your transaction may be frontrun\")\n    };\n  }\n\n  return {\n    isValid: true\n  };\n};\n\nvar EmojiContainer = styled.span.withConfig({\n  displayName: \"SlippageSetting__EmojiContainer\",\n  componentId: \"sc-1k2ddyl-0\"\n})([\"flex:0 0 12px;\", \"\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.mediaWidth.upToSmall(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n        display: none;\\n  \"])));\n});\n_c = EmojiContainer;\nvar SlippageOptionCSS = css([\"flex:0 0 24%;height:100%;padding:0;border:1px solid transparent;border-radius:20px;background-color:\", \";color:\", \";text-align:center;font-size:12px;font-weight:400;line-height:16px;outline:none;cursor:pointer;:hover{border:1px solid \", \";}:focus{border:1px solid \", \";}&[data-active='true']{background-color:\", \";color:\", \";font-weight:500;}\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.tabBackgound;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.subText;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme.bg4;\n}, function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.primary;\n}, function (_ref6) {\n  var theme = _ref6.theme;\n  return theme.tabActive;\n}, function (_ref7) {\n  var theme = _ref7.theme;\n  return theme.text;\n});\nvar DefaultSlippageOption = styled.button.withConfig({\n  displayName: \"SlippageSetting__DefaultSlippageOption\",\n  componentId: \"sc-1k2ddyl-1\"\n})([\"\", \" flex:0 0 18%;@media only screen and (max-width:375px){font-size:10px;flex:0 0 15%;}\"], SlippageOptionCSS);\n_c2 = DefaultSlippageOption;\nvar CustomSlippageOption = styled.div.withConfig({\n  displayName: \"SlippageSetting__CustomSlippageOption\",\n  componentId: \"sc-1k2ddyl-2\"\n})([\"\", \" display:inline-flex;align-items:center;padding:0 4px;column-gap:2px;flex:1;input{width:100%;height:100%;border:0px;border-radius:inherit;color:inherit;background:transparent;outline:none;text-align:right;&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;}}&[data-active='true']{color:\", \";font-weight:500;}&[data-warning='true']{border:1px solid;border-color:\", \";\", \"{color:\", \";}}&[data-error='true']{border:1px solid;border-color:\", \";}\"], SlippageOptionCSS, function (_ref8) {\n  var theme = _ref8.theme;\n  return theme.text;\n}, function (_ref9) {\n  var theme = _ref9.theme;\n  return theme.warning;\n}, EmojiContainer, function (_ref10) {\n  var theme = _ref10.theme;\n  return theme.warning;\n}, function (_ref11) {\n  var theme = _ref11.theme;\n  return theme.red1;\n});\n_c3 = CustomSlippageOption;\nvar Message = styled.div.withConfig({\n  displayName: \"SlippageSetting__Message\",\n  componentId: \"sc-1k2ddyl-3\"\n})([\"font-size:12px;font-weight:400;line-height:16px;&[data-warning='true']{color:\", \";}&[data-error='true']{color:\", \";}\"], function (_ref12) {\n  var theme = _ref12.theme;\n  return theme.warning;\n}, function (_ref13) {\n  var theme = _ref13.theme;\n  return theme.red1;\n});\n_c4 = Message;\nvar CustomInput = styled.input.withConfig({\n  displayName: \"SlippageSetting__CustomInput\",\n  componentId: \"sc-1k2ddyl-4\"\n})([\"::placeholder{font-size:12px;}@media only screen and (max-width:375px){font-size:10px;}\"]);\n_c5 = CustomInput;\n\nvar SlippageSetting = function SlippageSetting() {\n  _s();\n\n  var theme = useTheme();\n  var inputRef = useRef(null); // rawSlippage = 10\n  // slippage = 10 / 10_000 = 0.001 = 0.1%\n\n  var _useUserSlippageToler = useUserSlippageTolerance(),\n      _useUserSlippageToler2 = _slicedToArray(_useUserSlippageToler, 2),\n      rawSlippage = _useUserSlippageToler2[0],\n      setRawSlippage = _useUserSlippageToler2[1];\n\n  var isCustomOptionActive = !DefaultSlippages.includes(rawSlippage);\n\n  var _useState = useState(isCustomOptionActive ? (rawSlippage / 100).toFixed(2) : ''),\n      _useState2 = _slicedToArray(_useState, 2),\n      slippageInput = _useState2[0],\n      setSlippageInput = _useState2[1];\n\n  var _validateSlippageInpu = validateSlippageInput(slippageInput || String(rawSlippage / 100)),\n      isValid = _validateSlippageInpu.isValid,\n      message = _validateSlippageInpu.message;\n\n  var isWarning = isValid && !!message;\n  var isError = !isValid;\n\n  var _useMixpanel = useMixpanel(),\n      mixpanelHandler = _useMixpanel.mixpanelHandler;\n\n  var handleCommitChange = function handleCommitChange() {\n    if (!isValid || slippageInput === '') {\n      return;\n    }\n\n    var newRawSlippage = parseSlippageInput(slippageInput);\n\n    if (Number.isNaN(newRawSlippage)) {\n      return;\n    }\n\n    mixpanelHandler(MIXPANEL_TYPE.SLIPPAGE_CHANGED, {\n      new_slippage: newRawSlippage / 100\n    });\n    setRawSlippage(newRawSlippage);\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.key === 'Enter') {\n      var _inputRef$current;\n\n      handleCommitChange();\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.blur();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    sx: {\n      flexDirection: 'column',\n      rowGap: '8px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        sx: {\n          fontSize: isMobile ? '14px' : '12px',\n          color: theme.text,\n          fontWeight: 400,\n          lineHeight: '16px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Max Slippage\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n        text:\n        /*i18n*/\n        i18n._(\"Transaction will revert if there is an adverse rate change that is higher than this %\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        justifyContent: 'space-between',\n        width: '100%',\n        maxWidth: '100%',\n        height: '28px',\n        borderRadius: '20px',\n        background: theme.tabBackgound,\n        padding: '2px'\n      },\n      children: [DefaultSlippages.map(function (slp) {\n        return /*#__PURE__*/_jsxDEV(DefaultSlippageOption, {\n          onClick: function onClick() {\n            setSlippageInput('');\n            setRawSlippage(slp);\n            mixpanelHandler(MIXPANEL_TYPE.SLIPPAGE_CHANGED, {\n              new_slippage: slp / 100\n            });\n          },\n          \"data-active\": rawSlippage === slp,\n          children: [slp / 100, \"%\"]\n        }, slp, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, _this);\n      }), /*#__PURE__*/_jsxDEV(CustomSlippageOption, {\n        \"data-active\": isCustomOptionActive,\n        \"data-warning\": isCustomOptionActive && isWarning,\n        \"data-error\": isCustomOptionActive && isError,\n        children: [isCustomOptionActive && isWarning && /*#__PURE__*/_jsxDEV(EmojiContainer, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"warning\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(CustomInput, {\n          ref: inputRef,\n          placeholder:\n          /*i18n*/\n          i18n._(\"Custom\"),\n          value: slippageInput,\n          onChange: function onChange(e) {\n            return setSlippageInput(e.target.value);\n          },\n          onBlur: handleCommitChange,\n          onKeyUp: handleKeyUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Text, {\n          as: \"span\",\n          sx: {\n            flex: '0 0 12px'\n          },\n          children: \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, _this), !!message && /*#__PURE__*/_jsxDEV(Message, {\n      \"data-warning\": isWarning,\n      \"data-error\": isError,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(SlippageSetting, \"Ns6W+shf9BbW14Xtl+YO4GngIy8=\", false, function () {\n  return [useTheme, useUserSlippageTolerance, useMixpanel];\n});\n\n_c6 = SlippageSetting;\nexport default SlippageSetting;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"EmojiContainer\");\n$RefreshReg$(_c2, \"DefaultSlippageOption\");\n$RefreshReg$(_c3, \"CustomSlippageOption\");\n$RefreshReg$(_c4, \"Message\");\n$RefreshReg$(_c5, \"CustomInput\");\n$RefreshReg$(_c6, \"SlippageSetting\");","map":{"version":3,"names":["React","useRef","useState","isMobile","Flex","Text","styled","css","QuestionHelper","MAX_SLIPPAGE_IN_BIPS","useMixpanel","MIXPANEL_TYPE","useTheme","useUserSlippageTolerance","DefaultSlippages","parseSlippageInput","str","Math","round","Number","parseFloat","validateSlippageInput","isValid","numberRegex","match","message","rawSlippage","isNaN","EmojiContainer","span","theme","mediaWidth","upToSmall","SlippageOptionCSS","tabBackgound","subText","bg4","primary","tabActive","text","DefaultSlippageOption","button","CustomSlippageOption","div","warning","red1","Message","CustomInput","input","SlippageSetting","inputRef","setRawSlippage","isCustomOptionActive","includes","toFixed","slippageInput","setSlippageInput","String","isWarning","isError","mixpanelHandler","handleCommitChange","newRawSlippage","SLIPPAGE_CHANGED","new_slippage","handleKeyUp","e","key","current","blur","flexDirection","rowGap","alignItems","fontSize","color","fontWeight","lineHeight","justifyContent","width","maxWidth","height","borderRadius","background","padding","map","slp","target","value","flex"],"sources":["/Applications/XAMPP/voxel-interface/src/components/swapv2/SwapSettingsPanel/SlippageSetting.tsx"],"sourcesContent":["import { Trans, t } from '@lingui/macro'\nimport React, { useRef, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { Flex, Text } from 'rebass'\nimport styled, { css } from 'styled-components'\n\nimport QuestionHelper from 'components/QuestionHelper'\nimport { MAX_SLIPPAGE_IN_BIPS } from 'constants/index'\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\nimport useTheme from 'hooks/useTheme'\nimport { useUserSlippageTolerance } from 'state/user/hooks'\n\nconst DefaultSlippages = [5, 10, 50, 100]\n\nconst parseSlippageInput = (str: string): number => Math.round(Number.parseFloat(str) * 100)\n\n// isValid = true means it's OK to process with the number with an extra parse\n// isValid = true with message means warning\n// isValid = false with/without message means error\nconst validateSlippageInput = (str: string): { isValid: boolean; message?: string } => {\n  if (str === '') {\n    return {\n      isValid: true,\n    }\n  }\n\n  const numberRegex = /^\\s*([0-9]+)(\\.\\d+)?\\s*$/\n  if (!str.match(numberRegex)) {\n    return {\n      isValid: false,\n      message: t`Enter a valid slippage percentage`,\n    }\n  }\n\n  const rawSlippage = parseSlippageInput(str)\n  if (Number.isNaN(rawSlippage)) {\n    return {\n      isValid: false,\n      message: t`Enter a valid slippage percentage`,\n    }\n  }\n\n  if (rawSlippage < 0) {\n    return {\n      isValid: false,\n      message: t`Enter a valid slippage percentage`,\n    }\n  } else if (rawSlippage < 50) {\n    return {\n      isValid: true,\n      message: t`Your transaction may fail`,\n    }\n  } else if (rawSlippage > MAX_SLIPPAGE_IN_BIPS) {\n    return {\n      isValid: false,\n      message: t`Enter a smaller slippage percentage`,\n    }\n  } else if (rawSlippage > 500) {\n    return {\n      isValid: true,\n      message: t`Your transaction may be frontrun`,\n    }\n  }\n\n  return {\n    isValid: true,\n  }\n}\n\nconst EmojiContainer = styled.span`\n  flex: 0 0 12px;\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n        display: none;\n  `}\n`\n\nconst SlippageOptionCSS = css`\n  flex: 0 0 24%;\n  height: 100%;\n  padding: 0;\n  border: 1px solid transparent;\n  border-radius: 20px;\n\n  background-color: ${({ theme }) => theme.tabBackgound};\n  color: ${({ theme }) => theme.subText};\n  text-align: center;\n\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n\n  outline: none;\n  cursor: pointer;\n\n  :hover {\n    border: 1px solid ${({ theme }) => theme.bg4};\n  }\n  :focus {\n    border: 1px solid ${({ theme }) => theme.primary};\n  }\n\n  &[data-active='true'] {\n    background-color: ${({ theme }) => theme.tabActive};\n    color: ${({ theme }) => theme.text};\n\n    font-weight: 500;\n  }\n`\nconst DefaultSlippageOption = styled.button`\n  ${SlippageOptionCSS}\n  flex: 0 0 18%;\n  @media only screen and (max-width: 375px) {\n    font-size: 10px;\n    flex: 0 0 15%;\n  }\n`\n\nconst CustomSlippageOption = styled.div`\n  ${SlippageOptionCSS}\n\n  display: inline-flex;\n  align-items: center;\n  padding: 0 4px;\n  column-gap: 2px;\n  flex: 1;\n  input {\n    width: 100%;\n    height: 100%;\n    border: 0px;\n    border-radius: inherit;\n\n    color: inherit;\n    background: transparent;\n    outline: none;\n    text-align: right;\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n    }\n  }\n\n  &[data-active='true'] {\n    color: ${({ theme }) => theme.text};\n    font-weight: 500;\n  }\n\n  &[data-warning='true'] {\n    border: 1px solid;\n    border-color: ${({ theme }) => theme.warning};\n\n    ${EmojiContainer} {\n      color: ${({ theme }) => theme.warning};\n    }\n  }\n\n  &[data-error='true'] {\n    border: 1px solid;\n    border-color: ${({ theme }) => theme.red1};\n  }\n`\n\nconst Message = styled.div`\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n\n  &[data-warning='true'] {\n    color: ${({ theme }) => theme.warning};\n  }\n\n  &[data-error='true'] {\n    color: ${({ theme }) => theme.red1};\n  }\n`\n\nconst CustomInput = styled.input`\n  ::placeholder {\n    font-size: 12px;\n  }\n  @media only screen and (max-width: 375px) {\n    font-size: 10px;\n  }\n`\nconst SlippageSetting: React.FC = () => {\n  const theme = useTheme()\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  // rawSlippage = 10\n  // slippage = 10 / 10_000 = 0.001 = 0.1%\n  const [rawSlippage, setRawSlippage] = useUserSlippageTolerance()\n\n  const isCustomOptionActive = !DefaultSlippages.includes(rawSlippage)\n  const [slippageInput, setSlippageInput] = useState(isCustomOptionActive ? (rawSlippage / 100).toFixed(2) : '')\n  const { isValid, message } = validateSlippageInput(slippageInput || String(rawSlippage / 100))\n\n  const isWarning = isValid && !!message\n  const isError = !isValid\n  const { mixpanelHandler } = useMixpanel()\n  const handleCommitChange = () => {\n    if (!isValid || slippageInput === '') {\n      return\n    }\n\n    const newRawSlippage = parseSlippageInput(slippageInput)\n    if (Number.isNaN(newRawSlippage)) {\n      return\n    }\n    mixpanelHandler(MIXPANEL_TYPE.SLIPPAGE_CHANGED, { new_slippage: newRawSlippage / 100 })\n\n    setRawSlippage(newRawSlippage)\n  }\n\n  const handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      handleCommitChange()\n      inputRef.current?.blur()\n    }\n  }\n\n  return (\n    <Flex\n      sx={{\n        flexDirection: 'column',\n        rowGap: '8px',\n      }}\n    >\n      <Flex\n        sx={{\n          alignItems: 'center',\n        }}\n      >\n        <Text\n          sx={{\n            fontSize: isMobile ? '14px' : '12px',\n            color: theme.text,\n            fontWeight: 400,\n            lineHeight: '16px',\n          }}\n        >\n          <Trans>Max Slippage</Trans>\n        </Text>\n        <QuestionHelper\n          text={t`Transaction will revert if there is an adverse rate change that is higher than this %`}\n        />\n      </Flex>\n\n      <Flex\n        sx={{\n          justifyContent: 'space-between',\n          width: '100%',\n          maxWidth: '100%',\n          height: '28px',\n          borderRadius: '20px',\n          background: theme.tabBackgound,\n          padding: '2px',\n        }}\n      >\n        {DefaultSlippages.map(slp => (\n          <DefaultSlippageOption\n            key={slp}\n            onClick={() => {\n              setSlippageInput('')\n              setRawSlippage(slp)\n              mixpanelHandler(MIXPANEL_TYPE.SLIPPAGE_CHANGED, { new_slippage: slp / 100 })\n            }}\n            data-active={rawSlippage === slp}\n          >\n            {slp / 100}%\n          </DefaultSlippageOption>\n        ))}\n\n        <CustomSlippageOption\n          data-active={isCustomOptionActive}\n          data-warning={isCustomOptionActive && isWarning}\n          data-error={isCustomOptionActive && isError}\n        >\n          {isCustomOptionActive && isWarning && (\n            <EmojiContainer>\n              <span role=\"img\" aria-label=\"warning\">\n                ⚠️\n              </span>\n            </EmojiContainer>\n          )}\n          <CustomInput\n            ref={inputRef}\n            placeholder={t`Custom`}\n            value={slippageInput}\n            onChange={e => setSlippageInput(e.target.value)}\n            onBlur={handleCommitChange}\n            onKeyUp={handleKeyUp}\n          />\n          <Text\n            as=\"span\"\n            sx={{\n              flex: '0 0 12px',\n            }}\n          >\n            %\n          </Text>\n        </CustomSlippageOption>\n      </Flex>\n\n      {!!message && (\n        <Message data-warning={isWarning} data-error={isError}>\n          {message}\n        </Message>\n      )}\n    </Flex>\n  )\n}\n\nexport default SlippageSetting\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}