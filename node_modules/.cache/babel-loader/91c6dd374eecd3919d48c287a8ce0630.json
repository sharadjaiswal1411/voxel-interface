{"ast":null,"code":"import _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/LiveChart/LineChart.tsx\",\n    _s = $RefreshSig$(),\n    _this = this,\n    _s2 = $RefreshSig$();\n\nimport { format } from 'date-fns';\nimport React, { useEffect, useMemo } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport styled from 'styled-components';\nimport { LiveDataTimeframeEnum } from 'hooks/useBasicChartData';\nimport useTheme from 'hooks/useTheme';\nimport { toKInChart } from 'utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar AreaChartWrapper = styled(AreaChart).withConfig({\n  displayName: \"LineChart__AreaChartWrapper\",\n  componentId: \"sc-3vpwry-0\"\n})([\"svg{overflow-x:visible;}\"]);\n_c = AreaChartWrapper;\n\nvar getHoverDateFormat = function getHoverDateFormat(timeFrame) {\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return 'p (O)';\n\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return 'p (O)';\n\n    case LiveDataTimeframeEnum.DAY:\n      return 'p MMM d (O)';\n\n    case LiveDataTimeframeEnum.WEEK:\n      return 'p MMM d (O)';\n\n    case LiveDataTimeframeEnum.MONTH:\n      return 'MMM d (O)';\n\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return 'MMM d (O)';\n\n    default:\n      return 'p MMM d (O)';\n  }\n};\n\nvar getAxisDateFormat = function getAxisDateFormat(timeFrame) {\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return 'p';\n\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return 'p';\n\n    case LiveDataTimeframeEnum.DAY:\n      return 'p';\n\n    case LiveDataTimeframeEnum.WEEK:\n      return 'MMM d';\n\n    case LiveDataTimeframeEnum.MONTH:\n      return 'MMM d';\n\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return 'MMM d';\n\n    default:\n      return 'p MMM d';\n  }\n};\n\nvar HoverUpdater = function HoverUpdater(_ref) {\n  _s();\n\n  var payload = _ref.payload,\n      setHoverValue = _ref.setHoverValue;\n  useEffect(function () {\n    setHoverValue(payload.value);\n  }, [payload.value, payload.time, setHoverValue]);\n  return null;\n};\n\n_s(HoverUpdater, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = HoverUpdater;\n\nvar CustomizedCursor = function CustomizedCursor(props) {\n  var payload = props.payload,\n      points = props.points,\n      timeFrame = props.timeFrame,\n      width = props.width;\n  var isTextAnchorStart = width - points[0].x > 100;\n\n  if (payload) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"text\", {\n        x: points[0].x + (isTextAnchorStart ? 5 : -5),\n        y: 12,\n        fill: \"#6C7284\",\n        fontSize: 12,\n        textAnchor: isTextAnchorStart ? 'start' : 'end',\n        children: format(payload[0].payload.time, getHoverDateFormat(timeFrame))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"line\", {\n        x1: points[0].x,\n        y1: 0,\n        x2: points[1].x,\n        y2: points[1].y,\n        stroke: \"#6C7284\",\n        width: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  }\n};\n\n_c3 = CustomizedCursor;\nvar ONE_DAY_TIMESTAMP = 86400000;\n\nvar getFirstTimestamp = function getFirstTimestamp(timeFrame) {\n  var nowTimestamp = new Date().getTime();\n\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return nowTimestamp - 3600000;\n\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return nowTimestamp - 1440000;\n\n    case LiveDataTimeframeEnum.DAY:\n      return nowTimestamp - ONE_DAY_TIMESTAMP;\n\n    case LiveDataTimeframeEnum.WEEK:\n      return nowTimestamp - 7 * ONE_DAY_TIMESTAMP;\n\n    case LiveDataTimeframeEnum.MONTH:\n      return nowTimestamp - 30 * ONE_DAY_TIMESTAMP;\n\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return nowTimestamp - 180 * ONE_DAY_TIMESTAMP;\n\n    default:\n      return nowTimestamp - 7 * ONE_DAY_TIMESTAMP;\n  }\n};\n\nvar addZeroData = function addZeroData(data, timeFrame) {\n  var timestamp = getFirstTimestamp(timeFrame);\n  var zeroData = [];\n\n  while (((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.time) - timestamp > ONE_DAY_TIMESTAMP) {\n    var _data$;\n\n    zeroData.push({\n      time: timestamp,\n      value: '0'\n    });\n    timestamp += ONE_DAY_TIMESTAMP;\n  }\n\n  return [].concat(zeroData, _toConsumableArray(data));\n};\n\nvar LineChart = function LineChart(_ref2) {\n  _s2();\n\n  var _formattedData$, _formattedData;\n\n  var data = _ref2.data,\n      setHoverValue = _ref2.setHoverValue,\n      color = _ref2.color,\n      timeFrame = _ref2.timeFrame,\n      _ref2$minHeight = _ref2.minHeight,\n      minHeight = _ref2$minHeight === void 0 ? 292 : _ref2$minHeight,\n      showYAsis = _ref2.showYAsis,\n      _ref2$unitYAsis = _ref2.unitYAsis,\n      unitYAsis = _ref2$unitYAsis === void 0 ? '' : _ref2$unitYAsis;\n  var theme = useTheme();\n  var formattedData = useMemo(function () {\n    return addZeroData(data.filter(function (item) {\n      return !!item.value;\n    }), timeFrame);\n  }, [data, timeFrame]);\n  var dataMax = useMemo(function () {\n    return Math.max.apply(Math, _toConsumableArray(formattedData.map(function (item) {\n      return parseFloat(item.value);\n    })));\n  }, [formattedData]);\n  var dataMin = useMemo(function () {\n    return Math.min.apply(Math, _toConsumableArray(formattedData.map(function (item) {\n      return parseFloat(item.value);\n    })));\n  }, [formattedData]);\n  var ticks = useMemo(function () {\n    if (formattedData && formattedData.length > 0) {\n      var firstTime = formattedData[0].time;\n      var lastTime = formattedData[formattedData.length - 1].time;\n      var length = lastTime - firstTime;\n      var padding = 0.06;\n      var counts = 6;\n\n      if (isMobile) {\n        padding = 0.1;\n        counts = 4;\n      }\n\n      var positions = [];\n\n      for (var i = 0; i < counts; i++) {\n        positions.push(padding + i * (1 - 2 * padding) / (counts - 1));\n      }\n\n      return positions.map(function (v) {\n        return firstTime + length * v;\n      });\n    }\n\n    return [];\n  }, [formattedData]);\n  return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n    minHeight: isMobile ? 300 : minHeight,\n    height: \"100%\",\n    children: formattedData && formattedData.length > 0 ? /*#__PURE__*/_jsxDEV(AreaChartWrapper, {\n      data: formattedData,\n      margin: {\n        top: 5,\n        right: 0,\n        left: 0,\n        bottom: 5\n      },\n      onMouseLeave: function onMouseLeave() {\n        return setHoverValue(null);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n        children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n          id: \"colorUv\",\n          x1: \"0\",\n          y1: \"0\",\n          x2: \"0\",\n          y2: \"1\",\n          children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"0%\",\n            stopColor: color,\n            stopOpacity: 0.4\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"stop\", {\n            offset: \"100%\",\n            stopColor: color,\n            stopOpacity: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(XAxis, {\n        dataKey: \"time\",\n        fontSize: \"12px\",\n        axisLine: false,\n        tickLine: false,\n        domain: [((_formattedData$ = formattedData[0]) === null || _formattedData$ === void 0 ? void 0 : _formattedData$.time) || 'auto', ((_formattedData = formattedData[formattedData.length - 1]) === null || _formattedData === void 0 ? void 0 : _formattedData.time) || 'auto'],\n        ticks: ticks,\n        tick: {\n          fill: theme.subText,\n          fontWeight: 400\n        },\n        type: \"number\",\n        textAnchor: \"middle\",\n        tickFormatter: function tickFormatter(time) {\n          return typeof time === 'number' ? format(new Date(time), getAxisDateFormat(timeFrame)) : '0';\n        },\n        interval: 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(YAxis, {\n        width: dataMin >= 0.1 ? 69 : 105,\n        dataKey: \"value\",\n        fontSize: \"12px\",\n        tickLine: false,\n        axisLine: false,\n        tick: {\n          fill: theme.subText,\n          fontWeight: 400\n        },\n        tickFormatter: function tickFormatter(tick) {\n          return toKInChart(tick, unitYAsis);\n        },\n        ticks: [dataMin, dataMin + 1 * (dataMax - dataMin) / 4, dataMin + 2 * (dataMax - dataMin) / 4, dataMin + 3 * (dataMax - dataMin) / 4, dataMin + 4 * (dataMax - dataMin) / 4, dataMin + 5 * (dataMax - dataMin) / 4],\n        orientation: \"right\",\n        domain: [dataMin, 5 * (dataMax - dataMin) / 4],\n        hide: !showYAsis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        contentStyle: {\n          display: 'none'\n        },\n        formatter: function formatter(tooltipValue, name, props) {\n          return /*#__PURE__*/_jsxDEV(HoverUpdater, {\n            payload: props.payload,\n            setHoverValue: setHoverValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, _this);\n        },\n        cursor: /*#__PURE__*/_jsxDEV(CustomizedCursor, {\n          timeFrame: timeFrame\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Area, {\n        type: \"monotone\",\n        dataKey: \"value\",\n        stroke: color,\n        fill: \"url(#colorUv)\",\n        strokeWidth: 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, _this);\n};\n\n_s2(LineChart, \"AFfRllPSV3cRkbSbwV8ldjfUmcY=\", false, function () {\n  return [useTheme];\n});\n\n_c4 = LineChart;\nexport default _c5 = /*#__PURE__*/React.memo(LineChart);\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"AreaChartWrapper\");\n$RefreshReg$(_c2, \"HoverUpdater\");\n$RefreshReg$(_c3, \"CustomizedCursor\");\n$RefreshReg$(_c4, \"LineChart\");\n$RefreshReg$(_c5, \"%default%\");","map":{"version":3,"names":["format","React","useEffect","useMemo","isMobile","Area","AreaChart","ResponsiveContainer","Tooltip","XAxis","YAxis","styled","LiveDataTimeframeEnum","useTheme","toKInChart","AreaChartWrapper","getHoverDateFormat","timeFrame","HOUR","FOUR_HOURS","DAY","WEEK","MONTH","SIX_MONTHS","getAxisDateFormat","HoverUpdater","payload","setHoverValue","value","time","CustomizedCursor","props","points","width","isTextAnchorStart","x","y","ONE_DAY_TIMESTAMP","getFirstTimestamp","nowTimestamp","Date","getTime","addZeroData","data","timestamp","zeroData","push","LineChart","color","minHeight","showYAsis","unitYAsis","theme","formattedData","filter","item","dataMax","Math","max","map","parseFloat","dataMin","min","ticks","length","firstTime","lastTime","padding","counts","positions","i","v","top","right","left","bottom","fill","subText","fontWeight","tick","display","tooltipValue","name","memo"],"sources":["/Applications/XAMPP/voxel-interface/src/components/LiveChart/LineChart.tsx"],"sourcesContent":["import { format } from 'date-fns'\nimport React, { useEffect, useMemo } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts'\nimport styled from 'styled-components'\n\nimport { LiveDataTimeframeEnum } from 'hooks/useBasicChartData'\nimport useTheme from 'hooks/useTheme'\nimport { toKInChart } from 'utils'\n\nconst AreaChartWrapper = styled(AreaChart)`\n  svg {\n    overflow-x: visible;\n  }\n`\nconst getHoverDateFormat = (timeFrame: LiveDataTimeframeEnum | undefined) => {\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return 'p (O)'\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return 'p (O)'\n    case LiveDataTimeframeEnum.DAY:\n      return 'p MMM d (O)'\n    case LiveDataTimeframeEnum.WEEK:\n      return 'p MMM d (O)'\n    case LiveDataTimeframeEnum.MONTH:\n      return 'MMM d (O)'\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return 'MMM d (O)'\n    default:\n      return 'p MMM d (O)'\n  }\n}\n\nconst getAxisDateFormat = (timeFrame: LiveDataTimeframeEnum | undefined) => {\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return 'p'\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return 'p'\n    case LiveDataTimeframeEnum.DAY:\n      return 'p'\n    case LiveDataTimeframeEnum.WEEK:\n      return 'MMM d'\n    case LiveDataTimeframeEnum.MONTH:\n      return 'MMM d'\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return 'MMM d'\n    default:\n      return 'p MMM d'\n  }\n}\n\nconst HoverUpdater = ({\n  payload,\n  setHoverValue,\n}: {\n  payload: any\n  setHoverValue: React.Dispatch<React.SetStateAction<number | null>>\n}) => {\n  useEffect(() => {\n    setHoverValue(payload.value)\n  }, [payload.value, payload.time, setHoverValue])\n\n  return null\n}\n\nconst CustomizedCursor = (props: any) => {\n  const { payload, points, timeFrame, width } = props\n  const isTextAnchorStart = width - points[0].x > 100\n  if (payload) {\n    return (\n      <>\n        <text\n          x={points[0].x + (isTextAnchorStart ? 5 : -5)}\n          y={12}\n          fill=\"#6C7284\"\n          fontSize={12}\n          textAnchor={isTextAnchorStart ? 'start' : 'end'}\n        >\n          {format(payload[0].payload.time, getHoverDateFormat(timeFrame))}\n        </text>\n        <line x1={points[0].x} y1={0} x2={points[1].x} y2={points[1].y} stroke=\"#6C7284\" width={2} />\n      </>\n    )\n  } else {\n    return <></>\n  }\n}\n\nconst ONE_DAY_TIMESTAMP = 86400000\n\nconst getFirstTimestamp = (timeFrame: LiveDataTimeframeEnum | undefined) => {\n  const nowTimestamp = new Date().getTime()\n  switch (timeFrame) {\n    case LiveDataTimeframeEnum.HOUR:\n      return nowTimestamp - 3600000\n    case LiveDataTimeframeEnum.FOUR_HOURS:\n      return nowTimestamp - 1440000\n    case LiveDataTimeframeEnum.DAY:\n      return nowTimestamp - ONE_DAY_TIMESTAMP\n    case LiveDataTimeframeEnum.WEEK:\n      return nowTimestamp - 7 * ONE_DAY_TIMESTAMP\n    case LiveDataTimeframeEnum.MONTH:\n      return nowTimestamp - 30 * ONE_DAY_TIMESTAMP\n    case LiveDataTimeframeEnum.SIX_MONTHS:\n      return nowTimestamp - 180 * ONE_DAY_TIMESTAMP\n    default:\n      return nowTimestamp - 7 * ONE_DAY_TIMESTAMP\n  }\n}\n\nconst addZeroData = (data: { time: number; value: string }[], timeFrame: LiveDataTimeframeEnum | undefined) => {\n  let timestamp = getFirstTimestamp(timeFrame)\n  const zeroData = []\n\n  while (data[0]?.time - timestamp > ONE_DAY_TIMESTAMP) {\n    zeroData.push({ time: timestamp, value: '0' })\n    timestamp += ONE_DAY_TIMESTAMP\n  }\n  return [...zeroData, ...data]\n}\n\ninterface LineChartProps {\n  data: { time: number; value: string }[]\n  setHoverValue: React.Dispatch<React.SetStateAction<number | null>>\n  color: string\n  timeFrame?: LiveDataTimeframeEnum\n  minHeight?: number\n  showYAsis?: boolean\n  unitYAsis?: string\n}\n\nconst LineChart = ({\n  data,\n  setHoverValue,\n  color,\n  timeFrame,\n  minHeight = 292,\n  showYAsis,\n  unitYAsis = '',\n}: LineChartProps) => {\n  const theme = useTheme()\n  const formattedData = useMemo(() => {\n    return addZeroData(\n      data.filter(item => !!item.value),\n      timeFrame,\n    )\n  }, [data, timeFrame])\n  const dataMax = useMemo(() => Math.max(...formattedData.map(item => parseFloat(item.value))), [formattedData])\n  const dataMin = useMemo(() => Math.min(...formattedData.map(item => parseFloat(item.value))), [formattedData])\n  const ticks = useMemo(() => {\n    if (formattedData && formattedData.length > 0) {\n      const firstTime = formattedData[0].time\n      const lastTime = formattedData[formattedData.length - 1].time\n      const length = lastTime - firstTime\n      let padding = 0.06\n      let counts = 6\n      if (isMobile) {\n        padding = 0.1\n        counts = 4\n      }\n      const positions = []\n      for (let i = 0; i < counts; i++) {\n        positions.push(padding + (i * (1 - 2 * padding)) / (counts - 1))\n      }\n      return positions.map(v => firstTime + length * v)\n    }\n    return []\n  }, [formattedData])\n\n  return (\n    <ResponsiveContainer minHeight={isMobile ? 300 : minHeight} height=\"100%\">\n      {formattedData && formattedData.length > 0 ? (\n        <AreaChartWrapper\n          data={formattedData}\n          margin={{\n            top: 5,\n            right: 0,\n            left: 0,\n            bottom: 5,\n          }}\n          onMouseLeave={() => setHoverValue(null)}\n        >\n          <defs>\n            <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n              <stop offset=\"0%\" stopColor={color} stopOpacity={0.4} />\n              <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\n            </linearGradient>\n          </defs>\n          <XAxis\n            dataKey=\"time\"\n            fontSize=\"12px\"\n            axisLine={false}\n            tickLine={false}\n            domain={[formattedData[0]?.time || 'auto', formattedData[formattedData.length - 1]?.time || 'auto']}\n            ticks={ticks}\n            tick={{ fill: theme.subText, fontWeight: 400 }}\n            type=\"number\"\n            textAnchor=\"middle\"\n            tickFormatter={time => {\n              return typeof time === 'number' ? format(new Date(time), getAxisDateFormat(timeFrame)) : '0'\n            }}\n            interval={0}\n          />\n          <YAxis\n            width={dataMin >= 0.1 ? 69 : 105}\n            dataKey=\"value\"\n            fontSize=\"12px\"\n            tickLine={false}\n            axisLine={false}\n            tick={{ fill: theme.subText, fontWeight: 400 }}\n            tickFormatter={tick => toKInChart(tick, unitYAsis)}\n            ticks={[\n              dataMin,\n              dataMin + (1 * (dataMax - dataMin)) / 4,\n              dataMin + (2 * (dataMax - dataMin)) / 4,\n              dataMin + (3 * (dataMax - dataMin)) / 4,\n              dataMin + (4 * (dataMax - dataMin)) / 4,\n              dataMin + (5 * (dataMax - dataMin)) / 4,\n            ]}\n            orientation=\"right\"\n            domain={[dataMin, (5 * (dataMax - dataMin)) / 4]}\n            hide={!showYAsis}\n          />\n          <Tooltip\n            contentStyle={{ display: 'none' }}\n            formatter={(tooltipValue: any, name: string, props: any) => (\n              <HoverUpdater payload={props.payload} setHoverValue={setHoverValue} />\n            )}\n            cursor={<CustomizedCursor timeFrame={timeFrame} />}\n          />\n          <Area type=\"monotone\" dataKey=\"value\" stroke={color} fill=\"url(#colorUv)\" strokeWidth={2} />\n        </AreaChartWrapper>\n      ) : (\n        <></>\n      )}\n    </ResponsiveContainer>\n  )\n}\n\nexport default React.memo(LineChart)\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}