{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { MaxUint256 } from '@ethersproject/constants';\nimport JSBI from 'jsbi';\nimport { useCallback, useMemo } from 'react';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { nativeOnChain } from 'constants/tokens';\nimport { useTokenAllowance } from 'data/Allowances';\nimport { Field } from 'state/swap/actions';\nimport { useHasPendingApproval, useTransactionAdder } from 'state/transactions/hooks';\nimport { calculateGasMargin } from 'utils';\nimport { computeSlippageAdjustedAmounts } from 'utils/prices';\nimport { useActiveWeb3React } from './index';\nimport { useTokenContract } from './useContract';\nexport var ApprovalState; // returns a variable indicating the state of the approval and a function which approves if necessary or early returns\n\n(function (ApprovalState) {\n  ApprovalState[ApprovalState[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n  ApprovalState[ApprovalState[\"NOT_APPROVED\"] = 1] = \"NOT_APPROVED\";\n  ApprovalState[ApprovalState[\"PENDING\"] = 2] = \"PENDING\";\n  ApprovalState[ApprovalState[\"APPROVED\"] = 3] = \"APPROVED\";\n})(ApprovalState || (ApprovalState = {}));\n\nexport function useApproveCallback(amountToApprove, spender) {\n  _s();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      account = _useActiveWeb3React.account,\n      chainId = _useActiveWeb3React.chainId;\n\n  var token = amountToApprove === null || amountToApprove === void 0 ? void 0 : amountToApprove.currency.wrapped;\n  var currentAllowance = useTokenAllowance(token, account !== null && account !== void 0 ? account : undefined, spender);\n  var pendingApproval = useHasPendingApproval(token === null || token === void 0 ? void 0 : token.address, spender); // check the current approval status\n\n  var approvalState = useMemo(function () {\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN;\n    if (amountToApprove.currency.isNative) return ApprovalState.APPROVED; // we might not have enough data to know whether or not we need to approve\n\n    if (!currentAllowance) return ApprovalState.UNKNOWN; // Handle farm approval.\n\n    if (amountToApprove.quotient.toString() === MaxUint256.toString()) {\n      return currentAllowance.equalTo(JSBI.BigInt(0)) ? pendingApproval ? ApprovalState.PENDING : ApprovalState.NOT_APPROVED : ApprovalState.APPROVED;\n    }\n\n    return currentAllowance.lessThan(amountToApprove) ? pendingApproval ? ApprovalState.PENDING : ApprovalState.NOT_APPROVED : ApprovalState.APPROVED;\n  }, [amountToApprove, currentAllowance, pendingApproval, spender]);\n  var tokenContract = useTokenContract(token === null || token === void 0 ? void 0 : token.address);\n  var addTransactionWithType = useTransactionAdder();\n  var approve = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var useExact, needRevoke, estimatedGas;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(approvalState !== ApprovalState.NOT_APPROVED)) {\n              _context.next = 3;\n              break;\n            }\n\n            console.error('approve was called unnecessarily');\n            return _context.abrupt(\"return\");\n\n          case 3:\n            if (token) {\n              _context.next = 6;\n              break;\n            }\n\n            console.error('no token');\n            return _context.abrupt(\"return\");\n\n          case 6:\n            if (tokenContract) {\n              _context.next = 9;\n              break;\n            }\n\n            console.error('tokenContract is null');\n            return _context.abrupt(\"return\");\n\n          case 9:\n            if (amountToApprove) {\n              _context.next = 12;\n              break;\n            }\n\n            console.error('missing amount to approve');\n            return _context.abrupt(\"return\");\n\n          case 12:\n            if (spender) {\n              _context.next = 15;\n              break;\n            }\n\n            console.error('no spender');\n            return _context.abrupt(\"return\");\n\n          case 15:\n            useExact = false;\n            needRevoke = false;\n            _context.next = 19;\n            return tokenContract.estimateGas.approve(spender, MaxUint256).catch(function () {\n              // general fallback for tokens who restrict approval amounts\n              useExact = true;\n              return tokenContract.estimateGas.approve(spender, amountToApprove.quotient.toString()).catch(function () {\n                needRevoke = true;\n                return tokenContract.estimateGas.approve(spender, '0');\n              });\n            });\n\n          case 19:\n            estimatedGas = _context.sent;\n\n            if (!needRevoke) {\n              _context.next = 22;\n              break;\n            }\n\n            return _context.abrupt(\"return\", tokenContract.approve(spender, '0', {\n              gasLimit: calculateGasMargin(estimatedGas)\n            }));\n\n          case 22:\n            return _context.abrupt(\"return\", tokenContract.approve(spender, useExact ? amountToApprove.quotient.toString() : MaxUint256, {\n              gasLimit: calculateGasMargin(estimatedGas)\n            }).then(function (response) {\n              addTransactionWithType(response, {\n                type: 'Approve',\n                summary: amountToApprove.currency.isNative ? nativeOnChain(chainId).symbol : amountToApprove.currency.symbol,\n                approval: {\n                  tokenAddress: token.address,\n                  spender: spender\n                }\n              });\n            }).catch(function (error) {\n              console.debug('Failed to approve token', error);\n              throw error;\n            }));\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [approvalState, token, tokenContract, amountToApprove, spender, addTransactionWithType, chainId]);\n  return [approvalState, approve];\n} // wraps useApproveCallback in the context of a swap\n\n_s(useApproveCallback, \"rgV+V4Ku2MtZ14GAGVVEfiBmZrM=\", false, function () {\n  return [useActiveWeb3React, useTokenAllowance, useHasPendingApproval, useTokenContract, useTransactionAdder];\n});\n\nexport function useApproveCallbackFromTrade(trade) {\n  _s2();\n\n  var _NETWORKS_INFO$chainI;\n\n  var allowedSlippage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  var _useActiveWeb3React2 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React2.chainId;\n\n  var amountToApprove = useMemo(function () {\n    return trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined;\n  }, [trade, allowedSlippage]);\n  return useApproveCallback(amountToApprove, !!chainId ? (_NETWORKS_INFO$chainI = NETWORKS_INFO[chainId].classic.dynamic) === null || _NETWORKS_INFO$chainI === void 0 ? void 0 : _NETWORKS_INFO$chainI.router : undefined);\n} // wraps useApproveCallback in the context of a swap\n\n_s2(useApproveCallbackFromTrade, \"QhjbDiza7iaVN/W6uza+jjAKmt4=\", false, function () {\n  return [useActiveWeb3React, useApproveCallback];\n});\n\nexport function useApproveCallbackFromTradeV2(trade) {\n  _s3();\n\n  var allowedSlippage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  var _useActiveWeb3React3 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React3.chainId;\n\n  var amountToApprove = useMemo(function () {\n    return trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined;\n  }, [trade, allowedSlippage]);\n  return useApproveCallback(amountToApprove, !!chainId && trade !== null && trade !== void 0 && trade.routerAddress ? trade.routerAddress : undefined);\n}\n\n_s3(useApproveCallbackFromTradeV2, \"QhjbDiza7iaVN/W6uza+jjAKmt4=\", false, function () {\n  return [useActiveWeb3React, useApproveCallback];\n});\n\nexport function useProAmmApproveCallback(trade, allowedSlippage) {\n  _s4();\n\n  var _useActiveWeb3React4 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React4.chainId;\n\n  var amountToApprove = useMemo(function () {\n    return trade && trade.inputAmount.currency.isToken ? trade.maximumAmountIn(allowedSlippage) : undefined;\n  }, [trade, allowedSlippage]);\n  return useApproveCallback(amountToApprove, !!chainId ? NETWORKS_INFO[chainId].elastic.routers : undefined);\n}\n\n_s4(useProAmmApproveCallback, \"QhjbDiza7iaVN/W6uza+jjAKmt4=\", false, function () {\n  return [useActiveWeb3React, useApproveCallback];\n});","map":{"version":3,"names":["MaxUint256","JSBI","useCallback","useMemo","NETWORKS_INFO","nativeOnChain","useTokenAllowance","Field","useHasPendingApproval","useTransactionAdder","calculateGasMargin","computeSlippageAdjustedAmounts","useActiveWeb3React","useTokenContract","ApprovalState","useApproveCallback","amountToApprove","spender","account","chainId","token","currency","wrapped","currentAllowance","undefined","pendingApproval","address","approvalState","UNKNOWN","isNative","APPROVED","quotient","toString","equalTo","BigInt","PENDING","NOT_APPROVED","lessThan","tokenContract","addTransactionWithType","approve","console","error","useExact","needRevoke","estimateGas","catch","estimatedGas","gasLimit","then","response","type","summary","symbol","approval","tokenAddress","debug","useApproveCallbackFromTrade","trade","allowedSlippage","INPUT","classic","dynamic","router","useApproveCallbackFromTradeV2","routerAddress","useProAmmApproveCallback","inputAmount","isToken","maximumAmountIn","elastic","routers"],"sources":["/Applications/XAMPP/voxel-interface/src/hooks/useApproveCallback.ts"],"sourcesContent":["import { MaxUint256 } from '@ethersproject/constants'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { Trade } from '@kyberswap/ks-sdk-classic'\nimport { ChainId, Currency, CurrencyAmount, Percent, TradeType } from '@kyberswap/ks-sdk-core'\nimport { Trade as ProAmmTrade } from '@kyberswap/ks-sdk-elastic'\nimport JSBI from 'jsbi'\nimport { useCallback, useMemo } from 'react'\n\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { nativeOnChain } from 'constants/tokens'\nimport { useTokenAllowance } from 'data/Allowances'\nimport { Field } from 'state/swap/actions'\nimport { useHasPendingApproval, useTransactionAdder } from 'state/transactions/hooks'\nimport { calculateGasMargin } from 'utils'\nimport { computeSlippageAdjustedAmounts } from 'utils/prices'\n\nimport { Aggregator } from '../utils/aggregator'\nimport { useActiveWeb3React } from './index'\nimport { useTokenContract } from './useContract'\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nexport function useApproveCallback(\n  amountToApprove?: CurrencyAmount<Currency>,\n  spender?: string,\n): [ApprovalState, () => Promise<void>] {\n  const { account, chainId } = useActiveWeb3React()\n  const token = amountToApprove?.currency.wrapped\n  const currentAllowance = useTokenAllowance(token, account ?? undefined, spender)\n  const pendingApproval = useHasPendingApproval(token?.address, spender)\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    if (!amountToApprove || !spender) return ApprovalState.UNKNOWN\n    if (amountToApprove.currency.isNative) return ApprovalState.APPROVED\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance) return ApprovalState.UNKNOWN\n\n    // Handle farm approval.\n    if (amountToApprove.quotient.toString() === MaxUint256.toString()) {\n      return currentAllowance.equalTo(JSBI.BigInt(0))\n        ? pendingApproval\n          ? ApprovalState.PENDING\n          : ApprovalState.NOT_APPROVED\n        : ApprovalState.APPROVED\n    }\n\n    return currentAllowance.lessThan(amountToApprove)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED\n  }, [amountToApprove, currentAllowance, pendingApproval, spender])\n\n  const tokenContract = useTokenContract(token?.address)\n  const addTransactionWithType = useTransactionAdder()\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily')\n      return\n    }\n    if (!token) {\n      console.error('no token')\n      return\n    }\n\n    if (!tokenContract) {\n      console.error('tokenContract is null')\n      return\n    }\n\n    if (!amountToApprove) {\n      console.error('missing amount to approve')\n      return\n    }\n\n    if (!spender) {\n      console.error('no spender')\n      return\n    }\n\n    let useExact = false\n    let needRevoke = false\n\n    const estimatedGas = await tokenContract.estimateGas.approve(spender, MaxUint256).catch(() => {\n      // general fallback for tokens who restrict approval amounts\n      useExact = true\n      return tokenContract.estimateGas.approve(spender, amountToApprove.quotient.toString()).catch(() => {\n        needRevoke = true\n        return tokenContract.estimateGas.approve(spender, '0')\n      })\n    })\n\n    if (needRevoke) {\n      return tokenContract.approve(spender, '0', {\n        gasLimit: calculateGasMargin(estimatedGas),\n      })\n    }\n\n    return tokenContract\n      .approve(spender, useExact ? amountToApprove.quotient.toString() : MaxUint256, {\n        gasLimit: calculateGasMargin(estimatedGas),\n      })\n      .then((response: TransactionResponse) => {\n        addTransactionWithType(response, {\n          type: 'Approve',\n          summary: amountToApprove.currency.isNative\n            ? nativeOnChain(chainId as ChainId).symbol\n            : amountToApprove.currency.symbol,\n          approval: { tokenAddress: token.address, spender: spender },\n        })\n      })\n      .catch((error: Error) => {\n        console.debug('Failed to approve token', error)\n        throw error\n      })\n  }, [approvalState, token, tokenContract, amountToApprove, spender, addTransactionWithType, chainId])\n\n  return [approvalState, approve]\n}\n\n// wraps useApproveCallback in the context of a swap\nexport function useApproveCallbackFromTrade(trade?: Trade<Currency, Currency, TradeType>, allowedSlippage = 0) {\n  const { chainId } = useActiveWeb3React()\n  const amountToApprove = useMemo(\n    () => (trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined),\n    [trade, allowedSlippage],\n  )\n  return useApproveCallback(amountToApprove, !!chainId ? NETWORKS_INFO[chainId].classic.dynamic?.router : undefined)\n}\n\n// wraps useApproveCallback in the context of a swap\nexport function useApproveCallbackFromTradeV2(trade?: Aggregator, allowedSlippage = 0) {\n  const { chainId } = useActiveWeb3React()\n  const amountToApprove = useMemo(\n    () => (trade ? computeSlippageAdjustedAmounts(trade, allowedSlippage)[Field.INPUT] : undefined),\n    [trade, allowedSlippage],\n  )\n  return useApproveCallback(amountToApprove, !!chainId && trade?.routerAddress ? trade.routerAddress : undefined)\n}\n\nexport function useProAmmApproveCallback(\n  trade: ProAmmTrade<Currency, Currency, TradeType> | undefined,\n  allowedSlippage: Percent,\n) {\n  const { chainId } = useActiveWeb3React()\n  const amountToApprove = useMemo(\n    () => (trade && trade.inputAmount.currency.isToken ? trade.maximumAmountIn(allowedSlippage) : undefined),\n    [trade, allowedSlippage],\n  )\n  return useApproveCallback(amountToApprove, !!chainId ? NETWORKS_INFO[chainId].elastic.routers : undefined)\n}\n"],"mappings":";;;;;;;;AAAA,SAASA,UAAT,QAA2B,0BAA3B;AAKA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,WAAT,EAAsBC,OAAtB,QAAqC,OAArC;AAEA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,SAASC,iBAAT,QAAkC,iBAAlC;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,qBAAT,EAAgCC,mBAAhC,QAA2D,0BAA3D;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,8BAAT,QAA+C,cAA/C;AAGA,SAASC,kBAAT,QAAmC,SAAnC;AACA,SAASC,gBAAT,QAAiC,eAAjC;AAEA,WAAYC,aAAZ,C,CAOA;;WAPYA,a;EAAAA,a,CAAAA,a;EAAAA,a,CAAAA,a;EAAAA,a,CAAAA,a;EAAAA,a,CAAAA,a;GAAAA,a,KAAAA,a;;AAQZ,OAAO,SAASC,kBAAT,CACLC,eADK,EAELC,OAFK,EAGiC;EAAA;;EACtC,0BAA6BL,kBAAkB,EAA/C;EAAA,IAAQM,OAAR,uBAAQA,OAAR;EAAA,IAAiBC,OAAjB,uBAAiBA,OAAjB;;EACA,IAAMC,KAAK,GAAGJ,eAAH,aAAGA,eAAH,uBAAGA,eAAe,CAAEK,QAAjB,CAA0BC,OAAxC;EACA,IAAMC,gBAAgB,GAAGjB,iBAAiB,CAACc,KAAD,EAAQF,OAAR,aAAQA,OAAR,cAAQA,OAAR,GAAmBM,SAAnB,EAA8BP,OAA9B,CAA1C;EACA,IAAMQ,eAAe,GAAGjB,qBAAqB,CAACY,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEM,OAAR,EAAiBT,OAAjB,CAA7C,CAJsC,CAKtC;;EACA,IAAMU,aAA4B,GAAGxB,OAAO,CAAC,YAAM;IACjD,IAAI,CAACa,eAAD,IAAoB,CAACC,OAAzB,EAAkC,OAAOH,aAAa,CAACc,OAArB;IAClC,IAAIZ,eAAe,CAACK,QAAhB,CAAyBQ,QAA7B,EAAuC,OAAOf,aAAa,CAACgB,QAArB,CAFU,CAGjD;;IACA,IAAI,CAACP,gBAAL,EAAuB,OAAOT,aAAa,CAACc,OAArB,CAJ0B,CAMjD;;IACA,IAAIZ,eAAe,CAACe,QAAhB,CAAyBC,QAAzB,OAAwChC,UAAU,CAACgC,QAAX,EAA5C,EAAmE;MACjE,OAAOT,gBAAgB,CAACU,OAAjB,CAAyBhC,IAAI,CAACiC,MAAL,CAAY,CAAZ,CAAzB,IACHT,eAAe,GACbX,aAAa,CAACqB,OADD,GAEbrB,aAAa,CAACsB,YAHb,GAIHtB,aAAa,CAACgB,QAJlB;IAKD;;IAED,OAAOP,gBAAgB,CAACc,QAAjB,CAA0BrB,eAA1B,IACHS,eAAe,GACbX,aAAa,CAACqB,OADD,GAEbrB,aAAa,CAACsB,YAHb,GAIHtB,aAAa,CAACgB,QAJlB;EAKD,CApB2C,EAoBzC,CAACd,eAAD,EAAkBO,gBAAlB,EAAoCE,eAApC,EAAqDR,OAArD,CApByC,CAA5C;EAsBA,IAAMqB,aAAa,GAAGzB,gBAAgB,CAACO,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAEM,OAAR,CAAtC;EACA,IAAMa,sBAAsB,GAAG9B,mBAAmB,EAAlD;EAEA,IAAM+B,OAAO,GAAGtC,WAAW,0EAAC;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA,MACtByB,aAAa,KAAKb,aAAa,CAACsB,YADV;cAAA;cAAA;YAAA;;YAExBK,OAAO,CAACC,KAAR,CAAc,kCAAd;YAFwB;;UAAA;YAAA,IAKrBtB,KALqB;cAAA;cAAA;YAAA;;YAMxBqB,OAAO,CAACC,KAAR,CAAc,UAAd;YANwB;;UAAA;YAAA,IAUrBJ,aAVqB;cAAA;cAAA;YAAA;;YAWxBG,OAAO,CAACC,KAAR,CAAc,uBAAd;YAXwB;;UAAA;YAAA,IAerB1B,eAfqB;cAAA;cAAA;YAAA;;YAgBxByB,OAAO,CAACC,KAAR,CAAc,2BAAd;YAhBwB;;UAAA;YAAA,IAoBrBzB,OApBqB;cAAA;cAAA;YAAA;;YAqBxBwB,OAAO,CAACC,KAAR,CAAc,YAAd;YArBwB;;UAAA;YAyBtBC,QAzBsB,GAyBX,KAzBW;YA0BtBC,UA1BsB,GA0BT,KA1BS;YAAA;YAAA,OA4BCN,aAAa,CAACO,WAAd,CAA0BL,OAA1B,CAAkCvB,OAAlC,EAA2CjB,UAA3C,EAAuD8C,KAAvD,CAA6D,YAAM;cAC5F;cACAH,QAAQ,GAAG,IAAX;cACA,OAAOL,aAAa,CAACO,WAAd,CAA0BL,OAA1B,CAAkCvB,OAAlC,EAA2CD,eAAe,CAACe,QAAhB,CAAyBC,QAAzB,EAA3C,EAAgFc,KAAhF,CAAsF,YAAM;gBACjGF,UAAU,GAAG,IAAb;gBACA,OAAON,aAAa,CAACO,WAAd,CAA0BL,OAA1B,CAAkCvB,OAAlC,EAA2C,GAA3C,CAAP;cACD,CAHM,CAAP;YAID,CAP0B,CA5BD;;UAAA;YA4BpB8B,YA5BoB;;YAAA,KAqCtBH,UArCsB;cAAA;cAAA;YAAA;;YAAA,iCAsCjBN,aAAa,CAACE,OAAd,CAAsBvB,OAAtB,EAA+B,GAA/B,EAAoC;cACzC+B,QAAQ,EAAEtC,kBAAkB,CAACqC,YAAD;YADa,CAApC,CAtCiB;;UAAA;YAAA,iCA2CnBT,aAAa,CACjBE,OADI,CACIvB,OADJ,EACa0B,QAAQ,GAAG3B,eAAe,CAACe,QAAhB,CAAyBC,QAAzB,EAAH,GAAyChC,UAD9D,EAC0E;cAC7EgD,QAAQ,EAAEtC,kBAAkB,CAACqC,YAAD;YADiD,CAD1E,EAIJE,IAJI,CAIC,UAACC,QAAD,EAAmC;cACvCX,sBAAsB,CAACW,QAAD,EAAW;gBAC/BC,IAAI,EAAE,SADyB;gBAE/BC,OAAO,EAAEpC,eAAe,CAACK,QAAhB,CAAyBQ,QAAzB,GACLxB,aAAa,CAACc,OAAD,CAAb,CAAkCkC,MAD7B,GAELrC,eAAe,CAACK,QAAhB,CAAyBgC,MAJE;gBAK/BC,QAAQ,EAAE;kBAAEC,YAAY,EAAEnC,KAAK,CAACM,OAAtB;kBAA+BT,OAAO,EAAEA;gBAAxC;cALqB,CAAX,CAAtB;YAOD,CAZI,EAaJ6B,KAbI,CAaE,UAACJ,KAAD,EAAkB;cACvBD,OAAO,CAACe,KAAR,CAAc,yBAAd,EAAyCd,KAAzC;cACA,MAAMA,KAAN;YACD,CAhBI,CA3CmB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAD,IA4DxB,CAACf,aAAD,EAAgBP,KAAhB,EAAuBkB,aAAvB,EAAsCtB,eAAtC,EAAuDC,OAAvD,EAAgEsB,sBAAhE,EAAwFpB,OAAxF,CA5DwB,CAA3B;EA8DA,OAAO,CAACQ,aAAD,EAAgBa,OAAhB,CAAP;AACD,C,CAED;;GAnGgBzB,kB;UAIeH,kB,EAEJN,iB,EACDE,qB,EAwBFK,gB,EACSJ,mB;;;AAoEjC,OAAO,SAASgD,2BAAT,CAAqCC,KAArC,EAAwG;EAAA;;EAAA;;EAAA,IAArBC,eAAqB,uEAAH,CAAG;;EAC7G,2BAAoB/C,kBAAkB,EAAtC;EAAA,IAAQO,OAAR,wBAAQA,OAAR;;EACA,IAAMH,eAAe,GAAGb,OAAO,CAC7B;IAAA,OAAOuD,KAAK,GAAG/C,8BAA8B,CAAC+C,KAAD,EAAQC,eAAR,CAA9B,CAAuDpD,KAAK,CAACqD,KAA7D,CAAH,GAAyEpC,SAArF;EAAA,CAD6B,EAE7B,CAACkC,KAAD,EAAQC,eAAR,CAF6B,CAA/B;EAIA,OAAO5C,kBAAkB,CAACC,eAAD,EAAkB,CAAC,CAACG,OAAF,4BAAYf,aAAa,CAACe,OAAD,CAAb,CAAuB0C,OAAvB,CAA+BC,OAA3C,0DAAY,sBAAwCC,MAApD,GAA6DvC,SAA/E,CAAzB;AACD,C,CAED;;IATgBiC,2B;UACM7C,kB,EAKbG,kB;;;AAIT,OAAO,SAASiD,6BAAT,CAAuCN,KAAvC,EAAgF;EAAA;;EAAA,IAArBC,eAAqB,uEAAH,CAAG;;EACrF,2BAAoB/C,kBAAkB,EAAtC;EAAA,IAAQO,OAAR,wBAAQA,OAAR;;EACA,IAAMH,eAAe,GAAGb,OAAO,CAC7B;IAAA,OAAOuD,KAAK,GAAG/C,8BAA8B,CAAC+C,KAAD,EAAQC,eAAR,CAA9B,CAAuDpD,KAAK,CAACqD,KAA7D,CAAH,GAAyEpC,SAArF;EAAA,CAD6B,EAE7B,CAACkC,KAAD,EAAQC,eAAR,CAF6B,CAA/B;EAIA,OAAO5C,kBAAkB,CAACC,eAAD,EAAkB,CAAC,CAACG,OAAF,IAAauC,KAAb,aAAaA,KAAb,eAAaA,KAAK,CAAEO,aAApB,GAAoCP,KAAK,CAACO,aAA1C,GAA0DzC,SAA5E,CAAzB;AACD;;IAPewC,6B;UACMpD,kB,EAKbG,kB;;;AAGT,OAAO,SAASmD,wBAAT,CACLR,KADK,EAELC,eAFK,EAGL;EAAA;;EACA,2BAAoB/C,kBAAkB,EAAtC;EAAA,IAAQO,OAAR,wBAAQA,OAAR;;EACA,IAAMH,eAAe,GAAGb,OAAO,CAC7B;IAAA,OAAOuD,KAAK,IAAIA,KAAK,CAACS,WAAN,CAAkB9C,QAAlB,CAA2B+C,OAApC,GAA8CV,KAAK,CAACW,eAAN,CAAsBV,eAAtB,CAA9C,GAAuFnC,SAA9F;EAAA,CAD6B,EAE7B,CAACkC,KAAD,EAAQC,eAAR,CAF6B,CAA/B;EAIA,OAAO5C,kBAAkB,CAACC,eAAD,EAAkB,CAAC,CAACG,OAAF,GAAYf,aAAa,CAACe,OAAD,CAAb,CAAuBmD,OAAvB,CAA+BC,OAA3C,GAAqD/C,SAAvE,CAAzB;AACD;;IAVe0C,wB;UAIMtD,kB,EAKbG,kB"},"metadata":{},"sourceType":"module"}