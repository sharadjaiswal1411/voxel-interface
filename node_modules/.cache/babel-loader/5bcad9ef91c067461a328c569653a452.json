{"ast":null,"code":"import _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/YieldPools/ProMMFarms.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { stringify } from 'querystring';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Search } from 'react-feather';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { Flex, Text } from 'rebass';\nimport FarmIssueAnnouncement from 'components/FarmIssueAnnouncement';\nimport LocalLoader from 'components/LocalLoader';\nimport ShareModal from 'components/ShareModal';\nimport Toggle from 'components/Toggle';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { VERSION } from 'constants/v2';\nimport { useActiveWeb3React } from 'hooks';\nimport { useOnClickOutside } from 'hooks/useOnClickOutside';\nimport useParsedQueryString from 'hooks/useParsedQueryString';\nimport useTheme from 'hooks/useTheme';\nimport { ApplicationModal } from 'state/application/actions';\nimport { useBlockNumber, useModalOpen, useOpenModal } from 'state/application/hooks';\nimport { useFailedNFTs, useGetProMMFarms, useProMMFarms } from 'state/farms/promm/hooks';\nimport { StyledInternalLink } from 'theme';\nimport ProMMFarmGroup from './ProMMFarmGroup';\nimport { DepositModal, StakeUnstakeModal } from './ProMMFarmModals';\nimport HarvestModal from './ProMMFarmModals/HarvestModal';\nimport WithdrawModal from './ProMMFarmModals/WithdrawModal';\nimport { SharePoolContext } from './SharePoolContext';\nimport { HeadingContainer, HeadingRight, SearchContainer, SearchInput, StakedOnlyToggleText, StakedOnlyToggleWrapper } from './styleds';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// this address exists on both Polygon and Avalanche\nvar affectedFairlaunchAddress = '0x5C503D4b7DE0633f031229bbAA6A5e4A31cc35d8';\n\nfunction ProMMFarms(_ref) {\n  _s();\n\n  var _this = this;\n\n  var active = _ref.active;\n  var theme = useTheme();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var _useState = useState({\n    active: false,\n    ended: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      stakedOnly = _useState2[0],\n      setStakedOnly = _useState2[1];\n\n  var activeTab = active ? 'active' : 'ended';\n\n  var _useProMMFarms = useProMMFarms(),\n      farms = _useProMMFarms.data,\n      loading = _useProMMFarms.loading;\n\n  var getProMMFarms = useGetProMMFarms();\n  var failedNFTs = useFailedNFTs();\n  var blockNumber = useBlockNumber();\n  useEffect(function () {\n    getProMMFarms();\n  }, [getProMMFarms, blockNumber]);\n  var ref = useRef();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  useOnClickOutside(ref, open ? function () {\n    return setOpen(function (prev) {\n      return !prev;\n    });\n  } : undefined);\n  var qs = useParsedQueryString();\n  var search = (qs.search || '').toLowerCase();\n  var history = useHistory();\n  var location = useLocation();\n  var handleSearch = useCallback(function (search) {\n    var target = _objectSpread(_objectSpread({}, location), {}, {\n      search: stringify(_objectSpread(_objectSpread({}, qs), {}, {\n        search: search\n      }))\n    });\n\n    history.replace(target);\n  }, [history, location, qs]);\n  var filteredFarms = useMemo(function () {\n    var now = Date.now() / 1000;\n    return Object.keys(farms).reduce(function (acc, address) {\n      var currentFarms = farms[address].filter(function (farm) {\n        var _farm$token0Info, _farm$token0Info$symb, _farm$token1Info, _farm$token1Info$symb, _farm$token0Info2, _farm$token0Info2$nam, _farm$token1Info2, _farm$token1Info2$nam;\n\n        var filterActive = active ? farm.endTime >= now : farm.endTime < now;\n        var filterSearchText = search ? farm.token0.toLowerCase().includes(search) || farm.token1.toLowerCase().includes(search) || farm.poolAddress.toLowerCase() === search || (farm === null || farm === void 0 ? void 0 : (_farm$token0Info = farm.token0Info) === null || _farm$token0Info === void 0 ? void 0 : (_farm$token0Info$symb = _farm$token0Info.symbol) === null || _farm$token0Info$symb === void 0 ? void 0 : _farm$token0Info$symb.toLowerCase().includes(search)) || (farm === null || farm === void 0 ? void 0 : (_farm$token1Info = farm.token1Info) === null || _farm$token1Info === void 0 ? void 0 : (_farm$token1Info$symb = _farm$token1Info.symbol) === null || _farm$token1Info$symb === void 0 ? void 0 : _farm$token1Info$symb.toLowerCase().includes(search)) || (farm === null || farm === void 0 ? void 0 : (_farm$token0Info2 = farm.token0Info) === null || _farm$token0Info2 === void 0 ? void 0 : (_farm$token0Info2$nam = _farm$token0Info2.name) === null || _farm$token0Info2$nam === void 0 ? void 0 : _farm$token0Info2$nam.toLowerCase().includes(search)) || (farm === null || farm === void 0 ? void 0 : (_farm$token1Info2 = farm.token1Info) === null || _farm$token1Info2 === void 0 ? void 0 : (_farm$token1Info2$nam = _farm$token1Info2.name) === null || _farm$token1Info2$nam === void 0 ? void 0 : _farm$token1Info2$nam.toLowerCase().includes(search)) : true;\n        var filterStaked = true;\n\n        if (stakedOnly[activeTab]) {\n          filterStaked = farm.userDepositedNFTs.length > 0;\n        }\n\n        return filterActive && filterSearchText && filterStaked;\n      });\n      if (currentFarms.length) acc[address] = currentFarms;\n      return acc;\n    }, {});\n  }, [farms, active, search, stakedOnly, activeTab]);\n  var noFarms = !Object.keys(filteredFarms).length;\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedFarm = _useState6[0],\n      setSeletedFarm = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedModal = _useState8[0],\n      setSeletedModal = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedPoolId = _useState10[0],\n      setSeletedPoolId = _useState10[1];\n\n  var openShareModal = useOpenModal(ApplicationModal.SHARE);\n  var isShareModalOpen = useModalOpen(ApplicationModal.SHARE);\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      sharePoolAddress = _useState12[0],\n      setSharePoolAddress = _useState12[1];\n\n  var networkRoute = chainId ? NETWORKS_INFO[chainId].route : undefined;\n  var shareUrl = sharePoolAddress ? \"\".concat(window.location.origin, \"/farms?search=\").concat(sharePoolAddress, \"&type=\").concat(activeTab, \"&networkId=\").concat(networkRoute) : undefined;\n\n  var onDismiss = function onDismiss() {\n    setSeletedFarm(null);\n    setSeletedModal(null);\n    setSeletedPoolId(null);\n  };\n\n  var renderAnnouncement = function renderAnnouncement() {\n    // show announcement only when user was affected in one of the visible farms on the UI\n    var now = Date.now() / 1000;\n\n    if (activeTab === 'active') {\n      var _farms$affectedFairla;\n\n      var shouldShow = farms === null || farms === void 0 ? void 0 : (_farms$affectedFairla = farms[affectedFairlaunchAddress]) === null || _farms$affectedFairla === void 0 ? void 0 : _farms$affectedFairla.filter(function (farm) {\n        return now <= farm.endTime;\n      }) // active\n      .flatMap(function (farm) {\n        return farm.userDepositedNFTs.map(function (item) {\n          return item.tokenId.toString();\n        });\n      }).some(function (nft) {\n        return failedNFTs.includes(nft);\n      });\n      return shouldShow ? /*#__PURE__*/_jsxDEV(FarmIssueAnnouncement, {\n        isEnded: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 27\n      }, _this) : null;\n    }\n\n    if (activeTab === 'ended') {\n      var _farms$affectedFairla2;\n\n      var _shouldShow = farms === null || farms === void 0 ? void 0 : (_farms$affectedFairla2 = farms[affectedFairlaunchAddress]) === null || _farms$affectedFairla2 === void 0 ? void 0 : _farms$affectedFairla2.filter(function (farm) {\n        return now > farm.endTime;\n      }) // active\n      .flatMap(function (farm) {\n        return farm.userDepositedNFTs.map(function (item) {\n          return item.tokenId.toString();\n        });\n      }).some(function (nft) {\n        return failedNFTs.includes(nft);\n      });\n\n      return _shouldShow ? /*#__PURE__*/_jsxDEV(FarmIssueAnnouncement, {\n        isEnded: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 27\n      }, _this) : null;\n    }\n\n    return null;\n  };\n\n  useEffect(function () {\n    if (sharePoolAddress) {\n      openShareModal();\n    }\n  }, [openShareModal, sharePoolAddress]);\n  useEffect(function () {\n    setSharePoolAddress(function (addr) {\n      if (!isShareModalOpen) {\n        return '';\n      }\n\n      return addr;\n    });\n  }, [isShareModalOpen, setSharePoolAddress]);\n  return /*#__PURE__*/_jsxDEV(SharePoolContext.Provider, {\n    value: setSharePoolAddress,\n    children: [selectedFarm && selectedModal === 'deposit' && /*#__PURE__*/_jsxDEV(DepositModal, {\n      selectedFarmAddress: selectedFarm,\n      onDismiss: onDismiss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this), selectedFarm && selectedPoolId !== null && ['stake', 'unstake'].includes(selectedModal || '') && /*#__PURE__*/_jsxDEV(StakeUnstakeModal, {\n      type: selectedModal,\n      poolId: selectedPoolId,\n      selectedFarmAddress: selectedFarm,\n      onDismiss: onDismiss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), selectedFarm && selectedModal === 'withdraw' && /*#__PURE__*/_jsxDEV(WithdrawModal, {\n      selectedFarmAddress: selectedFarm,\n      onDismiss: onDismiss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this), selectedFarm && selectedModal === 'forcedWithdraw' && /*#__PURE__*/_jsxDEV(WithdrawModal, {\n      selectedFarmAddress: selectedFarm,\n      onDismiss: onDismiss,\n      forced: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this), selectedFarm && selectedModal === 'harvest' && /*#__PURE__*/_jsxDEV(HarvestModal, {\n      farmsAddress: selectedFarm,\n      poolId: selectedPoolId,\n      onDismiss: onDismiss\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this), renderAnnouncement(), /*#__PURE__*/_jsxDEV(HeadingContainer, {\n      children: [/*#__PURE__*/_jsxDEV(StakedOnlyToggleWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(StakedOnlyToggleText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Staked Only\"\n          }, void 0, false, void 0, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n          isActive: stakedOnly[active ? 'active' : 'ended'],\n          toggle: function toggle() {\n            return setStakedOnly(function (prev) {\n              return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, activeTab, !prev[activeTab]));\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HeadingRight, {\n        children: /*#__PURE__*/_jsxDEV(SearchContainer, {\n          children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n            placeholder:\n            /*i18n*/\n            i18n._(\"Search by token name or pool address\"),\n            maxLength: 255,\n            value: search,\n            onChange: function onChange(e) {\n              return handleSearch(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Search, {\n            color: theme.subText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), qs.type === 'ended' && qs.tab !== VERSION.CLASSIC && /*#__PURE__*/_jsxDEV(Text, {\n      fontStyle: \"italic\",\n      fontSize: 12,\n      marginBottom: \"1rem\",\n      color: theme.subText,\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Your rewards may be automatically harvested a few days after the farm ends. Please check the <0>Vesting</0> tab to see your rewards\",\n        components: {\n          0: /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n            to: \"/farms?type=vesting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }\n      }, void 0, false, void 0, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this), (!qs.type || qs.type === 'active') && qs.tab !== VERSION.CLASSIC && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        fontSize: 12,\n        fontWeight: \"500\",\n        marginBottom: \"0.375rem\",\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Farms will run in multiple phases\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        fontStyle: \"italic\",\n        fontSize: 12,\n        marginBottom: \"1rem\",\n        color: theme.subText,\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Once the current phase ends, you can harvest your rewards from the farm in the <0>Ended</0> tab. To continue earning rewards in the new phase, you must restake your NFT position into the active farm\",\n          components: {\n            0: /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n              to: \"/farms?type=ended\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), loading && noFarms ? /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        borderRadius: '16px'\n      },\n      backgroundColor: theme.background,\n      children: /*#__PURE__*/_jsxDEV(LocalLoader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }, this) : noFarms ? /*#__PURE__*/_jsxDEV(Flex, {\n      backgroundColor: theme.background,\n      justifyContent: \"center\",\n      padding: \"32px\",\n      style: {\n        borderBottomLeftRadius: '20px',\n        borderBottomRightRadius: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        color: theme.subText,\n        children: stakedOnly[activeTab] || search ? /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"No Farms found\"\n        }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Currently there are no Farms.\"\n        }, void 0, false, void 0, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        flexDirection: 'column',\n        rowGap: '48px'\n      },\n      children: Object.keys(filteredFarms).map(function (fairLaunchAddress) {\n        return /*#__PURE__*/_jsxDEV(ProMMFarmGroup, {\n          address: fairLaunchAddress,\n          onOpenModal: function onOpenModal(modalType, pid, forced) {\n            setSeletedModal(modalType);\n            setSeletedFarm(fairLaunchAddress);\n            setSeletedPoolId(pid !== null && pid !== void 0 ? pid : null);\n          },\n          farms: filteredFarms[fairLaunchAddress]\n        }, fairLaunchAddress, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ShareModal, {\n      title:\n      /*i18n*/\n      i18n._(\"Share this farm with your friends!\"),\n      url: shareUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProMMFarms, \"bJYwRUv4up6Z0DxzSeeeZk5murQ=\", false, function () {\n  return [useTheme, useActiveWeb3React, useProMMFarms, useGetProMMFarms, useFailedNFTs, useBlockNumber, useOnClickOutside, useParsedQueryString, useHistory, useLocation, useOpenModal, useModalOpen];\n});\n\n_c = ProMMFarms;\nexport default ProMMFarms;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProMMFarms\");","map":{"version":3,"names":["stringify","useCallback","useEffect","useMemo","useRef","useState","Search","useHistory","useLocation","Flex","Text","FarmIssueAnnouncement","LocalLoader","ShareModal","Toggle","NETWORKS_INFO","VERSION","useActiveWeb3React","useOnClickOutside","useParsedQueryString","useTheme","ApplicationModal","useBlockNumber","useModalOpen","useOpenModal","useFailedNFTs","useGetProMMFarms","useProMMFarms","StyledInternalLink","ProMMFarmGroup","DepositModal","StakeUnstakeModal","HarvestModal","WithdrawModal","SharePoolContext","HeadingContainer","HeadingRight","SearchContainer","SearchInput","StakedOnlyToggleText","StakedOnlyToggleWrapper","affectedFairlaunchAddress","ProMMFarms","active","theme","chainId","ended","stakedOnly","setStakedOnly","activeTab","farms","data","loading","getProMMFarms","failedNFTs","blockNumber","ref","open","setOpen","prev","undefined","qs","search","toLowerCase","history","location","handleSearch","target","replace","filteredFarms","now","Date","Object","keys","reduce","acc","address","currentFarms","filter","farm","filterActive","endTime","filterSearchText","token0","includes","token1","poolAddress","token0Info","symbol","token1Info","name","filterStaked","userDepositedNFTs","length","noFarms","selectedFarm","setSeletedFarm","selectedModal","setSeletedModal","selectedPoolId","setSeletedPoolId","openShareModal","SHARE","isShareModalOpen","sharePoolAddress","setSharePoolAddress","networkRoute","route","shareUrl","window","origin","onDismiss","renderAnnouncement","shouldShow","flatMap","map","item","tokenId","toString","some","nft","addr","e","value","subText","type","tab","CLASSIC","borderRadius","background","borderBottomLeftRadius","borderBottomRightRadius","flexDirection","rowGap","fairLaunchAddress","modalType","pid","forced"],"sources":["/Applications/XAMPP/voxel-interface/src/components/YieldPools/ProMMFarms.tsx"],"sourcesContent":["import { Trans, t } from '@lingui/macro'\nimport { stringify } from 'querystring'\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { Search } from 'react-feather'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport { Flex, Text } from 'rebass'\n\nimport FarmIssueAnnouncement from 'components/FarmIssueAnnouncement'\nimport LocalLoader from 'components/LocalLoader'\nimport ShareModal from 'components/ShareModal'\nimport Toggle from 'components/Toggle'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { VERSION } from 'constants/v2'\nimport { useActiveWeb3React } from 'hooks'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport useParsedQueryString from 'hooks/useParsedQueryString'\nimport useTheme from 'hooks/useTheme'\nimport { ApplicationModal } from 'state/application/actions'\nimport { useBlockNumber, useModalOpen, useOpenModal } from 'state/application/hooks'\nimport { useFailedNFTs, useGetProMMFarms, useProMMFarms } from 'state/farms/promm/hooks'\nimport { ProMMFarm } from 'state/farms/promm/types'\nimport { StyledInternalLink } from 'theme'\n\nimport ProMMFarmGroup from './ProMMFarmGroup'\nimport { DepositModal, StakeUnstakeModal } from './ProMMFarmModals'\nimport HarvestModal from './ProMMFarmModals/HarvestModal'\nimport WithdrawModal from './ProMMFarmModals/WithdrawModal'\nimport { SharePoolContext } from './SharePoolContext'\nimport {\n  HeadingContainer,\n  HeadingRight,\n  SearchContainer,\n  SearchInput,\n  StakedOnlyToggleText,\n  StakedOnlyToggleWrapper,\n} from './styleds'\n\ntype ModalType = 'deposit' | 'withdraw' | 'stake' | 'unstake' | 'harvest' | 'forcedWithdraw'\n\n// this address exists on both Polygon and Avalanche\nconst affectedFairlaunchAddress = '0x5C503D4b7DE0633f031229bbAA6A5e4A31cc35d8'\n\nfunction ProMMFarms({ active }: { active: boolean }) {\n  const theme = useTheme()\n  const { chainId } = useActiveWeb3React()\n  const [stakedOnly, setStakedOnly] = useState({\n    active: false,\n    ended: false,\n  })\n  const activeTab = active ? 'active' : 'ended'\n  const { data: farms, loading } = useProMMFarms()\n  const getProMMFarms = useGetProMMFarms()\n\n  const failedNFTs = useFailedNFTs()\n  const blockNumber = useBlockNumber()\n\n  useEffect(() => {\n    getProMMFarms()\n  }, [getProMMFarms, blockNumber])\n\n  const ref = useRef<HTMLDivElement>()\n  const [open, setOpen] = useState(false)\n  useOnClickOutside(ref, open ? () => setOpen(prev => !prev) : undefined)\n  const qs = useParsedQueryString()\n  const search = ((qs.search as string) || '').toLowerCase()\n  const history = useHistory()\n  const location = useLocation()\n\n  const handleSearch = useCallback(\n    (search: string) => {\n      const target = {\n        ...location,\n        search: stringify({ ...qs, search }),\n      }\n\n      history.replace(target)\n    },\n    [history, location, qs],\n  )\n\n  const filteredFarms = useMemo(() => {\n    const now = Date.now() / 1000\n    return Object.keys(farms).reduce((acc: { [key: string]: ProMMFarm[] }, address) => {\n      const currentFarms = farms[address].filter(farm => {\n        const filterActive = active ? farm.endTime >= now : farm.endTime < now\n        const filterSearchText = search\n          ? farm.token0.toLowerCase().includes(search) ||\n            farm.token1.toLowerCase().includes(search) ||\n            farm.poolAddress.toLowerCase() === search ||\n            farm?.token0Info?.symbol?.toLowerCase().includes(search) ||\n            farm?.token1Info?.symbol?.toLowerCase().includes(search) ||\n            farm?.token0Info?.name?.toLowerCase().includes(search) ||\n            farm?.token1Info?.name?.toLowerCase().includes(search)\n          : true\n\n        let filterStaked = true\n        if (stakedOnly[activeTab]) {\n          filterStaked = farm.userDepositedNFTs.length > 0\n        }\n\n        return filterActive && filterSearchText && filterStaked\n      })\n\n      if (currentFarms.length) acc[address] = currentFarms\n      return acc\n    }, {})\n  }, [farms, active, search, stakedOnly, activeTab])\n\n  const noFarms = !Object.keys(filteredFarms).length\n\n  const [selectedFarm, setSeletedFarm] = useState<null | string>(null)\n  const [selectedModal, setSeletedModal] = useState<ModalType | null>(null)\n  const [selectedPoolId, setSeletedPoolId] = useState<number | null>(null)\n\n  const openShareModal = useOpenModal(ApplicationModal.SHARE)\n  const isShareModalOpen = useModalOpen(ApplicationModal.SHARE)\n  const [sharePoolAddress, setSharePoolAddress] = useState('')\n  const networkRoute = chainId ? NETWORKS_INFO[chainId].route : undefined\n  const shareUrl = sharePoolAddress\n    ? `${window.location.origin}/farms?search=${sharePoolAddress}&type=${activeTab}&networkId=${networkRoute}`\n    : undefined\n\n  const onDismiss = () => {\n    setSeletedFarm(null)\n    setSeletedModal(null)\n    setSeletedPoolId(null)\n  }\n\n  const renderAnnouncement = () => {\n    // show announcement only when user was affected in one of the visible farms on the UI\n    const now = Date.now() / 1000\n    if (activeTab === 'active') {\n      const shouldShow = farms?.[affectedFairlaunchAddress]\n        ?.filter(farm => now <= farm.endTime) // active\n        .flatMap(farm => farm.userDepositedNFTs.map(item => item.tokenId.toString()))\n        .some(nft => failedNFTs.includes(nft))\n\n      return shouldShow ? <FarmIssueAnnouncement isEnded={false} /> : null\n    }\n\n    if (activeTab === 'ended') {\n      const shouldShow = farms?.[affectedFairlaunchAddress]\n        ?.filter(farm => now > farm.endTime) // active\n        .flatMap(farm => farm.userDepositedNFTs.map(item => item.tokenId.toString()))\n        .some(nft => failedNFTs.includes(nft))\n\n      return shouldShow ? <FarmIssueAnnouncement isEnded /> : null\n    }\n\n    return null\n  }\n\n  useEffect(() => {\n    if (sharePoolAddress) {\n      openShareModal()\n    }\n  }, [openShareModal, sharePoolAddress])\n\n  useEffect(() => {\n    setSharePoolAddress(addr => {\n      if (!isShareModalOpen) {\n        return ''\n      }\n\n      return addr\n    })\n  }, [isShareModalOpen, setSharePoolAddress])\n\n  return (\n    <SharePoolContext.Provider value={setSharePoolAddress}>\n      {selectedFarm && selectedModal === 'deposit' && (\n        <DepositModal selectedFarmAddress={selectedFarm} onDismiss={onDismiss} />\n      )}\n\n      {selectedFarm && selectedPoolId !== null && ['stake', 'unstake'].includes(selectedModal || '') && (\n        <StakeUnstakeModal\n          type={selectedModal as any}\n          poolId={selectedPoolId}\n          selectedFarmAddress={selectedFarm}\n          onDismiss={onDismiss}\n        />\n      )}\n\n      {selectedFarm && selectedModal === 'withdraw' && (\n        <WithdrawModal selectedFarmAddress={selectedFarm} onDismiss={onDismiss} />\n      )}\n\n      {selectedFarm && selectedModal === 'forcedWithdraw' && (\n        <WithdrawModal selectedFarmAddress={selectedFarm} onDismiss={onDismiss} forced />\n      )}\n\n      {selectedFarm && selectedModal === 'harvest' && (\n        <HarvestModal farmsAddress={selectedFarm} poolId={selectedPoolId} onDismiss={onDismiss} />\n      )}\n\n      {renderAnnouncement()}\n\n      <HeadingContainer>\n        <StakedOnlyToggleWrapper>\n          <StakedOnlyToggleText>\n            <Trans>Staked Only</Trans>\n          </StakedOnlyToggleText>\n          <Toggle\n            isActive={stakedOnly[active ? 'active' : 'ended']}\n            toggle={() => setStakedOnly(prev => ({ ...prev, [activeTab]: !prev[activeTab] }))}\n          />\n        </StakedOnlyToggleWrapper>\n        <HeadingRight>\n          <SearchContainer>\n            <SearchInput\n              placeholder={t`Search by token name or pool address`}\n              maxLength={255}\n              value={search}\n              onChange={e => handleSearch(e.target.value)}\n            />\n            <Search color={theme.subText} />\n          </SearchContainer>\n        </HeadingRight>\n      </HeadingContainer>\n\n      {qs.type === 'ended' && qs.tab !== VERSION.CLASSIC && (\n        <Text fontStyle=\"italic\" fontSize={12} marginBottom=\"1rem\" color={theme.subText}>\n          <Trans>\n            Your rewards may be automatically harvested a few days after the farm ends. Please check the{' '}\n            <StyledInternalLink to=\"/farms?type=vesting\">Vesting</StyledInternalLink> tab to see your rewards\n          </Trans>\n        </Text>\n      )}\n\n      {(!qs.type || qs.type === 'active') && qs.tab !== VERSION.CLASSIC && (\n        <>\n          <Text fontSize={12} fontWeight=\"500\" marginBottom=\"0.375rem\">\n            <Trans>Farms will run in multiple phases</Trans>\n          </Text>\n          <Text fontStyle=\"italic\" fontSize={12} marginBottom=\"1rem\" color={theme.subText}>\n            <Trans>\n              Once the current phase ends, you can harvest your rewards from the farm in the{' '}\n              <StyledInternalLink to=\"/farms?type=ended\">Ended</StyledInternalLink> tab. To continue earning rewards in\n              the new phase, you must restake your NFT position into the active farm\n            </Trans>\n          </Text>\n        </>\n      )}\n\n      {loading && noFarms ? (\n        <Flex\n          sx={{\n            borderRadius: '16px',\n          }}\n          backgroundColor={theme.background}\n        >\n          <LocalLoader />\n        </Flex>\n      ) : noFarms ? (\n        <Flex\n          backgroundColor={theme.background}\n          justifyContent=\"center\"\n          padding=\"32px\"\n          style={{ borderBottomLeftRadius: '20px', borderBottomRightRadius: '20px' }}\n        >\n          <Text color={theme.subText}>\n            {stakedOnly[activeTab] || search ? (\n              <Trans>No Farms found</Trans>\n            ) : (\n              <Trans>Currently there are no Farms.</Trans>\n            )}\n          </Text>\n        </Flex>\n      ) : (\n        <Flex\n          sx={{\n            flexDirection: 'column',\n            rowGap: '48px',\n          }}\n        >\n          {Object.keys(filteredFarms).map(fairLaunchAddress => {\n            return (\n              <ProMMFarmGroup\n                key={fairLaunchAddress}\n                address={fairLaunchAddress}\n                onOpenModal={(modalType: ModalType, pid?: number, forced?: boolean) => {\n                  setSeletedModal(modalType)\n                  setSeletedFarm(fairLaunchAddress)\n                  setSeletedPoolId(pid ?? null)\n                }}\n                farms={filteredFarms[fairLaunchAddress]}\n              />\n            )\n          })}\n        </Flex>\n      )}\n      <ShareModal title={t`Share this farm with your friends!`} url={shareUrl} />\n    </SharePoolContext.Provider>\n  )\n}\n\nexport default ProMMFarms\n"],"mappings":";;;;;;;;;AACA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0CC,MAA1C,EAAkDC,QAAlD,QAAkE,OAAlE;AACA,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,QAA3B;AAEA,OAAOC,qBAAP,MAAkC,kCAAlC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,iBAAT,QAAkC,yBAAlC;AACA,OAAOC,oBAAP,MAAiC,4BAAjC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,gBAAT,QAAiC,2BAAjC;AACA,SAASC,cAAT,EAAyBC,YAAzB,EAAuCC,YAAvC,QAA2D,yBAA3D;AACA,SAASC,aAAT,EAAwBC,gBAAxB,EAA0CC,aAA1C,QAA+D,yBAA/D;AAEA,SAASC,kBAAT,QAAmC,OAAnC;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,YAAT,EAAuBC,iBAAvB,QAAgD,mBAAhD;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SACEC,gBADF,EAEEC,YAFF,EAGEC,eAHF,EAIEC,WAJF,EAKEC,oBALF,EAMEC,uBANF,QAOO,WAPP;;;AAWA;AACA,IAAMC,yBAAyB,GAAG,4CAAlC;;AAEA,SAASC,UAAT,OAAqD;EAAA;;EAAA;;EAAA,IAA/BC,MAA+B,QAA/BA,MAA+B;EACnD,IAAMC,KAAK,GAAGxB,QAAQ,EAAtB;;EACA,0BAAoBH,kBAAkB,EAAtC;EAAA,IAAQ4B,OAAR,uBAAQA,OAAR;;EACA,gBAAoCxC,QAAQ,CAAC;IAC3CsC,MAAM,EAAE,KADmC;IAE3CG,KAAK,EAAE;EAFoC,CAAD,CAA5C;EAAA;EAAA,IAAOC,UAAP;EAAA,IAAmBC,aAAnB;;EAIA,IAAMC,SAAS,GAAGN,MAAM,GAAG,QAAH,GAAc,OAAtC;;EACA,qBAAiChB,aAAa,EAA9C;EAAA,IAAcuB,KAAd,kBAAQC,IAAR;EAAA,IAAqBC,OAArB,kBAAqBA,OAArB;;EACA,IAAMC,aAAa,GAAG3B,gBAAgB,EAAtC;EAEA,IAAM4B,UAAU,GAAG7B,aAAa,EAAhC;EACA,IAAM8B,WAAW,GAAGjC,cAAc,EAAlC;EAEApB,SAAS,CAAC,YAAM;IACdmD,aAAa;EACd,CAFQ,EAEN,CAACA,aAAD,EAAgBE,WAAhB,CAFM,CAAT;EAIA,IAAMC,GAAG,GAAGpD,MAAM,EAAlB;;EACA,iBAAwBC,QAAQ,CAAC,KAAD,CAAhC;EAAA;EAAA,IAAOoD,IAAP;EAAA,IAAaC,OAAb;;EACAxC,iBAAiB,CAACsC,GAAD,EAAMC,IAAI,GAAG;IAAA,OAAMC,OAAO,CAAC,UAAAC,IAAI;MAAA,OAAI,CAACA,IAAL;IAAA,CAAL,CAAb;EAAA,CAAH,GAAkCC,SAA5C,CAAjB;EACA,IAAMC,EAAE,GAAG1C,oBAAoB,EAA/B;EACA,IAAM2C,MAAM,GAAG,CAAED,EAAE,CAACC,MAAJ,IAAyB,EAA1B,EAA8BC,WAA9B,EAAf;EACA,IAAMC,OAAO,GAAGzD,UAAU,EAA1B;EACA,IAAM0D,QAAQ,GAAGzD,WAAW,EAA5B;EAEA,IAAM0D,YAAY,GAAGjE,WAAW,CAC9B,UAAC6D,MAAD,EAAoB;IAClB,IAAMK,MAAM,mCACPF,QADO;MAEVH,MAAM,EAAE9D,SAAS,iCAAM6D,EAAN;QAAUC,MAAM,EAANA;MAAV;IAFP,EAAZ;;IAKAE,OAAO,CAACI,OAAR,CAAgBD,MAAhB;EACD,CAR6B,EAS9B,CAACH,OAAD,EAAUC,QAAV,EAAoBJ,EAApB,CAT8B,CAAhC;EAYA,IAAMQ,aAAa,GAAGlE,OAAO,CAAC,YAAM;IAClC,IAAMmE,GAAG,GAAGC,IAAI,CAACD,GAAL,KAAa,IAAzB;IACA,OAAOE,MAAM,CAACC,IAAP,CAAYvB,KAAZ,EAAmBwB,MAAnB,CAA0B,UAACC,GAAD,EAAsCC,OAAtC,EAAkD;MACjF,IAAMC,YAAY,GAAG3B,KAAK,CAAC0B,OAAD,CAAL,CAAeE,MAAf,CAAsB,UAAAC,IAAI,EAAI;QAAA;;QACjD,IAAMC,YAAY,GAAGrC,MAAM,GAAGoC,IAAI,CAACE,OAAL,IAAgBX,GAAnB,GAAyBS,IAAI,CAACE,OAAL,GAAeX,GAAnE;QACA,IAAMY,gBAAgB,GAAGpB,MAAM,GAC3BiB,IAAI,CAACI,MAAL,CAAYpB,WAAZ,GAA0BqB,QAA1B,CAAmCtB,MAAnC,KACAiB,IAAI,CAACM,MAAL,CAAYtB,WAAZ,GAA0BqB,QAA1B,CAAmCtB,MAAnC,CADA,IAEAiB,IAAI,CAACO,WAAL,CAAiBvB,WAAjB,OAAmCD,MAFnC,KAGAiB,IAHA,aAGAA,IAHA,2CAGAA,IAAI,CAAEQ,UAHN,8EAGA,iBAAkBC,MAHlB,0DAGA,sBAA0BzB,WAA1B,GAAwCqB,QAAxC,CAAiDtB,MAAjD,CAHA,MAIAiB,IAJA,aAIAA,IAJA,2CAIAA,IAAI,CAAEU,UAJN,8EAIA,iBAAkBD,MAJlB,0DAIA,sBAA0BzB,WAA1B,GAAwCqB,QAAxC,CAAiDtB,MAAjD,CAJA,MAKAiB,IALA,aAKAA,IALA,4CAKAA,IAAI,CAAEQ,UALN,+EAKA,kBAAkBG,IALlB,0DAKA,sBAAwB3B,WAAxB,GAAsCqB,QAAtC,CAA+CtB,MAA/C,CALA,MAMAiB,IANA,aAMAA,IANA,4CAMAA,IAAI,CAAEU,UANN,+EAMA,kBAAkBC,IANlB,0DAMA,sBAAwB3B,WAAxB,GAAsCqB,QAAtC,CAA+CtB,MAA/C,CANA,CAD2B,GAQ3B,IARJ;QAUA,IAAI6B,YAAY,GAAG,IAAnB;;QACA,IAAI5C,UAAU,CAACE,SAAD,CAAd,EAA2B;UACzB0C,YAAY,GAAGZ,IAAI,CAACa,iBAAL,CAAuBC,MAAvB,GAAgC,CAA/C;QACD;;QAED,OAAOb,YAAY,IAAIE,gBAAhB,IAAoCS,YAA3C;MACD,CAlBoB,CAArB;MAoBA,IAAId,YAAY,CAACgB,MAAjB,EAAyBlB,GAAG,CAACC,OAAD,CAAH,GAAeC,YAAf;MACzB,OAAOF,GAAP;IACD,CAvBM,EAuBJ,EAvBI,CAAP;EAwBD,CA1B4B,EA0B1B,CAACzB,KAAD,EAAQP,MAAR,EAAgBmB,MAAhB,EAAwBf,UAAxB,EAAoCE,SAApC,CA1B0B,CAA7B;EA4BA,IAAM6C,OAAO,GAAG,CAACtB,MAAM,CAACC,IAAP,CAAYJ,aAAZ,EAA2BwB,MAA5C;;EAEA,iBAAuCxF,QAAQ,CAAgB,IAAhB,CAA/C;EAAA;EAAA,IAAO0F,YAAP;EAAA,IAAqBC,cAArB;;EACA,iBAAyC3F,QAAQ,CAAmB,IAAnB,CAAjD;EAAA;EAAA,IAAO4F,aAAP;EAAA,IAAsBC,eAAtB;;EACA,iBAA2C7F,QAAQ,CAAgB,IAAhB,CAAnD;EAAA;EAAA,IAAO8F,cAAP;EAAA,IAAuBC,gBAAvB;;EAEA,IAAMC,cAAc,GAAG7E,YAAY,CAACH,gBAAgB,CAACiF,KAAlB,CAAnC;EACA,IAAMC,gBAAgB,GAAGhF,YAAY,CAACF,gBAAgB,CAACiF,KAAlB,CAArC;;EACA,kBAAgDjG,QAAQ,CAAC,EAAD,CAAxD;EAAA;EAAA,IAAOmG,gBAAP;EAAA,IAAyBC,mBAAzB;;EACA,IAAMC,YAAY,GAAG7D,OAAO,GAAG9B,aAAa,CAAC8B,OAAD,CAAb,CAAuB8D,KAA1B,GAAkC/C,SAA9D;EACA,IAAMgD,QAAQ,GAAGJ,gBAAgB,aAC1BK,MAAM,CAAC5C,QAAP,CAAgB6C,MADU,2BACaN,gBADb,mBACsCvD,SADtC,wBAC6DyD,YAD7D,IAE7B9C,SAFJ;;EAIA,IAAMmD,SAAS,GAAG,SAAZA,SAAY,GAAM;IACtBf,cAAc,CAAC,IAAD,CAAd;IACAE,eAAe,CAAC,IAAD,CAAf;IACAE,gBAAgB,CAAC,IAAD,CAAhB;EACD,CAJD;;EAMA,IAAMY,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;IAC/B;IACA,IAAM1C,GAAG,GAAGC,IAAI,CAACD,GAAL,KAAa,IAAzB;;IACA,IAAIrB,SAAS,KAAK,QAAlB,EAA4B;MAAA;;MAC1B,IAAMgE,UAAU,GAAG/D,KAAH,aAAGA,KAAH,gDAAGA,KAAK,CAAGT,yBAAH,CAAR,0DAAG,sBACfqC,MADe,CACR,UAAAC,IAAI;QAAA,OAAIT,GAAG,IAAIS,IAAI,CAACE,OAAhB;MAAA,CADI,EACqB;MADrB,CAEhBiC,OAFgB,CAER,UAAAnC,IAAI;QAAA,OAAIA,IAAI,CAACa,iBAAL,CAAuBuB,GAAvB,CAA2B,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAACC,OAAL,CAAaC,QAAb,EAAJ;QAAA,CAA/B,CAAJ;MAAA,CAFI,EAGhBC,IAHgB,CAGX,UAAAC,GAAG;QAAA,OAAIlE,UAAU,CAAC8B,QAAX,CAAoBoC,GAApB,CAAJ;MAAA,CAHQ,CAAnB;MAKA,OAAOP,UAAU,gBAAG,QAAC,qBAAD;QAAuB,OAAO,EAAE;MAAhC;QAAA;QAAA;QAAA;MAAA,SAAH,GAA+C,IAAhE;IACD;;IAED,IAAIhE,SAAS,KAAK,OAAlB,EAA2B;MAAA;;MACzB,IAAMgE,WAAU,GAAG/D,KAAH,aAAGA,KAAH,iDAAGA,KAAK,CAAGT,yBAAH,CAAR,2DAAG,uBACfqC,MADe,CACR,UAAAC,IAAI;QAAA,OAAIT,GAAG,GAAGS,IAAI,CAACE,OAAf;MAAA,CADI,EACoB;MADpB,CAEhBiC,OAFgB,CAER,UAAAnC,IAAI;QAAA,OAAIA,IAAI,CAACa,iBAAL,CAAuBuB,GAAvB,CAA2B,UAAAC,IAAI;UAAA,OAAIA,IAAI,CAACC,OAAL,CAAaC,QAAb,EAAJ;QAAA,CAA/B,CAAJ;MAAA,CAFI,EAGhBC,IAHgB,CAGX,UAAAC,GAAG;QAAA,OAAIlE,UAAU,CAAC8B,QAAX,CAAoBoC,GAApB,CAAJ;MAAA,CAHQ,CAAnB;;MAKA,OAAOP,WAAU,gBAAG,QAAC,qBAAD;QAAuB,OAAO;MAA9B;QAAA;QAAA;QAAA;MAAA,SAAH,GAAuC,IAAxD;IACD;;IAED,OAAO,IAAP;EACD,CAtBD;;EAwBA/G,SAAS,CAAC,YAAM;IACd,IAAIsG,gBAAJ,EAAsB;MACpBH,cAAc;IACf;EACF,CAJQ,EAIN,CAACA,cAAD,EAAiBG,gBAAjB,CAJM,CAAT;EAMAtG,SAAS,CAAC,YAAM;IACduG,mBAAmB,CAAC,UAAAgB,IAAI,EAAI;MAC1B,IAAI,CAAClB,gBAAL,EAAuB;QACrB,OAAO,EAAP;MACD;;MAED,OAAOkB,IAAP;IACD,CANkB,CAAnB;EAOD,CARQ,EAQN,CAAClB,gBAAD,EAAmBE,mBAAnB,CARM,CAAT;EAUA,oBACE,QAAC,gBAAD,CAAkB,QAAlB;IAA2B,KAAK,EAAEA,mBAAlC;IAAA,WACGV,YAAY,IAAIE,aAAa,KAAK,SAAlC,iBACC,QAAC,YAAD;MAAc,mBAAmB,EAAEF,YAAnC;MAAiD,SAAS,EAAEgB;IAA5D;MAAA;MAAA;MAAA;IAAA,QAFJ,EAKGhB,YAAY,IAAII,cAAc,KAAK,IAAnC,IAA2C,CAAC,OAAD,EAAU,SAAV,EAAqBf,QAArB,CAA8Ba,aAAa,IAAI,EAA/C,CAA3C,iBACC,QAAC,iBAAD;MACE,IAAI,EAAEA,aADR;MAEE,MAAM,EAAEE,cAFV;MAGE,mBAAmB,EAAEJ,YAHvB;MAIE,SAAS,EAAEgB;IAJb;MAAA;MAAA;MAAA;IAAA,QANJ,EAcGhB,YAAY,IAAIE,aAAa,KAAK,UAAlC,iBACC,QAAC,aAAD;MAAe,mBAAmB,EAAEF,YAApC;MAAkD,SAAS,EAAEgB;IAA7D;MAAA;MAAA;MAAA;IAAA,QAfJ,EAkBGhB,YAAY,IAAIE,aAAa,KAAK,gBAAlC,iBACC,QAAC,aAAD;MAAe,mBAAmB,EAAEF,YAApC;MAAkD,SAAS,EAAEgB,SAA7D;MAAwE,MAAM;IAA9E;MAAA;MAAA;MAAA;IAAA,QAnBJ,EAsBGhB,YAAY,IAAIE,aAAa,KAAK,SAAlC,iBACC,QAAC,YAAD;MAAc,YAAY,EAAEF,YAA5B;MAA0C,MAAM,EAAEI,cAAlD;MAAkE,SAAS,EAAEY;IAA7E;MAAA;MAAA;MAAA;IAAA,QAvBJ,EA0BGC,kBAAkB,EA1BrB,eA4BE,QAAC,gBAAD;MAAA,wBACE,QAAC,uBAAD;QAAA,wBACE,QAAC,oBAAD;UAAA,uBACE;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF,eAIE,QAAC,MAAD;UACE,QAAQ,EAAEjE,UAAU,CAACJ,MAAM,GAAG,QAAH,GAAc,OAArB,CADtB;UAEE,MAAM,EAAE;YAAA,OAAMK,aAAa,CAAC,UAAAW,IAAI;cAAA,uCAAUA,IAAV,2BAAiBV,SAAjB,EAA6B,CAACU,IAAI,CAACV,SAAD,CAAlC;YAAA,CAAL,CAAnB;UAAA;QAFV;UAAA;UAAA;UAAA;QAAA,QAJF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAUE,QAAC,YAAD;QAAA,uBACE,QAAC,eAAD;UAAA,wBACE,QAAC,WAAD;YACE,WAAW;YAAA;YAAE,8CADf;YAEE,SAAS,EAAE,GAFb;YAGE,KAAK,EAAEa,MAHT;YAIE,QAAQ,EAAE,kBAAA4D,CAAC;cAAA,OAAIxD,YAAY,CAACwD,CAAC,CAACvD,MAAF,CAASwD,KAAV,CAAhB;YAAA;UAJb;YAAA;YAAA;YAAA;UAAA,QADF,eAOE,QAAC,MAAD;YAAQ,KAAK,EAAE/E,KAAK,CAACgF;UAArB;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAVF;IAAA;MAAA;MAAA;MAAA;IAAA,QA5BF,EAmDG/D,EAAE,CAACgE,IAAH,KAAY,OAAZ,IAAuBhE,EAAE,CAACiE,GAAH,KAAW9G,OAAO,CAAC+G,OAA1C,iBACC,QAAC,IAAD;MAAM,SAAS,EAAC,QAAhB;MAAyB,QAAQ,EAAE,EAAnC;MAAuC,YAAY,EAAC,MAApD;MAA2D,KAAK,EAAEnF,KAAK,CAACgF,OAAxE;MAAA,uBACE;QAAA;QAAA;UAAA,gBAEE,QAAC,kBAAD;YAAoB,EAAE,EAAC;UAAvB;YAAA;YAAA;YAAA;UAAA;QAFF;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QApDJ,EA4DG,CAAC,CAAC/D,EAAE,CAACgE,IAAJ,IAAYhE,EAAE,CAACgE,IAAH,KAAY,QAAzB,KAAsChE,EAAE,CAACiE,GAAH,KAAW9G,OAAO,CAAC+G,OAAzD,iBACC;MAAA,wBACE,QAAC,IAAD;QAAM,QAAQ,EAAE,EAAhB;QAAoB,UAAU,EAAC,KAA/B;QAAqC,YAAY,EAAC,UAAlD;QAAA,uBACE;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,IAAD;QAAM,SAAS,EAAC,QAAhB;QAAyB,QAAQ,EAAE,EAAnC;QAAuC,YAAY,EAAC,MAApD;QAA2D,KAAK,EAAEnF,KAAK,CAACgF,OAAxE;QAAA,uBACE;UAAA;UAAA;YAAA,gBAEE,QAAC,kBAAD;cAAoB,EAAE,EAAC;YAAvB;cAAA;cAAA;cAAA;YAAA;UAFF;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAJF;IAAA,gBA7DJ,EA2EGxE,OAAO,IAAI0C,OAAX,gBACC,QAAC,IAAD;MACE,EAAE,EAAE;QACFkC,YAAY,EAAE;MADZ,CADN;MAIE,eAAe,EAAEpF,KAAK,CAACqF,UAJzB;MAAA,uBAME,QAAC,WAAD;QAAA;QAAA;QAAA;MAAA;IANF;MAAA;MAAA;MAAA;IAAA,QADD,GASGnC,OAAO,gBACT,QAAC,IAAD;MACE,eAAe,EAAElD,KAAK,CAACqF,UADzB;MAEE,cAAc,EAAC,QAFjB;MAGE,OAAO,EAAC,MAHV;MAIE,KAAK,EAAE;QAAEC,sBAAsB,EAAE,MAA1B;QAAkCC,uBAAuB,EAAE;MAA3D,CAJT;MAAA,uBAME,QAAC,IAAD;QAAM,KAAK,EAAEvF,KAAK,CAACgF,OAAnB;QAAA,UACG7E,UAAU,CAACE,SAAD,CAAV,IAAyBa,MAAzB,gBACC;UAAA;QAAA,+BADD,gBAGC;UAAA;QAAA;MAJJ;QAAA;QAAA;QAAA;MAAA;IANF;MAAA;MAAA;MAAA;IAAA,QADS,gBAgBT,QAAC,IAAD;MACE,EAAE,EAAE;QACFsE,aAAa,EAAE,QADb;QAEFC,MAAM,EAAE;MAFN,CADN;MAAA,UAMG7D,MAAM,CAACC,IAAP,CAAYJ,aAAZ,EAA2B8C,GAA3B,CAA+B,UAAAmB,iBAAiB,EAAI;QACnD,oBACE,QAAC,cAAD;UAEE,OAAO,EAAEA,iBAFX;UAGE,WAAW,EAAE,qBAACC,SAAD,EAAuBC,GAAvB,EAAqCC,MAArC,EAA0D;YACrEvC,eAAe,CAACqC,SAAD,CAAf;YACAvC,cAAc,CAACsC,iBAAD,CAAd;YACAlC,gBAAgB,CAACoC,GAAD,aAACA,GAAD,cAACA,GAAD,GAAQ,IAAR,CAAhB;UACD,CAPH;UAQE,KAAK,EAAEnE,aAAa,CAACiE,iBAAD;QARtB,GACOA,iBADP;UAAA;UAAA;UAAA;QAAA,SADF;MAYD,CAbA;IANH;MAAA;MAAA;MAAA;IAAA,QApGJ,eA0HE,QAAC,UAAD;MAAY,KAAK;MAAA;MAAE,4CAAnB;MAA0D,GAAG,EAAE1B;IAA/D;MAAA;MAAA;MAAA;IAAA,QA1HF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8HD;;GA5PQlE,U;UACOtB,Q,EACMH,kB,EAMaU,a,EACXD,gB,EAEHD,a,EACCH,c,EAQpBJ,iB,EACWC,oB,EAEKZ,U,EACCC,W,EAgDMgB,Y,EACED,Y;;;KAzElBmB,U;AA8PT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}