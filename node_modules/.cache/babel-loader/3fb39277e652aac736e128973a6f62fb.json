{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/SearchModal/CurrencySearchModal.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport useLast from 'hooks/useLast';\nimport usePrevious from 'hooks/usePrevious';\nimport Modal from '../Modal';\nimport { CurrencySearch } from './CurrencySearch';\nimport { ImportToken } from './ImportToken';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var CurrencyModalView;\n\n(function (CurrencyModalView) {\n  CurrencyModalView[CurrencyModalView[\"search\"] = 0] = \"search\";\n  CurrencyModalView[CurrencyModalView[\"manage\"] = 1] = \"manage\";\n  CurrencyModalView[CurrencyModalView[\"importToken\"] = 2] = \"importToken\";\n  CurrencyModalView[CurrencyModalView[\"importList\"] = 3] = \"importList\";\n})(CurrencyModalView || (CurrencyModalView = {}));\n\nexport default function CurrencySearchModal(_ref) {\n  _s();\n\n  var isOpen = _ref.isOpen,\n      onDismiss = _ref.onDismiss,\n      onCurrencySelect = _ref.onCurrencySelect,\n      selectedCurrency = _ref.selectedCurrency,\n      otherSelectedCurrency = _ref.otherSelectedCurrency,\n      _ref$showCommonBases = _ref.showCommonBases,\n      showCommonBases = _ref$showCommonBases === void 0 ? false : _ref$showCommonBases;\n\n  var _useState = useState(CurrencyModalView.manage),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalView = _useState2[0],\n      setModalView = _useState2[1];\n\n  var lastOpen = useLast(isOpen);\n  useEffect(function () {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search);\n    }\n  }, [isOpen, lastOpen]);\n  var handleCurrencySelect = useCallback(function (currency) {\n    onCurrencySelect(currency);\n    onDismiss();\n  }, [onDismiss, onCurrencySelect]); // for token import view\n\n  var prevView = usePrevious(modalView); // used for import token flow\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      importToken = _useState4[0],\n      setImportToken = _useState4[1]; // change min height if not searching\n\n\n  var minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80;\n  var showImportView = useCallback(function () {\n    return setModalView(CurrencyModalView.importToken);\n  }, []);\n  var showManageView = useCallback(function () {\n    return setModalView(CurrencyModalView.manage);\n  }, []);\n  var isMobileHorizontal = Math.abs(window.orientation) === 90 && isMobile;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    margin: \"auto\",\n    maxHeight: isMobileHorizontal ? 100 : 80,\n    height: isMobileHorizontal ? '95vh' : undefined,\n    minHeight: minHeight,\n    children: modalView === CurrencyModalView.search ? /*#__PURE__*/_jsxDEV(CurrencySearch, {\n      isOpen: isOpen,\n      onDismiss: onDismiss,\n      onCurrencySelect: handleCurrencySelect,\n      selectedCurrency: selectedCurrency,\n      otherSelectedCurrency: otherSelectedCurrency,\n      showCommonBases: showCommonBases,\n      showImportView: showImportView,\n      setImportToken: setImportToken,\n      showManageView: showManageView\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this) : modalView === CurrencyModalView.importToken && importToken ? /*#__PURE__*/_jsxDEV(ImportToken, {\n      tokens: [importToken],\n      onDismiss: onDismiss,\n      onBack: function onBack() {\n        return setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search);\n      },\n      handleCurrencySelect: handleCurrencySelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CurrencySearchModal, \"Lze4yvbuwaprqThAFCwa62pS8Yk=\", false, function () {\n  return [useLast, usePrevious];\n});\n\n_c = CurrencySearchModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrencySearchModal\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","isMobile","useLast","usePrevious","Modal","CurrencySearch","ImportToken","CurrencyModalView","CurrencySearchModal","isOpen","onDismiss","onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","manage","modalView","setModalView","lastOpen","search","handleCurrencySelect","currency","prevView","importToken","setImportToken","minHeight","importList","showImportView","showManageView","isMobileHorizontal","Math","abs","window","orientation","undefined"],"sources":["/Applications/XAMPP/voxel-interface/src/components/SearchModal/CurrencySearchModal.tsx"],"sourcesContent":["import { Currency, Token } from '@kyberswap/ks-sdk-core'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\n\nimport useLast from 'hooks/useLast'\nimport usePrevious from 'hooks/usePrevious'\n\nimport Modal from '../Modal'\nimport { CurrencySearch } from './CurrencySearch'\nimport { ImportToken } from './ImportToken'\n\ninterface CurrencySearchModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  selectedCurrency?: Currency | null\n  onCurrencySelect: (currency: Currency) => void\n  otherSelectedCurrency?: Currency | null\n  showCommonBases?: boolean\n}\n\nexport enum CurrencyModalView {\n  search,\n  manage,\n  importToken,\n  importList,\n}\n\nexport default function CurrencySearchModal({\n  isOpen,\n  onDismiss,\n  onCurrencySelect,\n  selectedCurrency,\n  otherSelectedCurrency,\n  showCommonBases = false,\n}: CurrencySearchModalProps) {\n  const [modalView, setModalView] = useState<CurrencyModalView>(CurrencyModalView.manage)\n  const lastOpen = useLast(isOpen)\n\n  useEffect(() => {\n    if (isOpen && !lastOpen) {\n      setModalView(CurrencyModalView.search)\n    }\n  }, [isOpen, lastOpen])\n\n  const handleCurrencySelect = useCallback(\n    (currency: Currency) => {\n      onCurrencySelect(currency)\n      onDismiss()\n    },\n    [onDismiss, onCurrencySelect],\n  )\n\n  // for token import view\n  const prevView = usePrevious(modalView)\n\n  // used for import token flow\n  const [importToken, setImportToken] = useState<Token | undefined>()\n\n  // change min height if not searching\n  const minHeight = modalView === CurrencyModalView.importToken || modalView === CurrencyModalView.importList ? 40 : 80\n\n  const showImportView = useCallback(() => setModalView(CurrencyModalView.importToken), [])\n  const showManageView = useCallback(() => setModalView(CurrencyModalView.manage), [])\n  const isMobileHorizontal = Math.abs(window.orientation) === 90 && isMobile\n  return (\n    <Modal\n      isOpen={isOpen}\n      onDismiss={onDismiss}\n      margin=\"auto\"\n      maxHeight={isMobileHorizontal ? 100 : 80}\n      height={isMobileHorizontal ? '95vh' : undefined}\n      minHeight={minHeight}\n    >\n      {modalView === CurrencyModalView.search ? (\n        <CurrencySearch\n          isOpen={isOpen}\n          onDismiss={onDismiss}\n          onCurrencySelect={handleCurrencySelect}\n          selectedCurrency={selectedCurrency}\n          otherSelectedCurrency={otherSelectedCurrency}\n          showCommonBases={showCommonBases}\n          showImportView={showImportView}\n          setImportToken={setImportToken}\n          showManageView={showManageView}\n        />\n      ) : modalView === CurrencyModalView.importToken && importToken ? (\n        <ImportToken\n          tokens={[importToken]}\n          onDismiss={onDismiss}\n          onBack={() =>\n            setModalView(prevView && prevView !== CurrencyModalView.importToken ? prevView : CurrencyModalView.search)\n          }\n          handleCurrencySelect={handleCurrencySelect}\n        />\n      ) : null}\n    </Modal>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}