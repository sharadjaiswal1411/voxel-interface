{"ast":null,"code":"import _classCallCheck from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _styled from \"styled-components\";\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/ErrorBoundary/index.tsx\";\nimport { Trans } from \"@lingui/react\";\nimport { captureException } from '@sentry/react';\nimport React from 'react';\nimport { Text } from 'rebass';\nimport { UAParser } from 'ua-parser-js';\nimport { ButtonPrimary } from 'components/Button';\nimport { ExternalLink } from '../../theme';\nimport { AutoColumn } from '../Column';\nimport { AutoRow } from '../Row';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar parser = new UAParser(window.navigator.userAgent);\nvar userAgent = parser.getResult();\n\nvar FallbackWrapper = _styled.div.withConfig({\n  displayName: \"ErrorBoundary__FallbackWrapper\",\n  componentId: \"sc-1l7nnm8-0\"\n})([\"display:flex;width:100%;flex-direction:column;align-items:center;justify-content:center;z-index:1;\"]);\n\nvar BodyWrapper = _styled.div.withConfig({\n  displayName: \"ErrorBoundary__BodyWrapper\",\n  componentId: \"sc-1l7nnm8-1\"\n})([\"padding:1rem;margin:auto;padding:18px 24px;\"]);\n\nvar CodeBlockWrapper = _styled.div.withConfig({\n  displayName: \"ErrorBoundary__CodeBlockWrapper\",\n  componentId: \"sc-1l7nnm8-2\"\n})([\"overflow:auto;white-space:pre;\"]);\n\nvar LinkWrapper = _styled.div.withConfig({\n  displayName: \"ErrorBoundary__LinkWrapper\",\n  componentId: \"sc-1l7nnm8-3\"\n})([\"margin:auto;\"]);\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  _inherits(ErrorBoundary, _React$Component);\n\n  var _super = _createSuper(ErrorBoundary);\n\n  function ErrorBoundary(props) {\n    var _this;\n\n    _classCallCheck(this, ErrorBoundary);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      var e = new Error(\"Page Crash: \".concat(error.toString(), \" \").concat(errorInfo.toString()), {\n        cause: error\n      });\n      e.name = 'AppCrash';\n      captureException(e, {\n        level: 'fatal'\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n\n      if (error !== null) {\n        var encodedBody = encodeURIComponent(issueBody(error));\n        return /*#__PURE__*/_jsxDEV(FallbackWrapper, {\n          children: /*#__PURE__*/_jsxDEV(BodyWrapper, {\n            children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: 'md',\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                textAlign: \"center\",\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Oops! Something went wrong\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(CodeBlockWrapper, {\n                children: /*#__PURE__*/_jsxDEV(\"code\", {\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: 10,\n                    children: error.stack\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(AutoRow, {\n                children: /*#__PURE__*/_jsxDEV(LinkWrapper, {\n                  children: /*#__PURE__*/_jsxDEV(ExternalLink, {\n                    id: \"create-github-issue-link\",\n                    href: \"https://github.com/KyberNetwork/kyberswap-interface/issues/new?assignees=&labels=bug&body=\".concat(encodedBody, \"&title=\").concat(encodeURIComponent(\"Crash report: `\".concat(error.name).concat(error.message && \": \".concat(error.message), \"`\"))),\n                    target: \"_blank\",\n                    children: /*#__PURE__*/_jsxDEV(Text, {\n                      fontSize: 16,\n                      children: [/*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Create an issue on GitHub\"\n                      }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"\\u2197\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                margin: \"auto\",\n                width: \"fit-content\",\n                onClick: function onClick() {\n                  localStorage.clear();\n                  window.location.reload();\n                },\n                children: \"Refresh\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this);\n      }\n\n      return this.props.children;\n    }\n  }], [{\n    key: \"getDerivedStateFromError\",\n    value: function getDerivedStateFromError(error) {\n      return {\n        error: error\n      };\n    }\n  }]);\n\n  return ErrorBoundary;\n}(React.Component);\n\nexport { ErrorBoundary as default };\n\nfunction issueBody(error) {\n  var deviceData = userAgent;\n  return \"## URL\\n\\n\".concat(window.location.href, \"\\n\\n\").concat(error.name && \"## Error\\n\\n```\\n\".concat(error.name).concat(error.message && \": \".concat(error.message), \"\\n```\\n\"), \"\\n\").concat(error.stack && \"## Stacktrace\\n\\n```\\n\".concat(error.stack, \"\\n```\\n\"), \"\\n\").concat(deviceData && \"## Device data\\n\\n```json\\n\".concat(JSON.stringify(deviceData, null, 2), \"\\n```\\n\"), \"\\n\");\n}","map":{"version":3,"names":["captureException","React","Text","UAParser","ButtonPrimary","ExternalLink","AutoColumn","AutoRow","parser","window","navigator","userAgent","getResult","FallbackWrapper","styled","div","BodyWrapper","CodeBlockWrapper","LinkWrapper","ErrorBoundary","props","state","error","errorInfo","e","Error","toString","cause","name","level","encodedBody","encodeURIComponent","issueBody","stack","message","localStorage","clear","location","reload","children","Component","deviceData","href","JSON","stringify"],"sources":["/Applications/XAMPP/voxel-interface/src/components/ErrorBoundary/index.tsx"],"sourcesContent":["import { Trans } from '@lingui/macro'\nimport { captureException } from '@sentry/react'\nimport React, { ErrorInfo, PropsWithChildren } from 'react'\nimport { Text } from 'rebass'\nimport styled from 'styled-components/macro'\nimport { UAParser } from 'ua-parser-js'\n\nimport { ButtonPrimary } from 'components/Button'\n\nimport { ExternalLink } from '../../theme'\nimport { AutoColumn } from '../Column'\nimport { AutoRow } from '../Row'\n\nconst parser = new UAParser(window.navigator.userAgent)\n\nconst userAgent = parser.getResult()\n\nconst FallbackWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n`\n\nconst BodyWrapper = styled.div<{ margin?: string }>`\n  padding: 1rem;\n  margin: auto;\n  padding: 18px 24px;\n`\n\nconst CodeBlockWrapper = styled.div`\n  overflow: auto;\n  white-space: pre;\n`\n\nconst LinkWrapper = styled.div`\n  margin: auto;\n`\n\ntype ErrorBoundaryState = {\n  error: Error | null\n}\n\nexport default class ErrorBoundary extends React.Component<PropsWithChildren<unknown>, ErrorBoundaryState> {\n  constructor(props: PropsWithChildren<unknown>) {\n    super(props)\n    this.state = { error: null }\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { error }\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    const e = new Error(`Page Crash: ${error.toString()} ${errorInfo.toString()}`, {\n      cause: error,\n    })\n    e.name = 'AppCrash'\n    captureException(e, { level: 'fatal' })\n  }\n\n  render() {\n    const { error } = this.state\n\n    if (error !== null) {\n      const encodedBody = encodeURIComponent(issueBody(error))\n\n      return (\n        <FallbackWrapper>\n          <BodyWrapper>\n            <AutoColumn gap={'md'}>\n              <Text textAlign=\"center\">\n                <Trans>Oops! Something went wrong</Trans>\n              </Text>\n              <CodeBlockWrapper>\n                <code>\n                  <Text fontSize={10}>{error.stack}</Text>\n                </code>\n              </CodeBlockWrapper>\n              <AutoRow>\n                <LinkWrapper>\n                  <ExternalLink\n                    id=\"create-github-issue-link\"\n                    href={`https://github.com/KyberNetwork/kyberswap-interface/issues/new?assignees=&labels=bug&body=${encodedBody}&title=${encodeURIComponent(\n                      `Crash report: \\`${error.name}${error.message && `: ${error.message}`}\\``,\n                    )}`}\n                    target=\"_blank\"\n                  >\n                    <Text fontSize={16}>\n                      <Trans>Create an issue on GitHub</Trans>\n                      <span>↗</span>\n                    </Text>\n                  </ExternalLink>\n                </LinkWrapper>\n              </AutoRow>\n\n              <ButtonPrimary\n                margin=\"auto\"\n                width=\"fit-content\"\n                onClick={() => {\n                  localStorage.clear()\n                  window.location.reload()\n                }}\n              >\n                Refresh\n              </ButtonPrimary>\n            </AutoColumn>\n          </BodyWrapper>\n        </FallbackWrapper>\n      )\n    }\n    return this.props.children\n  }\n}\n\nfunction issueBody(error: Error): string {\n  const deviceData = userAgent\n  return `## URL\n\n${window.location.href}\n\n${\n  error.name &&\n  `## Error\n\n\\`\\`\\`\n${error.name}${error.message && `: ${error.message}`}\n\\`\\`\\`\n`\n}\n${\n  error.stack &&\n  `## Stacktrace\n\n\\`\\`\\`\n${error.stack}\n\\`\\`\\`\n`\n}\n${\n  deviceData &&\n  `## Device data\n\n\\`\\`\\`json\n${JSON.stringify(deviceData, null, 2)}\n\\`\\`\\`\n`\n}\n`\n}\n"],"mappings":";;;;;;;AACA,SAASA,gBAAT,QAAiC,eAAjC;AACA,OAAOC,KAAP,MAAoD,OAApD;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA,SAASC,QAAT,QAAyB,cAAzB;AAEA,SAASC,aAAT,QAA8B,mBAA9B;AAEA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,SAASC,OAAT,QAAwB,QAAxB;;AAEA,IAAMC,MAAM,GAAG,IAAIL,QAAJ,CAAaM,MAAM,CAACC,SAAP,CAAiBC,SAA9B,CAAf;AAEA,IAAMA,SAAS,GAAGH,MAAM,CAACI,SAAP,EAAlB;;AAEA,IAAMC,eAAe,GAAGC,OAAM,CAACC,GAAV;EAAA;EAAA;AAAA,0GAArB;;AASA,IAAMC,WAAW,GAAGF,OAAM,CAACC,GAAV;EAAA;EAAA;AAAA,mDAAjB;;AAMA,IAAME,gBAAgB,GAAGH,OAAM,CAACC,GAAV;EAAA;EAAA;AAAA,sCAAtB;;AAKA,IAAMG,WAAW,GAAGJ,OAAM,CAACC,GAAV;EAAA;EAAA;AAAA,oBAAjB;;IAQqBI,a;;;;;EACnB,uBAAYC,KAAZ,EAA+C;IAAA;;IAAA;;IAC7C,0BAAMA,KAAN;IACA,MAAKC,KAAL,GAAa;MAAEC,KAAK,EAAE;IAAT,CAAb;IAF6C;EAG9C;;;;WAMD,2BAAkBA,KAAlB,EAAgCC,SAAhC,EAAsD;MACpD,IAAMC,CAAC,GAAG,IAAIC,KAAJ,uBAAyBH,KAAK,CAACI,QAAN,EAAzB,cAA6CH,SAAS,CAACG,QAAV,EAA7C,GAAqE;QAC7EC,KAAK,EAAEL;MADsE,CAArE,CAAV;MAGAE,CAAC,CAACI,IAAF,GAAS,UAAT;MACA5B,gBAAgB,CAACwB,CAAD,EAAI;QAAEK,KAAK,EAAE;MAAT,CAAJ,CAAhB;IACD;;;WAED,kBAAS;MACP,IAAQP,KAAR,GAAkB,KAAKD,KAAvB,CAAQC,KAAR;;MAEA,IAAIA,KAAK,KAAK,IAAd,EAAoB;QAClB,IAAMQ,WAAW,GAAGC,kBAAkB,CAACC,SAAS,CAACV,KAAD,CAAV,CAAtC;QAEA,oBACE,QAAC,eAAD;UAAA,uBACE,QAAC,WAAD;YAAA,uBACE,QAAC,UAAD;cAAY,GAAG,EAAE,IAAjB;cAAA,wBACE,QAAC,IAAD;gBAAM,SAAS,EAAC,QAAhB;gBAAA,uBACE;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAIE,QAAC,gBAAD;gBAAA,uBACE;kBAAA,uBACE,QAAC,IAAD;oBAAM,QAAQ,EAAE,EAAhB;oBAAA,UAAqBA,KAAK,CAACW;kBAA3B;oBAAA;oBAAA;oBAAA;kBAAA;gBADF;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA,QAJF,eASE,QAAC,OAAD;gBAAA,uBACE,QAAC,WAAD;kBAAA,uBACE,QAAC,YAAD;oBACE,EAAE,EAAC,0BADL;oBAEE,IAAI,sGAA+FH,WAA/F,oBAAoHC,kBAAkB,0BACrHT,KAAK,CAACM,IAD+G,SACxGN,KAAK,CAACY,OAAN,gBAAsBZ,KAAK,CAACY,OAA5B,CADwG,OAAtI,CAFN;oBAKE,MAAM,EAAC,QALT;oBAAA,uBAOE,QAAC,IAAD;sBAAM,QAAQ,EAAE,EAAhB;sBAAA,wBACE;wBAAA;sBAAA,+BADF,eAEE;wBAAA;sBAAA;wBAAA;wBAAA;wBAAA;sBAAA,QAFF;oBAAA;sBAAA;sBAAA;sBAAA;oBAAA;kBAPF;oBAAA;oBAAA;oBAAA;kBAAA;gBADF;kBAAA;kBAAA;kBAAA;gBAAA;cADF;gBAAA;gBAAA;gBAAA;cAAA,QATF,eA0BE,QAAC,aAAD;gBACE,MAAM,EAAC,MADT;gBAEE,KAAK,EAAC,aAFR;gBAGE,OAAO,EAAE,mBAAM;kBACbC,YAAY,CAACC,KAAb;kBACA3B,MAAM,CAAC4B,QAAP,CAAgBC,MAAhB;gBACD,CANH;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QA1BF;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA,QADF;MA2CD;;MACD,OAAO,KAAKlB,KAAL,CAAWmB,QAAlB;IACD;;;WA/DD,kCAAgCjB,KAAhC,EAAkE;MAChE,OAAO;QAAEA,KAAK,EAALA;MAAF,CAAP;IACD;;;;EARwCrB,KAAK,CAACuC,S;;SAA5BrB,a;;AAwErB,SAASa,SAAT,CAAmBV,KAAnB,EAAyC;EACvC,IAAMmB,UAAU,GAAG9B,SAAnB;EACA,2BAEAF,MAAM,CAAC4B,QAAP,CAAgBK,IAFhB,iBAKApB,KAAK,CAACM,IAAN,+BAIAN,KAAK,CAACM,IAJN,SAIaN,KAAK,CAACY,OAAN,gBAAsBZ,KAAK,CAACY,OAA5B,CAJb,YALA,eAcAZ,KAAK,CAACW,KAAN,oCAIAX,KAAK,CAACW,KAJN,YAdA,eAuBAQ,UAAU,yCAIVE,IAAI,CAACC,SAAL,CAAeH,UAAf,EAA2B,IAA3B,EAAiC,CAAjC,CAJU,YAvBV;AAgCD"},"metadata":{},"sourceType":"module"}