{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/pages/AddLiquidityV2/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { ONE } from '@kyberswap/ks-sdk-classic';\nimport { CurrencyAmount, WETH } from '@kyberswap/ks-sdk-core';\nimport { FeeAmount, NonfungiblePositionManager } from '@kyberswap/ks-sdk-elastic';\nimport JSBI from 'jsbi';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { AlertTriangle } from 'react-feather';\nimport { Flex, Text } from 'rebass';\nimport styled from 'styled-components';\nimport { ButtonError, ButtonLight, ButtonPrimary, ButtonWarning } from 'components/Button';\nimport { OutlineCard, WarningCard } from 'components/Card';\nimport { AutoColumn } from 'components/Column';\nimport CurrencyInputPanel from 'components/CurrencyInputPanel';\nimport FeeSelector from 'components/FeeSelector';\nimport HoverInlineText from 'components/HoverInlineText';\nimport { Swap as SwapIcon } from 'components/Icons';\nimport InfoHelper from 'components/InfoHelper';\nimport LiquidityChartRangeInput from 'components/LiquidityChartRangeInput';\nimport { AddRemoveTabs, LiquidityAction } from 'components/NavigationTabs';\nimport ProAmmPoolInfo from 'components/ProAmm/ProAmmPoolInfo';\nimport ProAmmPooledTokens from 'components/ProAmm/ProAmmPooledTokens';\nimport ProAmmPriceRange from 'components/ProAmm/ProAmmPriceRange';\nimport RangeSelector from 'components/RangeSelector';\nimport PresetsButtons from 'components/RangeSelector/PresetsButtons';\nimport Row, { RowBetween, RowFixed } from 'components/Row';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal';\nimport { TutorialType } from 'components/Tutorial';\nimport { ArrowWrapper as ArrowWrapperVertical, Dots } from 'components/swapv2/styleds';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { nativeOnChain } from 'constants/tokens';\nimport { VERSION } from 'constants/v2';\nimport { useActiveWeb3React } from 'hooks';\nimport { useCurrency } from 'hooks/Tokens';\nimport { ApprovalState, useApproveCallback } from 'hooks/useApproveCallback';\nimport { useProAmmNFTPositionManagerContract } from 'hooks/useContract';\nimport useProAmmPoolInfo from 'hooks/useProAmmPoolInfo';\nimport useProAmmPreviousTicks from 'hooks/useProAmmPreviousTicks';\nimport useTheme from 'hooks/useTheme';\nimport useTransactionDeadline from 'hooks/useTransactionDeadline';\nimport { useTokensPrice, useWalletModalToggle } from 'state/application/hooks';\nimport { Bound, Field } from 'state/mint/proamm/actions';\nimport { useProAmmDerivedMintInfo, useProAmmMintActionHandlers, useProAmmMintState, useRangeHopCallbacks } from 'state/mint/proamm/hooks';\nimport { useTransactionAdder } from 'state/transactions/hooks';\nimport { useIsExpertMode } from 'state/user/hooks';\nimport { StyledInternalLink, TYPE } from 'theme';\nimport { basisPointsToPercent, calculateGasMargin, formattedNum } from 'utils';\nimport { currencyId } from 'utils/currencyId';\nimport { maxAmountSpend } from 'utils/maxAmountSpend';\nimport { unwrappedToken } from 'utils/wrappedCurrency';\nimport { useUserSlippageTolerance } from '../../state/user/hooks';\nimport { Container, DynamicSection, FlexLeft, HideMedium, MediumOnly, PageWrapper, ResponsiveTwoColumns, RightContainer, StackedContainer, StackedItem, StyledInput } from './styled'; // const DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE = new Percent(50, 10_000)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var ArrowWrapper = styled(ArrowWrapperVertical).withConfig({\n  displayName: \"AddLiquidityV2__ArrowWrapper\",\n  componentId: \"sc-19jzhp6-0\"\n})([\"transform:rotate(\", \");width:40px;height:40px;\"], function (_ref) {\n  var rotated = _ref.rotated;\n  return rotated ? '270deg' : '90deg';\n});\n_c = ArrowWrapper;\nexport default function AddLiquidity(_ref2) {\n  _s();\n\n  var _ref3,\n      _ref4,\n      _parsedAmounts$depend,\n      _parsedAmounts$depend2,\n      _formattedAmounts,\n      _parsedAmounts$Field$,\n      _currencies$Field$CUR,\n      _parsedAmounts$Field$2,\n      _currencies$Field$CUR2,\n      _this = this,\n      _currencies$Field$CUR7,\n      _currencies$Field$CUR8,\n      _currencies$Field$CUR9,\n      _currencies$Field$CUR10;\n\n  var _ref2$match$params = _ref2.match.params,\n      currencyIdA = _ref2$match$params.currencyIdA,\n      currencyIdB = _ref2$match$params.currencyIdB,\n      feeAmountFromUrl = _ref2$match$params.feeAmount,\n      history = _ref2.history;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      rotate = _useState2[0],\n      setRotate = _useState2[1];\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      account = _useActiveWeb3React.account,\n      chainId = _useActiveWeb3React.chainId,\n      library = _useActiveWeb3React.library;\n\n  var theme = useTheme();\n  var toggleWalletModal = useWalletModalToggle(); // toggle wallet when disconnected\n\n  var expertMode = useIsExpertMode();\n  var addTransactionWithType = useTransactionAdder();\n  var positionManager = useProAmmNFTPositionManagerContract(); // check for existing position if tokenId in url\n  // const { position: existingPositionDetails, loading: positionLoading } = useProAmmPositionsFromTokenId(\n  //   tokenId ? BigNumber.from(tokenId) : undefined\n  // )\n  // const hasExistingPosition = !!existingPositionDetails && !positionLoading\n  // fee selection from url\n\n  var feeAmount = feeAmountFromUrl && Object.values(FeeAmount).includes(parseFloat(feeAmountFromUrl)) ? parseFloat(feeAmountFromUrl) : FeeAmount.MEDIUM;\n  var baseCurrency = useCurrency(currencyIdA);\n  var currencyB = useCurrency(currencyIdB); // prevent an error if they input ETH/WETH\n\n  var quoteCurrency = baseCurrency && currencyB && baseCurrency.wrapped.equals(currencyB.wrapped) ? undefined : currencyB;\n  var baseCurrencyIsETHER = !!(chainId && baseCurrency && baseCurrency.isNative);\n  var baseCurrencyIsWETH = !!(chainId && baseCurrency && baseCurrency.equals(WETH[chainId]));\n  var quoteCurrencyIsETHER = !!(chainId && quoteCurrency && quoteCurrency.isNative);\n  var quoteCurrencyIsWETH = !!(chainId && quoteCurrency && quoteCurrency.equals(WETH[chainId]));\n  var tokenA = (_ref3 = baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : undefined) === null || _ref3 === void 0 ? void 0 : _ref3.wrapped;\n  var tokenB = (_ref4 = quoteCurrency !== null && quoteCurrency !== void 0 ? quoteCurrency : undefined) === null || _ref4 === void 0 ? void 0 : _ref4.wrapped;\n  var isSorted = tokenA && tokenB && tokenA.sortsBefore(tokenB); // mint state\n\n  var _useProAmmMintState = useProAmmMintState(),\n      independentField = _useProAmmMintState.independentField,\n      typedValue = _useProAmmMintState.typedValue,\n      startPriceTypedValue = _useProAmmMintState.startPriceTypedValue;\n\n  var _useProAmmDerivedMint = useProAmmDerivedMintInfo(baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : undefined, quoteCurrency !== null && quoteCurrency !== void 0 ? quoteCurrency : undefined, feeAmount, baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : undefined),\n      pool = _useProAmmDerivedMint.pool,\n      ticks = _useProAmmDerivedMint.ticks,\n      dependentField = _useProAmmDerivedMint.dependentField,\n      price = _useProAmmDerivedMint.price,\n      pricesAtTicks = _useProAmmDerivedMint.pricesAtTicks,\n      parsedAmounts = _useProAmmDerivedMint.parsedAmounts,\n      currencyBalances = _useProAmmDerivedMint.currencyBalances,\n      position = _useProAmmDerivedMint.position,\n      noLiquidity = _useProAmmDerivedMint.noLiquidity,\n      currencies = _useProAmmDerivedMint.currencies,\n      errorMessage = _useProAmmDerivedMint.errorMessage,\n      invalidPool = _useProAmmDerivedMint.invalidPool,\n      invalidRange = _useProAmmDerivedMint.invalidRange,\n      outOfRange = _useProAmmDerivedMint.outOfRange,\n      depositADisabled = _useProAmmDerivedMint.depositADisabled,\n      depositBDisabled = _useProAmmDerivedMint.depositBDisabled,\n      invertPrice = _useProAmmDerivedMint.invertPrice,\n      ticksAtLimit = _useProAmmDerivedMint.ticksAtLimit,\n      amount0Unlock = _useProAmmDerivedMint.amount0Unlock,\n      amount1Unlock = _useProAmmDerivedMint.amount1Unlock;\n\n  var poolAddress = useProAmmPoolInfo(baseCurrency, currencyB, feeAmount);\n  var previousTicks = // : number[] = []\n  useProAmmPreviousTicks(pool, position);\n\n  var _useProAmmMintActionH = useProAmmMintActionHandlers(noLiquidity),\n      onFieldAInput = _useProAmmMintActionH.onFieldAInput,\n      onFieldBInput = _useProAmmMintActionH.onFieldBInput,\n      onLeftRangeInput = _useProAmmMintActionH.onLeftRangeInput,\n      onRightRangeInput = _useProAmmMintActionH.onRightRangeInput,\n      onStartPriceInput = _useProAmmMintActionH.onStartPriceInput;\n\n  var isValid = !errorMessage && !invalidRange; // modal and loading\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showConfirm = _useState4[0],\n      setShowConfirm = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      attemptingTxn = _useState6[0],\n      setAttemptingTxn = _useState6[1]; // clicked confirm\n  // capital efficiency warning\n\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showCapitalEfficiencyWarning = _useState8[0],\n      setShowCapitalEfficiencyWarning = _useState8[1];\n\n  useEffect(function () {\n    return setShowCapitalEfficiencyWarning(false);\n  }, [baseCurrency, quoteCurrency, feeAmount]); // txn values\n\n  var deadline = useTransactionDeadline(); // custom from users settings\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      txHash = _useState10[0],\n      setTxHash = _useState10[1]; // get formatted amounts\n\n\n  var formattedAmounts = (_formattedAmounts = {}, _defineProperty(_formattedAmounts, independentField, typedValue), _defineProperty(_formattedAmounts, dependentField, (_parsedAmounts$depend = (_parsedAmounts$depend2 = parsedAmounts[dependentField]) === null || _parsedAmounts$depend2 === void 0 ? void 0 : _parsedAmounts$depend2.toExact()) !== null && _parsedAmounts$depend !== void 0 ? _parsedAmounts$depend : ''), _formattedAmounts); // const [amount0Unlock, amount1Unlock] = useMemo(() => {\n  //   if (price && noLiquidity) {\n  //     return [\n  //       FullMath.mulDiv(\n  //         SqrtPriceMath.getAmount0Unlock(encodeSqrtRatioX96(price.numerator, price.denominator)),\n  //         JSBI.BigInt('105'),\n  //         JSBI.BigInt('100'),\n  //       ),\n  //       FullMath.mulDiv(\n  //         SqrtPriceMath.getAmount1Unlock(encodeSqrtRatioX96(price.numerator, price.denominator)),\n  //         JSBI.BigInt('105'),\n  //         JSBI.BigInt('100'),\n  //       ),\n  //     ]\n  //   }\n  //   return [JSBI.BigInt('0'), JSBI.BigInt('0')]\n  // }, [noLiquidity, price])\n  // get the max amounts user can add\n\n  var maxAmounts = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(function (accumulator, field) {\n    var maxAmount = maxAmountSpend(currencyBalances[field]);\n    var amountUnlock = JSBI.BigInt('0');\n\n    if (maxAmount && currencies[field] && noLiquidity && tokenA && tokenB) {\n      var _maxAmount;\n\n      if (!invertPrice && tokenA.equals(currencies[field]) || invertPrice && tokenB.equals(currencies[field])) {\n        amountUnlock = amount0Unlock;\n      } else {\n        amountUnlock = amount1Unlock;\n      }\n\n      maxAmount = (_maxAmount = maxAmount) === null || _maxAmount === void 0 ? void 0 : _maxAmount.subtract(CurrencyAmount.fromRawAmount(currencies[field], amountUnlock));\n    }\n\n    return _objectSpread(_objectSpread({}, accumulator), {}, _defineProperty({}, field, maxAmount));\n  }, {}); // check whether the user has approved the router on the tokens\n\n  var _useApproveCallback = useApproveCallback(!!currencies[Field.CURRENCY_A] && depositADisabled && noLiquidity ? CurrencyAmount.fromFractionalAmount(currencies[Field.CURRENCY_A], ONE, ONE) : parsedAmounts[Field.CURRENCY_A], chainId ? NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager : undefined),\n      _useApproveCallback2 = _slicedToArray(_useApproveCallback, 2),\n      approvalA = _useApproveCallback2[0],\n      approveACallback = _useApproveCallback2[1];\n\n  var _useApproveCallback3 = useApproveCallback(!!currencies[Field.CURRENCY_B] && depositBDisabled && noLiquidity ? CurrencyAmount.fromFractionalAmount(currencies[Field.CURRENCY_B], ONE, ONE) : parsedAmounts[Field.CURRENCY_B], chainId ? NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager : undefined),\n      _useApproveCallback4 = _slicedToArray(_useApproveCallback3, 2),\n      approvalB = _useApproveCallback4[0],\n      approveBCallback = _useApproveCallback4[1];\n\n  var tokens = useMemo(function () {\n    return [currencies[Field.CURRENCY_A], currencies[Field.CURRENCY_B]].map(function (currency) {\n      return currency === null || currency === void 0 ? void 0 : currency.wrapped;\n    });\n  }, [currencies]);\n  var usdPrices = useTokensPrice(tokens, VERSION.ELASTIC);\n  var estimatedUsdCurrencyA = parsedAmounts[Field.CURRENCY_A] && usdPrices[0] ? parseFloat(parsedAmounts[Field.CURRENCY_A].toExact()) * usdPrices[0] : 0;\n  var estimatedUsdCurrencyB = parsedAmounts[Field.CURRENCY_B] && usdPrices[1] ? parseFloat(parsedAmounts[Field.CURRENCY_B].toExact()) * usdPrices[1] : 0;\n  var allowedSlippage = useUserSlippageTolerance();\n\n  function onAdd() {\n    return _onAdd.apply(this, arguments);\n  }\n\n  function _onAdd() {\n    _onAdd = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var useNative, _NonfungiblePositionM, calldata, value, txn;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!chainId || !library || !account)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              if (!(!positionManager || !baseCurrency || !quoteCurrency)) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              if (!(!previousTicks || previousTicks.length !== 2)) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 6:\n              if (!(position && account && deadline)) {\n                _context.next = 14;\n                break;\n              }\n\n              useNative = baseCurrency.isNative ? baseCurrency : quoteCurrency.isNative ? quoteCurrency : undefined;\n              _NonfungiblePositionM = NonfungiblePositionManager.addCallParameters(position, previousTicks, {\n                slippageTolerance: basisPointsToPercent(allowedSlippage[0]),\n                recipient: account,\n                deadline: deadline.toString(),\n                useNative: useNative,\n                createPool: noLiquidity\n              }), calldata = _NonfungiblePositionM.calldata, value = _NonfungiblePositionM.value; //0.00283161\n\n              txn = {\n                to: NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager,\n                data: calldata,\n                value: value\n              };\n              setAttemptingTxn(true);\n              library.getSigner().estimateGas(txn).then(function (estimate) {\n                var newTxn = _objectSpread(_objectSpread({}, txn), {}, {\n                  gasLimit: calculateGasMargin(estimate)\n                }); //calculateGasMargin = 0x0827f6\n\n\n                console.log(\"calculateGasMargin\", NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager);\n                return library.getSigner().sendTransaction(newTxn).then(function (response) {\n                  setAttemptingTxn(false);\n\n                  if (noLiquidity) {\n                    var _parsedAmounts$Field$3, _parsedAmounts$Field$4, _parsedAmounts$Field$5, _parsedAmounts$Field$6;\n\n                    addTransactionWithType(response, {\n                      type: 'Elastic Create pool',\n                      summary: \"\".concat((_parsedAmounts$Field$3 = (_parsedAmounts$Field$4 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$4 === void 0 ? void 0 : _parsedAmounts$Field$4.toSignificant(6)) !== null && _parsedAmounts$Field$3 !== void 0 ? _parsedAmounts$Field$3 : '0', \" \").concat(baseCurrency.symbol, \" and \").concat((_parsedAmounts$Field$5 = (_parsedAmounts$Field$6 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$6 === void 0 ? void 0 : _parsedAmounts$Field$6.toSignificant(6)) !== null && _parsedAmounts$Field$5 !== void 0 ? _parsedAmounts$Field$5 : '0', \" \").concat(quoteCurrency.symbol, \" \"),\n                      arbitrary: {\n                        token_1: baseCurrency.symbol,\n                        token_2: quoteCurrency.symbol\n                      }\n                    });\n                  } else {\n                    var _parsedAmounts$Field$7, _parsedAmounts$Field$8, _parsedAmounts$Field$9, _parsedAmounts$Field$10;\n\n                    addTransactionWithType(response, {\n                      type: 'Elastic Add liquidity',\n                      summary: \"\".concat((_parsedAmounts$Field$7 = (_parsedAmounts$Field$8 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$8 === void 0 ? void 0 : _parsedAmounts$Field$8.toSignificant(6)) !== null && _parsedAmounts$Field$7 !== void 0 ? _parsedAmounts$Field$7 : '0', \" \").concat(baseCurrency.symbol, \" and \").concat((_parsedAmounts$Field$9 = (_parsedAmounts$Field$10 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$10 === void 0 ? void 0 : _parsedAmounts$Field$10.toSignificant(6)) !== null && _parsedAmounts$Field$9 !== void 0 ? _parsedAmounts$Field$9 : '0', \" \").concat(quoteCurrency.symbol, \" \"),\n                      arbitrary: {\n                        poolAddress: poolAddress,\n                        token_1: baseCurrency.symbol,\n                        token_2: quoteCurrency.symbol\n                      }\n                    });\n                  }\n\n                  setTxHash(response.hash);\n                });\n              }).catch(function (error) {\n                console.error('Failed to send transaction', error);\n                setAttemptingTxn(false); // we only care if the error is something _other_ than the user rejected the tx\n\n                if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n                  console.error(error);\n                }\n              });\n              _context.next = 15;\n              break;\n\n            case 14:\n              return _context.abrupt(\"return\");\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _onAdd.apply(this, arguments);\n  }\n\n  var handleCurrencySelect = useCallback(function (currencyNew, currencyIdOther) {\n    var currencyIdNew = currencyId(currencyNew, chainId);\n\n    if (currencyIdNew === currencyIdOther) {\n      // not ideal, but for now clobber the other if the currency ids are equal\n      return [currencyIdNew, undefined];\n    } else {\n      var _WETH$chainId, _WETH$chainId2;\n\n      // prevent weth + eth\n      var isETHOrWETHNew = currencyNew.isNative || chainId && currencyIdNew === ((_WETH$chainId = WETH[chainId]) === null || _WETH$chainId === void 0 ? void 0 : _WETH$chainId.address);\n      var isETHOrWETHOther = !!currencyIdOther && (chainId && currencyIdOther === nativeOnChain(chainId).symbol || chainId && currencyIdOther === ((_WETH$chainId2 = WETH[chainId]) === null || _WETH$chainId2 === void 0 ? void 0 : _WETH$chainId2.address));\n\n      if (isETHOrWETHNew && isETHOrWETHOther) {\n        return [currencyIdNew, undefined];\n      } else {\n        return [currencyIdNew, currencyIdOther];\n      }\n    }\n  }, [chainId]);\n  var handleCurrencyASelect = useCallback(function (currencyANew) {\n    var _handleCurrencySelect = handleCurrencySelect(currencyANew, currencyIdB),\n        _handleCurrencySelect2 = _slicedToArray(_handleCurrencySelect, 2),\n        idA = _handleCurrencySelect2[0],\n        idB = _handleCurrencySelect2[1];\n\n    if (idB === undefined) {\n      history.push(\"/elastic/add/\".concat(idA));\n    } else {\n      history.push(\"/elastic/add/\".concat(idA, \"/\").concat(idB));\n    }\n  }, [handleCurrencySelect, currencyIdB, history]);\n  var handleCurrencyBSelect = useCallback(function (currencyBNew) {\n    var _handleCurrencySelect3 = handleCurrencySelect(currencyBNew, currencyIdA),\n        _handleCurrencySelect4 = _slicedToArray(_handleCurrencySelect3, 2),\n        idB = _handleCurrencySelect4[0],\n        idA = _handleCurrencySelect4[1];\n\n    if (idA === undefined) {\n      history.push(\"/elastic/add/\".concat(idB));\n    } else {\n      history.push(\"/elastic/add/\".concat(idA, \"/\").concat(idB));\n    }\n  }, [handleCurrencySelect, currencyIdA, history]);\n  var handleFeePoolSelect = useCallback(function (newFeeAmount) {\n    onLeftRangeInput('');\n    onRightRangeInput('');\n    history.push(\"/elastic/add/\".concat(currencyIdA, \"/\").concat(currencyIdB, \"/\").concat(newFeeAmount));\n  }, [currencyIdA, currencyIdB, history, onLeftRangeInput, onRightRangeInput]);\n  var handleDismissConfirmation = useCallback(function () {\n    setShowConfirm(false); // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onFieldAInput(''); // dont jump to pool page if creating\n\n      history.push('/myPools');\n    }\n\n    setTxHash('');\n  }, [history, onFieldAInput, txHash]);\n  var addIsUnsupported = false; // const clearAll = useCallback(() => {\n  //   onFieldAInput('')\n  //   onFieldBInput('')\n  //   onLeftRangeInput('')\n  //   onRightRangeInput('')\n  //   history.push(`/add`)\n  // }, [history, onFieldAInput, onFieldBInput, onLeftRangeInput, onRightRangeInput])\n  // get value and prices at ticks\n\n  var tickLower = ticks[Bound.LOWER],\n      tickUpper = ticks[Bound.UPPER];\n  var priceLower = pricesAtTicks[Bound.LOWER],\n      priceUpper = pricesAtTicks[Bound.UPPER];\n  var leftPrice = isSorted ? priceLower : priceUpper === null || priceUpper === void 0 ? void 0 : priceUpper.invert();\n  var rightPrice = isSorted ? priceUpper : priceLower === null || priceLower === void 0 ? void 0 : priceLower.invert();\n\n  var _useRangeHopCallbacks = useRangeHopCallbacks(baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : undefined, quoteCurrency !== null && quoteCurrency !== void 0 ? quoteCurrency : undefined, feeAmount, tickLower, tickUpper, pool, price),\n      getDecrementLower = _useRangeHopCallbacks.getDecrementLower,\n      getIncrementLower = _useRangeHopCallbacks.getIncrementLower,\n      getDecrementUpper = _useRangeHopCallbacks.getDecrementUpper,\n      getIncrementUpper = _useRangeHopCallbacks.getIncrementUpper,\n      getSetFullRange = _useRangeHopCallbacks.getSetFullRange; // we need an existence check on parsed amounts for single-asset deposits\n\n\n  var showApprovalA = approvalA !== ApprovalState.APPROVED && (noLiquidity ? true : !!parsedAmounts[Field.CURRENCY_A]);\n  var showApprovalB = approvalB !== ApprovalState.APPROVED && (noLiquidity ? true : !!parsedAmounts[Field.CURRENCY_B]);\n  var pendingText = \"Supplying \".concat(!depositADisabled ? (_parsedAmounts$Field$ = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$ === void 0 ? void 0 : _parsedAmounts$Field$.toSignificant(10) : '', \" \").concat(!depositADisabled ? (_currencies$Field$CUR = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR === void 0 ? void 0 : _currencies$Field$CUR.symbol : '', \" \").concat(!depositADisabled && !depositBDisabled ? 'and' : '', \" \").concat(!depositBDisabled ? (_parsedAmounts$Field$2 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$2 === void 0 ? void 0 : _parsedAmounts$Field$2.toSignificant(10) : '', \" \").concat(!depositBDisabled ? (_currencies$Field$CUR2 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR2 === void 0 ? void 0 : _currencies$Field$CUR2.symbol : '');\n\n  var Buttons = function Buttons() {\n    var _currencies$Field$CUR3, _currencies$Field$CUR4, _currencies$Field$CUR5, _currencies$Field$CUR6;\n\n    return addIsUnsupported ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n      disabled: true,\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Unsupported Asset\"\n      }, void 0, false, void 0, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, _this) : !account ? /*#__PURE__*/_jsxDEV(ButtonLight, {\n      onClick: toggleWalletModal,\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Connect Wallet\"\n      }, void 0, false, void 0, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, _this) : /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        gap: '16px'\n      },\n      flexDirection: isValid && showApprovalA && showApprovalB ? 'column' : 'row',\n      children: [(approvalA === ApprovalState.NOT_APPROVED || approvalA === ApprovalState.PENDING || approvalB === ApprovalState.NOT_APPROVED || approvalB === ApprovalState.PENDING) && isValid && /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [showApprovalA && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n          onClick: approveACallback,\n          disabled: approvalA === ApprovalState.PENDING,\n          width: showApprovalB ? '48%' : '100%',\n          children: approvalA === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Approving {0}\",\n              values: {\n                0: (_currencies$Field$CUR3 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR3 === void 0 ? void 0 : _currencies$Field$CUR3.symbol\n              }\n            }, void 0, false, void 0, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 21\n          }, _this) : /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Approve {0}\",\n            values: {\n              0: (_currencies$Field$CUR4 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR4 === void 0 ? void 0 : _currencies$Field$CUR4.symbol\n            }\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 17\n        }, _this), showApprovalB && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n          onClick: approveBCallback,\n          disabled: approvalB === ApprovalState.PENDING,\n          width: showApprovalA ? '48%' : '100%',\n          children: approvalB === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Approving {0}\",\n              values: {\n                0: (_currencies$Field$CUR5 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR5 === void 0 ? void 0 : _currencies$Field$CUR5.symbol\n              }\n            }, void 0, false, void 0, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 21\n          }, _this) : /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Approve {0}\",\n            values: {\n              0: (_currencies$Field$CUR6 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR6 === void 0 ? void 0 : _currencies$Field$CUR6.symbol\n            }\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 17\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(ButtonError, {\n        onClick: function onClick() {\n          expertMode ? onAdd() : setShowConfirm(true);\n        },\n        disabled: !isValid || approvalA !== ApprovalState.APPROVED && (!depositADisabled || noLiquidity) || approvalB !== ApprovalState.APPROVED && (!depositBDisabled || noLiquidity),\n        error: !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B] && false,\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontWeight: 500,\n          children: errorMessage ? errorMessage : /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Preview\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var chart = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(DynamicSection, {\n      gap: \"md\",\n      disabled: !feeAmount || invalidPool,\n      children: [!noLiquidity ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontWeight: \"500\",\n          style: {\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Set Your Price Range\"\n          }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(InfoHelper, {\n            size: 14,\n            text:\n            /*i18n*/\n            i18n._(\"Represents the range where all your liquidity is concentrated. When market price of your token pair is no longer between your selected price range, your liquidity becomes inactive and you stop earning fees\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), price && baseCurrency && quoteCurrency && !noLiquidity && /*#__PURE__*/_jsxDEV(Flex, {\n          justifyContent: \"center\",\n          marginTop: \"0.5rem\",\n          sx: {\n            gap: '0.25rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: 500,\n            textAlign: \"center\",\n            color: theme.subText,\n            fontSize: 12,\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Current Price\"\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: 500,\n            textAlign: \"center\",\n            fontSize: 12,\n            children: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n              maxCharacters: 20,\n              text: invertPrice ? price.invert().toSignificant(6) : price.toSignificant(6)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: 12,\n            children: [quoteCurrency === null || quoteCurrency === void 0 ? void 0 : quoteCurrency.symbol, \" per \", baseCurrency.symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(LiquidityChartRangeInput, {\n          currencyA: baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : undefined,\n          currencyB: quoteCurrency !== null && quoteCurrency !== void 0 ? quoteCurrency : undefined,\n          feeAmount: feeAmount,\n          ticksAtLimit: ticksAtLimit,\n          price: price ? parseFloat((invertPrice ? price.invert() : price).toSignificant(8)) : undefined,\n          priceLower: priceLower,\n          priceUpper: priceUpper,\n          onLeftRangeInput: onLeftRangeInput,\n          onRightRangeInput: onRightRangeInput,\n          interactive: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(AutoColumn, {\n        gap: \"1rem\",\n        children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: \"500\",\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Set Starting Price\"\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this), noLiquidity && /*#__PURE__*/_jsxDEV(Flex, {\n          style: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            padding: '1rem 0',\n            borderTop: \"1px solid \".concat(theme.border),\n            borderBottom: \"1px solid \".concat(theme.border)\n          },\n          children: /*#__PURE__*/_jsxDEV(TYPE.body, {\n            fontSize: 12,\n            textAlign: \"left\",\n            color: theme.subText,\n            lineHeight: \"16px\",\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"To initialize this pool, select a starting price for the pool then enter your liquidity price range. Gas fees will be higher than usual due to initialization of the pool.\"\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(OutlineCard, {\n          padding: \"12px 16px\",\n          style: {\n            borderRadius: '999px',\n            backgroundColor: theme.buttonBlack,\n            border: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(StyledInput, {\n            className: \"start-price-input\",\n            value: startPriceTypedValue,\n            onUserInput: onStartPriceInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontWeight: \"500\",\n            color: theme.subText,\n            style: {\n              textTransform: 'uppercase'\n            },\n            fontSize: \"12px\",\n            children: /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"Current Price\"\n            }, void 0, false, void 0, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TYPE.main, {\n            children: price ? /*#__PURE__*/_jsxDEV(TYPE.main, {\n              children: /*#__PURE__*/_jsxDEV(RowFixed, {\n                children: /*#__PURE__*/_jsxDEV(HoverInlineText, {\n                  maxCharacters: 20,\n                  text: \"1 \".concat(baseCurrency === null || baseCurrency === void 0 ? void 0 : baseCurrency.symbol, \" = \").concat(invertPrice ? price.invert().toSignificant(6) : price.toSignificant(6), \" \").concat(quoteCurrency === null || quoteCurrency === void 0 ? void 0 : quoteCurrency.symbol)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 19\n            }, this) : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DynamicSection, {\n        gap: \"md\",\n        disabled: !feeAmount || invalidPool || noLiquidity && !startPriceTypedValue,\n        children: [/*#__PURE__*/_jsxDEV(StackedContainer, {\n          children: [/*#__PURE__*/_jsxDEV(StackedItem, {\n            style: {\n              opacity: showCapitalEfficiencyWarning ? '0.05' : 1\n            },\n            children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"md\",\n              children: [noLiquidity && /*#__PURE__*/_jsxDEV(RowBetween, {\n                children: /*#__PURE__*/_jsxDEV(Text, {\n                  fontWeight: \"500\",\n                  style: {\n                    display: 'flex'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Set Your Price Range\"\n                  }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(InfoHelper, {\n                    text:\n                    /*i18n*/\n                    i18n._(\"Represents the range where all your liquidity is concentrated. When market price of your token pair is no longer between your selected price range, your liquidity becomes inactive and you stop earning fees\"),\n                    placement: 'right'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(RangeSelector, {\n                priceLower: priceLower,\n                priceUpper: priceUpper,\n                getDecrementLower: getDecrementLower,\n                getIncrementLower: getIncrementLower,\n                getDecrementUpper: getDecrementUpper,\n                getIncrementUpper: getIncrementUpper,\n                onLeftRangeInput: onLeftRangeInput,\n                onRightRangeInput: onRightRangeInput,\n                currencyA: baseCurrency,\n                currencyB: quoteCurrency,\n                feeAmount: feeAmount,\n                ticksAtLimit: ticksAtLimit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 17\n              }, this), !noLiquidity && /*#__PURE__*/_jsxDEV(PresetsButtons, {\n                setFullRange: function setFullRange() {\n                  setShowCapitalEfficiencyWarning(true);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this), showCapitalEfficiencyWarning && /*#__PURE__*/_jsxDEV(StackedItem, {\n            zIndex: 1,\n            children: /*#__PURE__*/_jsxDEV(WarningCard, {\n              padding: \"15px\",\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"8px\",\n                style: {\n                  height: '100%'\n                },\n                children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n                  children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                    stroke: theme.warning,\n                    size: \"16px\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(TYPE.warning, {\n                    ml: \"12px\",\n                    fontSize: \"15px\",\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Efficiency Comparison\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 651,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n                  children: /*#__PURE__*/_jsxDEV(TYPE.warning, {\n                    ml: \"12px\",\n                    fontSize: \"13px\",\n                    margin: 0,\n                    fontWeight: 400,\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Full range positions may earn less fees than concentrated positions.\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(ButtonWarning, {\n                    padding: \"8px\",\n                    marginRight: \"8px\",\n                    width: \"100%\",\n                    onClick: function onClick() {\n                      setShowCapitalEfficiencyWarning(false);\n                      getSetFullRange();\n                    },\n                    children: /*#__PURE__*/_jsxDEV(TYPE.black, {\n                      fontSize: 13,\n                      children: /*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"I understand\"\n                      }, void 0, false, void 0, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 670,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 661,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 11\n        }, this), outOfRange ? /*#__PURE__*/_jsxDEV(WarningCard, {\n          padding: \"10px 16px\",\n          children: /*#__PURE__*/_jsxDEV(Flex, {\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              stroke: theme.warning,\n              size: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TYPE.warning, {\n              ml: \"12px\",\n              fontSize: \"12px\",\n              flex: 1,\n              children: /*#__PURE__*/_jsxDEV(Trans, {\n                id: \"Your position will not earn fees until the market price of the pool moves into your price range.\"\n              }, void 0, false, void 0, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this) : null, invalidRange ? /*#__PURE__*/_jsxDEV(WarningCard, {\n          padding: \"10px 16px\",\n          children: /*#__PURE__*/_jsxDEV(Flex, {\n            alignItems: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              stroke: theme.warning,\n              size: \"16px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TYPE.warning, {\n              ml: \"12px\",\n              fontSize: \"12px\",\n              flex: 1,\n              children: /*#__PURE__*/_jsxDEV(Trans, {\n                id: \"Invalid range selected. The min price must be lower than the max price.\"\n              }, void 0, false, void 0, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 696,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n      isOpen: showConfirm,\n      onDismiss: handleDismissConfirmation,\n      attemptingTxn: attemptingTxn,\n      hash: txHash,\n      content: function content() {\n        return /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n          title: !!noLiquidity ?\n          /*i18n*/\n          i18n._(\"Create a new pool\") :\n          /*i18n*/\n          i18n._(\"Add Liquidity\"),\n          onDismiss: handleDismissConfirmation,\n          topContent: function topContent() {\n            return position &&\n            /*#__PURE__*/\n            // <PositionPreview\n            //   position={position}\n            //   title={<Trans>Selected Range</Trans>}\n            //   inRange={!outOfRange}\n            //   ticksAtLimit={ticksAtLimit}\n            // />\n            _jsxDEV(\"div\", {\n              style: {\n                marginTop: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(ProAmmPoolInfo, {\n                position: position\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(ProAmmPooledTokens, {\n                liquidityValue0: CurrencyAmount.fromRawAmount(unwrappedToken(position.pool.token0), position.amount0.quotient),\n                liquidityValue1: CurrencyAmount.fromRawAmount(unwrappedToken(position.pool.token1), position.amount1.quotient),\n                title: 'New Liquidity Amount'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(ProAmmPriceRange, {\n                position: position,\n                ticksAtLimit: ticksAtLimit\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 17\n            }, _this);\n          },\n          bottomContent: function bottomContent() {\n            return /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n              onClick: onAdd,\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                fontWeight: 500,\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Supply\"\n                }, void 0, false, void 0, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 15\n            }, _this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 11\n        }, _this);\n      },\n      pendingText: pendingText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageWrapper, {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(AddRemoveTabs, {\n          hideShare: true,\n          action: !!noLiquidity ? LiquidityAction.CREATE : LiquidityAction.ADD,\n          showTooltip: true,\n          onCleared: function onCleared() {\n            onFieldAInput('0');\n            onFieldBInput('0');\n            history.push('/elastic/add');\n          },\n          onBack: function onBack() {\n            history.replace('/pools');\n          },\n          tutorialType: TutorialType.ELASTIC_ADD_LIQUIDITY\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResponsiveTwoColumns, {\n          children: [/*#__PURE__*/_jsxDEV(FlexLeft, {\n            children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n              style: {\n                gap: '12px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                hideBalance: true,\n                value: formattedAmounts[Field.CURRENCY_A],\n                onUserInput: onFieldAInput,\n                hideInput: true,\n                showMaxButton: false,\n                onCurrencySelect: handleCurrencyASelect,\n                currency: (_currencies$Field$CUR7 = currencies[Field.CURRENCY_A]) !== null && _currencies$Field$CUR7 !== void 0 ? _currencies$Field$CUR7 : null,\n                id: \"add-liquidity-input-tokena\",\n                showCommonBases: true,\n                estimatedUsd: formattedNum(estimatedUsdCurrencyA.toString(), true) || undefined,\n                maxCurrencySymbolLength: 6\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ArrowWrapper, {\n                rotated: rotate,\n                onClick: function onClick() {\n                  if (!!rightPrice) {\n                    onLeftRangeInput(rightPrice === null || rightPrice === void 0 ? void 0 : rightPrice.invert().toString());\n                  }\n\n                  if (!!leftPrice) {\n                    onRightRangeInput(leftPrice === null || leftPrice === void 0 ? void 0 : leftPrice.invert().toString());\n                  }\n\n                  setRotate(function (prev) {\n                    return !prev;\n                  });\n                },\n                children: !currencyIdA && !currencyIdB ? /*#__PURE__*/_jsxDEV(SwapIcon, {\n                  size: 24,\n                  color: theme.subText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 802,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                  replace: true,\n                  to: \"/elastic/add/\".concat(currencyIdB, \"/\").concat(currencyIdA, \"/\").concat(feeAmount),\n                  style: {\n                    color: 'inherit',\n                    display: 'flex'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(SwapIcon, {\n                    size: 24,\n                    color: theme.subText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 809,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 804,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 789,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                hideBalance: true,\n                value: formattedAmounts[Field.CURRENCY_B],\n                hideInput: true,\n                onUserInput: onFieldBInput,\n                onCurrencySelect: handleCurrencyBSelect,\n                showMaxButton: false,\n                positionMax: \"top\",\n                currency: (_currencies$Field$CUR8 = currencies[Field.CURRENCY_B]) !== null && _currencies$Field$CUR8 !== void 0 ? _currencies$Field$CUR8 : null,\n                id: \"add-liquidity-input-tokenb\",\n                showCommonBases: true,\n                estimatedUsd: formattedNum(estimatedUsdCurrencyB.toString(), true) || undefined,\n                maxCurrencySymbolLength: 6\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DynamicSection, {\n              disabled: !currencyIdA || !currencyIdB,\n              gap: \"16px\",\n              children: [/*#__PURE__*/_jsxDEV(Text, {\n                fontWeight: 500,\n                fontSize: \"1rem\",\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Select fee tier\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FeeSelector, {\n                feeAmount: feeAmount,\n                onChange: handleFeePoolSelect,\n                currencyA: currencies[Field.CURRENCY_A],\n                currencyB: currencies[Field.CURRENCY_B]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"16px\",\n                children: [/*#__PURE__*/_jsxDEV(HideMedium, {\n                  children: chart\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DynamicSection, {\n                  gap: \"16px\",\n                  disabled: tickLower === undefined || tickUpper === undefined || invalidPool || invalidRange,\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: 500,\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Deposit Amounts\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                    value: formattedAmounts[Field.CURRENCY_A],\n                    onUserInput: onFieldAInput,\n                    onMax: function onMax() {\n                      var _maxAmounts$Field$CUR, _maxAmounts$Field$CUR2;\n\n                      onFieldAInput((_maxAmounts$Field$CUR = (_maxAmounts$Field$CUR2 = maxAmounts[Field.CURRENCY_A]) === null || _maxAmounts$Field$CUR2 === void 0 ? void 0 : _maxAmounts$Field$CUR2.toExact()) !== null && _maxAmounts$Field$CUR !== void 0 ? _maxAmounts$Field$CUR : '');\n                    },\n                    onHalf: function onHalf() {\n                      var _currencyBalances$Fie, _currencyBalances$Fie2;\n\n                      onFieldAInput((_currencyBalances$Fie = (_currencyBalances$Fie2 = currencyBalances[Field.CURRENCY_A]) === null || _currencyBalances$Fie2 === void 0 ? void 0 : _currencyBalances$Fie2.divide(2).toExact()) !== null && _currencyBalances$Fie !== void 0 ? _currencyBalances$Fie : '');\n                    },\n                    showMaxButton: true,\n                    currency: (_currencies$Field$CUR9 = currencies[Field.CURRENCY_A]) !== null && _currencies$Field$CUR9 !== void 0 ? _currencies$Field$CUR9 : null,\n                    id: \"add-liquidity-input-tokena\",\n                    showCommonBases: true,\n                    positionMax: \"top\",\n                    locked: depositADisabled,\n                    estimatedUsd: formattedNum(estimatedUsdCurrencyA.toString(), true) || undefined,\n                    disableCurrencySelect: !baseCurrencyIsETHER && !baseCurrencyIsWETH,\n                    isSwitchMode: baseCurrencyIsETHER || baseCurrencyIsWETH,\n                    onSwitchCurrency: function onSwitchCurrency() {\n                      chainId && history.replace(\"/elastic/add/\".concat(baseCurrencyIsETHER ? WETH[chainId].address : nativeOnChain(chainId).symbol, \"/\").concat(currencyIdB, \"/\").concat(feeAmount));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DynamicSection, {\n                  gap: \"md\",\n                  disabled: tickLower === undefined || tickUpper === undefined || invalidPool || invalidRange,\n                  children: /*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                    value: formattedAmounts[Field.CURRENCY_B],\n                    onUserInput: onFieldBInput,\n                    onMax: function onMax() {\n                      var _maxAmounts$Field$CUR3, _maxAmounts$Field$CUR4;\n\n                      onFieldBInput((_maxAmounts$Field$CUR3 = (_maxAmounts$Field$CUR4 = maxAmounts[Field.CURRENCY_B]) === null || _maxAmounts$Field$CUR4 === void 0 ? void 0 : _maxAmounts$Field$CUR4.toExact()) !== null && _maxAmounts$Field$CUR3 !== void 0 ? _maxAmounts$Field$CUR3 : '');\n                    },\n                    onHalf: function onHalf() {\n                      var _currencyBalances$Fie3, _currencyBalances$Fie4;\n\n                      onFieldBInput((_currencyBalances$Fie3 = (_currencyBalances$Fie4 = currencyBalances[Field.CURRENCY_B]) === null || _currencyBalances$Fie4 === void 0 ? void 0 : _currencyBalances$Fie4.divide(2).toExact()) !== null && _currencyBalances$Fie3 !== void 0 ? _currencyBalances$Fie3 : '');\n                    },\n                    showMaxButton: true,\n                    currency: (_currencies$Field$CUR10 = currencies[Field.CURRENCY_B]) !== null && _currencies$Field$CUR10 !== void 0 ? _currencies$Field$CUR10 : null,\n                    id: \"add-liquidity-input-tokenb\",\n                    showCommonBases: true,\n                    positionMax: \"top\",\n                    locked: depositBDisabled,\n                    estimatedUsd: formattedNum(estimatedUsdCurrencyB.toString(), true) || undefined,\n                    disableCurrencySelect: !quoteCurrencyIsETHER && !quoteCurrencyIsWETH,\n                    isSwitchMode: quoteCurrencyIsETHER || quoteCurrencyIsWETH,\n                    onSwitchCurrency: function onSwitchCurrency() {\n                      chainId && history.replace(\"/elastic/add/\".concat(currencyIdA, \"/\").concat(quoteCurrencyIsETHER ? WETH[chainId].address : nativeOnChain(chainId).symbol, \"/\").concat(feeAmount));\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 884,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 880,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(HideMedium, {\n            children: /*#__PURE__*/_jsxDEV(Buttons, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RightContainer, {\n            gap: \"lg\",\n            children: [/*#__PURE__*/_jsxDEV(MediumOnly, {\n              children: chart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MediumOnly, {\n              children: /*#__PURE__*/_jsxDEV(Buttons, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddLiquidity, \"sciVCrlExBNkkeQ7KOwfsapIBEk=\", false, function () {\n  return [useActiveWeb3React, useTheme, useWalletModalToggle, useIsExpertMode, useTransactionAdder, useProAmmNFTPositionManagerContract, useCurrency, useCurrency, useProAmmMintState, useProAmmDerivedMintInfo, useProAmmPoolInfo, useProAmmPreviousTicks, useProAmmMintActionHandlers, useTransactionDeadline, useApproveCallback, useApproveCallback, useTokensPrice, useUserSlippageTolerance, useRangeHopCallbacks];\n});\n\n_c2 = AddLiquidity;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ArrowWrapper\");\n$RefreshReg$(_c2, \"AddLiquidity\");","map":{"version":3,"names":["ONE","CurrencyAmount","WETH","FeeAmount","NonfungiblePositionManager","JSBI","React","useCallback","useEffect","useMemo","useState","AlertTriangle","Flex","Text","styled","ButtonError","ButtonLight","ButtonPrimary","ButtonWarning","OutlineCard","WarningCard","AutoColumn","CurrencyInputPanel","FeeSelector","HoverInlineText","Swap","SwapIcon","InfoHelper","LiquidityChartRangeInput","AddRemoveTabs","LiquidityAction","ProAmmPoolInfo","ProAmmPooledTokens","ProAmmPriceRange","RangeSelector","PresetsButtons","Row","RowBetween","RowFixed","TransactionConfirmationModal","ConfirmationModalContent","TutorialType","ArrowWrapper","ArrowWrapperVertical","Dots","NETWORKS_INFO","nativeOnChain","VERSION","useActiveWeb3React","useCurrency","ApprovalState","useApproveCallback","useProAmmNFTPositionManagerContract","useProAmmPoolInfo","useProAmmPreviousTicks","useTheme","useTransactionDeadline","useTokensPrice","useWalletModalToggle","Bound","Field","useProAmmDerivedMintInfo","useProAmmMintActionHandlers","useProAmmMintState","useRangeHopCallbacks","useTransactionAdder","useIsExpertMode","StyledInternalLink","TYPE","basisPointsToPercent","calculateGasMargin","formattedNum","currencyId","maxAmountSpend","unwrappedToken","useUserSlippageTolerance","Container","DynamicSection","FlexLeft","HideMedium","MediumOnly","PageWrapper","ResponsiveTwoColumns","RightContainer","StackedContainer","StackedItem","StyledInput","rotated","AddLiquidity","match","params","currencyIdA","currencyIdB","feeAmountFromUrl","feeAmount","history","rotate","setRotate","account","chainId","library","theme","toggleWalletModal","expertMode","addTransactionWithType","positionManager","Object","values","includes","parseFloat","MEDIUM","baseCurrency","currencyB","quoteCurrency","wrapped","equals","undefined","baseCurrencyIsETHER","isNative","baseCurrencyIsWETH","quoteCurrencyIsETHER","quoteCurrencyIsWETH","tokenA","tokenB","isSorted","sortsBefore","independentField","typedValue","startPriceTypedValue","pool","ticks","dependentField","price","pricesAtTicks","parsedAmounts","currencyBalances","position","noLiquidity","currencies","errorMessage","invalidPool","invalidRange","outOfRange","depositADisabled","depositBDisabled","invertPrice","ticksAtLimit","amount0Unlock","amount1Unlock","poolAddress","previousTicks","onFieldAInput","onFieldBInput","onLeftRangeInput","onRightRangeInput","onStartPriceInput","isValid","showConfirm","setShowConfirm","attemptingTxn","setAttemptingTxn","showCapitalEfficiencyWarning","setShowCapitalEfficiencyWarning","deadline","txHash","setTxHash","formattedAmounts","toExact","maxAmounts","CURRENCY_A","CURRENCY_B","reduce","accumulator","field","maxAmount","amountUnlock","BigInt","subtract","fromRawAmount","fromFractionalAmount","elastic","nonfungiblePositionManager","approvalA","approveACallback","approvalB","approveBCallback","tokens","map","currency","usdPrices","ELASTIC","estimatedUsdCurrencyA","estimatedUsdCurrencyB","allowedSlippage","onAdd","length","useNative","addCallParameters","slippageTolerance","recipient","toString","createPool","calldata","value","txn","to","data","getSigner","estimateGas","then","estimate","newTxn","gasLimit","console","log","sendTransaction","response","type","summary","toSignificant","symbol","arbitrary","token_1","token_2","hash","catch","error","code","handleCurrencySelect","currencyNew","currencyIdOther","currencyIdNew","isETHOrWETHNew","address","isETHOrWETHOther","handleCurrencyASelect","currencyANew","idA","idB","push","handleCurrencyBSelect","currencyBNew","handleFeePoolSelect","newFeeAmount","handleDismissConfirmation","addIsUnsupported","tickLower","LOWER","tickUpper","UPPER","priceLower","priceUpper","leftPrice","invert","rightPrice","getDecrementLower","getIncrementLower","getDecrementUpper","getIncrementUpper","getSetFullRange","showApprovalA","APPROVED","showApprovalB","pendingText","Buttons","gap","NOT_APPROVED","PENDING","chart","display","subText","flexDirection","alignItems","padding","borderTop","border","borderBottom","borderRadius","backgroundColor","buttonBlack","textTransform","opacity","height","warning","marginTop","token0","amount0","quotient","token1","amount1","CREATE","ADD","replace","ELASTIC_ADD_LIQUIDITY","prev","color","divide"],"sources":["/Applications/XAMPP/voxel-interface/src/pages/AddLiquidityV2/index.tsx"],"sourcesContent":["import { TransactionResponse } from '@ethersproject/providers'\nimport { ONE } from '@kyberswap/ks-sdk-classic'\nimport { Currency, CurrencyAmount, WETH } from '@kyberswap/ks-sdk-core'\nimport { FeeAmount, NonfungiblePositionManager } from '@kyberswap/ks-sdk-elastic'\nimport { Trans, t } from '@lingui/macro'\nimport JSBI from 'jsbi'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { AlertTriangle } from 'react-feather'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { ButtonError, ButtonLight, ButtonPrimary, ButtonWarning } from 'components/Button'\nimport { OutlineCard, WarningCard } from 'components/Card'\nimport { AutoColumn } from 'components/Column'\nimport CurrencyInputPanel from 'components/CurrencyInputPanel'\nimport FeeSelector from 'components/FeeSelector'\nimport HoverInlineText from 'components/HoverInlineText'\nimport { Swap as SwapIcon } from 'components/Icons'\nimport InfoHelper from 'components/InfoHelper'\nimport LiquidityChartRangeInput from 'components/LiquidityChartRangeInput'\nimport { AddRemoveTabs, LiquidityAction } from 'components/NavigationTabs'\nimport ProAmmPoolInfo from 'components/ProAmm/ProAmmPoolInfo'\nimport ProAmmPooledTokens from 'components/ProAmm/ProAmmPooledTokens'\nimport ProAmmPriceRange from 'components/ProAmm/ProAmmPriceRange'\nimport RangeSelector from 'components/RangeSelector'\nimport PresetsButtons from 'components/RangeSelector/PresetsButtons'\nimport Row, { RowBetween, RowFixed } from 'components/Row'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from 'components/TransactionConfirmationModal'\nimport { TutorialType } from 'components/Tutorial'\nimport { ArrowWrapper as ArrowWrapperVertical, Dots } from 'components/swapv2/styleds'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { nativeOnChain } from 'constants/tokens'\nimport { VERSION } from 'constants/v2'\nimport { useActiveWeb3React } from 'hooks'\nimport { useCurrency } from 'hooks/Tokens'\nimport { ApprovalState, useApproveCallback } from 'hooks/useApproveCallback'\nimport { useProAmmNFTPositionManagerContract } from 'hooks/useContract'\nimport useProAmmPoolInfo from 'hooks/useProAmmPoolInfo'\nimport useProAmmPreviousTicks from 'hooks/useProAmmPreviousTicks'\nimport useTheme from 'hooks/useTheme'\nimport useTransactionDeadline from 'hooks/useTransactionDeadline'\nimport { useTokensPrice, useWalletModalToggle } from 'state/application/hooks'\nimport { Bound, Field } from 'state/mint/proamm/actions'\nimport {\n  useProAmmDerivedMintInfo,\n  useProAmmMintActionHandlers,\n  useProAmmMintState,\n  useRangeHopCallbacks,\n} from 'state/mint/proamm/hooks'\nimport { useTransactionAdder } from 'state/transactions/hooks'\nimport { useIsExpertMode } from 'state/user/hooks'\nimport { StyledInternalLink, TYPE } from 'theme'\nimport { basisPointsToPercent, calculateGasMargin, formattedNum } from 'utils'\nimport { currencyId } from 'utils/currencyId'\nimport { maxAmountSpend } from 'utils/maxAmountSpend'\nimport { unwrappedToken } from 'utils/wrappedCurrency'\n\nimport { useUserSlippageTolerance } from '../../state/user/hooks'\nimport {\n  Container,\n  DynamicSection,\n  FlexLeft,\n  HideMedium,\n  MediumOnly,\n  PageWrapper,\n  ResponsiveTwoColumns,\n  RightContainer,\n  StackedContainer,\n  StackedItem,\n  StyledInput,\n} from './styled'\n\n// const DEFAULT_ADD_IN_RANGE_SLIPPAGE_TOLERANCE = new Percent(50, 10_000)\n\nexport const ArrowWrapper = styled(ArrowWrapperVertical)<{ rotated?: boolean }>`\n  transform: rotate(${({ rotated }) => (rotated ? '270deg' : '90deg')});\n  width: 40px;\n  height: 40px;\n`\nexport default function AddLiquidity({\n  match: {\n    params: { currencyIdA, currencyIdB, feeAmount: feeAmountFromUrl },\n  },\n  history,\n}: RouteComponentProps<{ currencyIdA?: string; currencyIdB?: string; feeAmount?: string; tokenId?: string }>) {\n  const [rotate, setRotate] = useState(false)\n  const { account, chainId, library } = useActiveWeb3React()\n  const theme = useTheme()\n  const toggleWalletModal = useWalletModalToggle() // toggle wallet when disconnected\n  const expertMode = useIsExpertMode()\n  const addTransactionWithType = useTransactionAdder()\n  const positionManager = useProAmmNFTPositionManagerContract()\n  // check for existing position if tokenId in url\n  // const { position: existingPositionDetails, loading: positionLoading } = useProAmmPositionsFromTokenId(\n  //   tokenId ? BigNumber.from(tokenId) : undefined\n  // )\n  // const hasExistingPosition = !!existingPositionDetails && !positionLoading\n\n  // fee selection from url\n  const feeAmount: FeeAmount | undefined =\n    feeAmountFromUrl && Object.values(FeeAmount).includes(parseFloat(feeAmountFromUrl))\n      ? parseFloat(feeAmountFromUrl)\n      : FeeAmount.MEDIUM\n  const baseCurrency = useCurrency(currencyIdA)\n  const currencyB = useCurrency(currencyIdB)\n  // prevent an error if they input ETH/WETH\n  const quoteCurrency =\n    baseCurrency && currencyB && baseCurrency.wrapped.equals(currencyB.wrapped) ? undefined : currencyB\n\n  const baseCurrencyIsETHER = !!(chainId && baseCurrency && baseCurrency.isNative)\n  const baseCurrencyIsWETH = !!(chainId && baseCurrency && baseCurrency.equals(WETH[chainId]))\n  const quoteCurrencyIsETHER = !!(chainId && quoteCurrency && quoteCurrency.isNative)\n  const quoteCurrencyIsWETH = !!(chainId && quoteCurrency && quoteCurrency.equals(WETH[chainId]))\n\n  const tokenA = (baseCurrency ?? undefined)?.wrapped\n  const tokenB = (quoteCurrency ?? undefined)?.wrapped\n  const isSorted = tokenA && tokenB && tokenA.sortsBefore(tokenB)\n\n  // mint state\n  const { independentField, typedValue, startPriceTypedValue } = useProAmmMintState()\n\n  const {\n    pool,\n    ticks,\n    dependentField,\n    price,\n    pricesAtTicks,\n    parsedAmounts,\n    currencyBalances,\n    position,\n    noLiquidity,\n    currencies,\n    errorMessage,\n    invalidPool,\n    invalidRange,\n    outOfRange,\n    depositADisabled,\n    depositBDisabled,\n    invertPrice,\n    ticksAtLimit,\n    amount0Unlock,\n    amount1Unlock,\n  } = useProAmmDerivedMintInfo(\n    baseCurrency ?? undefined,\n    quoteCurrency ?? undefined,\n    feeAmount,\n    baseCurrency ?? undefined,\n  )\n  const poolAddress = useProAmmPoolInfo(baseCurrency, currencyB, feeAmount)\n  const previousTicks =\n    // : number[] = []\n    useProAmmPreviousTicks(pool, position)\n  const { onFieldAInput, onFieldBInput, onLeftRangeInput, onRightRangeInput, onStartPriceInput } =\n    useProAmmMintActionHandlers(noLiquidity)\n\n  const isValid = !errorMessage && !invalidRange\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState<boolean>(false) // clicked confirm\n\n  // capital efficiency warning\n  const [showCapitalEfficiencyWarning, setShowCapitalEfficiencyWarning] = useState(false)\n\n  useEffect(() => setShowCapitalEfficiencyWarning(false), [baseCurrency, quoteCurrency, feeAmount])\n\n  // txn values\n  const deadline = useTransactionDeadline() // custom from users settings\n\n  const [txHash, setTxHash] = useState<string>('')\n\n  // get formatted amounts\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: parsedAmounts[dependentField]?.toExact() ?? '',\n  }\n\n  // const [amount0Unlock, amount1Unlock] = useMemo(() => {\n  //   if (price && noLiquidity) {\n  //     return [\n  //       FullMath.mulDiv(\n  //         SqrtPriceMath.getAmount0Unlock(encodeSqrtRatioX96(price.numerator, price.denominator)),\n  //         JSBI.BigInt('105'),\n  //         JSBI.BigInt('100'),\n  //       ),\n  //       FullMath.mulDiv(\n  //         SqrtPriceMath.getAmount1Unlock(encodeSqrtRatioX96(price.numerator, price.denominator)),\n  //         JSBI.BigInt('105'),\n  //         JSBI.BigInt('100'),\n  //       ),\n  //     ]\n  //   }\n  //   return [JSBI.BigInt('0'), JSBI.BigInt('0')]\n  // }, [noLiquidity, price])\n  // get the max amounts user can add\n  const maxAmounts: { [field in Field]?: CurrencyAmount<Currency> } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      let maxAmount = maxAmountSpend(currencyBalances[field])\n      let amountUnlock = JSBI.BigInt('0')\n      if (maxAmount && currencies[field] && noLiquidity && tokenA && tokenB) {\n        if (\n          (!invertPrice && tokenA.equals(currencies[field] as Currency)) ||\n          (invertPrice && tokenB.equals(currencies[field] as Currency))\n        ) {\n          amountUnlock = amount0Unlock\n        } else {\n          amountUnlock = amount1Unlock\n        }\n        maxAmount = maxAmount?.subtract(CurrencyAmount.fromRawAmount(currencies[field] as Currency, amountUnlock))\n      }\n      return {\n        ...accumulator,\n        [field]: maxAmount,\n      }\n    },\n    {},\n  )\n\n  // check whether the user has approved the router on the tokens\n  const [approvalA, approveACallback] = useApproveCallback(\n    !!currencies[Field.CURRENCY_A] && depositADisabled && noLiquidity\n      ? CurrencyAmount.fromFractionalAmount(currencies[Field.CURRENCY_A] as Currency, ONE, ONE)\n      : parsedAmounts[Field.CURRENCY_A],\n    chainId ? NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager : undefined,\n  )\n\n  const [approvalB, approveBCallback] = useApproveCallback(\n    !!currencies[Field.CURRENCY_B] && depositBDisabled && noLiquidity\n      ? CurrencyAmount.fromFractionalAmount(currencies[Field.CURRENCY_B] as Currency, ONE, ONE)\n      : parsedAmounts[Field.CURRENCY_B],\n    chainId ? NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager : undefined,\n  )\n\n  const tokens = useMemo(\n    () => [currencies[Field.CURRENCY_A], currencies[Field.CURRENCY_B]].map(currency => currency?.wrapped),\n    [currencies],\n  )\n  const usdPrices = useTokensPrice(tokens, VERSION.ELASTIC)\n  const estimatedUsdCurrencyA =\n    parsedAmounts[Field.CURRENCY_A] && usdPrices[0]\n      ? parseFloat((parsedAmounts[Field.CURRENCY_A] as CurrencyAmount<Currency>).toExact()) * usdPrices[0]\n      : 0\n\n  const estimatedUsdCurrencyB =\n    parsedAmounts[Field.CURRENCY_B] && usdPrices[1]\n      ? parseFloat((parsedAmounts[Field.CURRENCY_B] as CurrencyAmount<Currency>).toExact()) * usdPrices[1]\n      : 0\n\n  const allowedSlippage = useUserSlippageTolerance()\n\n  async function onAdd() {\n    if (!chainId || !library || !account) return\n\n    if (!positionManager || !baseCurrency || !quoteCurrency) {\n      return\n    }\n\n    if (!previousTicks || previousTicks.length !== 2) {\n      return\n    }\n    if (position && account && deadline) {\n      const useNative = baseCurrency.isNative ? baseCurrency : quoteCurrency.isNative ? quoteCurrency : undefined\n\n      const { calldata, value } = NonfungiblePositionManager.addCallParameters(position, previousTicks, {\n        slippageTolerance: basisPointsToPercent(allowedSlippage[0]),\n        recipient: account,\n        deadline: deadline.toString(),\n        useNative,\n        createPool: noLiquidity,\n      })\n       \n      //0.00283161\n      const txn: { to: string; data: string; value: string } = {\n        to: NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager,\n        data: calldata,\n        value,\n      }\n\n      setAttemptingTxn(true)\n      library\n        .getSigner()\n        .estimateGas(txn)\n        .then(estimate => {\n          const newTxn = {\n            ...txn,\n            gasLimit: calculateGasMargin(estimate),\n          }\n          //calculateGasMargin = 0x0827f6\nconsole.log(\"calculateGasMargin\",NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager)\n          return library\n            .getSigner()\n            .sendTransaction(newTxn)\n            .then((response: TransactionResponse) => {\n              setAttemptingTxn(false)\n              if (noLiquidity) {\n                addTransactionWithType(response, {\n                  type: 'Elastic Create pool',\n                  summary: `${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '0'} ${baseCurrency.symbol} and ${\n                    parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '0'\n                  } ${quoteCurrency.symbol} `,\n                  arbitrary: {\n                    token_1: baseCurrency.symbol,\n                    token_2: quoteCurrency.symbol,\n                  },\n                })\n              } else {\n                addTransactionWithType(response, {\n                  type: 'Elastic Add liquidity',\n                  summary: `${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) ?? '0'} ${baseCurrency.symbol} and ${\n                    parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) ?? '0'\n                  } ${quoteCurrency.symbol} `,\n                  arbitrary: {\n                    poolAddress: poolAddress,\n                    token_1: baseCurrency.symbol,\n                    token_2: quoteCurrency.symbol,\n                  },\n                })\n              }\n\n              setTxHash(response.hash)\n            })\n        })\n        .catch(error => {\n          console.error('Failed to send transaction', error)\n          setAttemptingTxn(false)\n          // we only care if the error is something _other_ than the user rejected the tx\n          if (error?.code !== 4001) {\n            console.error(error)\n          }\n        })\n    } else {\n      return\n    }\n  }\n\n  const handleCurrencySelect = useCallback(\n    (currencyNew: Currency, currencyIdOther?: string): (string | undefined)[] => {\n      const currencyIdNew = currencyId(currencyNew, chainId)\n\n      if (currencyIdNew === currencyIdOther) {\n        // not ideal, but for now clobber the other if the currency ids are equal\n        return [currencyIdNew, undefined]\n      } else {\n        // prevent weth + eth\n        const isETHOrWETHNew = currencyNew.isNative || (chainId && currencyIdNew === WETH[chainId]?.address)\n        const isETHOrWETHOther =\n          !!currencyIdOther &&\n          ((chainId && currencyIdOther === nativeOnChain(chainId).symbol) ||\n            (chainId && currencyIdOther === WETH[chainId]?.address))\n\n        if (isETHOrWETHNew && isETHOrWETHOther) {\n          return [currencyIdNew, undefined]\n        } else {\n          return [currencyIdNew, currencyIdOther]\n        }\n      }\n    },\n    [chainId],\n  )\n\n  const handleCurrencyASelect = useCallback(\n    (currencyANew: Currency) => {\n      const [idA, idB] = handleCurrencySelect(currencyANew, currencyIdB)\n      if (idB === undefined) {\n        history.push(`/elastic/add/${idA}`)\n      } else {\n        history.push(`/elastic/add/${idA}/${idB}`)\n      }\n    },\n    [handleCurrencySelect, currencyIdB, history],\n  )\n\n  const handleCurrencyBSelect = useCallback(\n    (currencyBNew: Currency) => {\n      const [idB, idA] = handleCurrencySelect(currencyBNew, currencyIdA)\n      if (idA === undefined) {\n        history.push(`/elastic/add/${idB}`)\n      } else {\n        history.push(`/elastic/add/${idA}/${idB}`)\n      }\n    },\n    [handleCurrencySelect, currencyIdA, history],\n  )\n\n  const handleFeePoolSelect = useCallback(\n    (newFeeAmount: FeeAmount) => {\n      onLeftRangeInput('')\n      onRightRangeInput('')\n      history.push(`/elastic/add/${currencyIdA}/${currencyIdB}/${newFeeAmount}`)\n    },\n    [currencyIdA, currencyIdB, history, onLeftRangeInput, onRightRangeInput],\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onFieldAInput('')\n      // dont jump to pool page if creating\n      history.push('/myPools')\n    }\n    setTxHash('')\n  }, [history, onFieldAInput, txHash])\n\n  const addIsUnsupported = false\n\n  // const clearAll = useCallback(() => {\n  //   onFieldAInput('')\n  //   onFieldBInput('')\n  //   onLeftRangeInput('')\n  //   onRightRangeInput('')\n  //   history.push(`/add`)\n  // }, [history, onFieldAInput, onFieldBInput, onLeftRangeInput, onRightRangeInput])\n\n  // get value and prices at ticks\n  const { [Bound.LOWER]: tickLower, [Bound.UPPER]: tickUpper } = ticks\n  const { [Bound.LOWER]: priceLower, [Bound.UPPER]: priceUpper } = pricesAtTicks\n\n  const leftPrice = isSorted ? priceLower : priceUpper?.invert()\n  const rightPrice = isSorted ? priceUpper : priceLower?.invert()\n\n  const { getDecrementLower, getIncrementLower, getDecrementUpper, getIncrementUpper, getSetFullRange } =\n    useRangeHopCallbacks(\n      baseCurrency ?? undefined,\n      quoteCurrency ?? undefined,\n      feeAmount,\n      tickLower,\n      tickUpper,\n      pool,\n      price,\n    )\n  // we need an existence check on parsed amounts for single-asset deposits\n  const showApprovalA = approvalA !== ApprovalState.APPROVED && (noLiquidity ? true : !!parsedAmounts[Field.CURRENCY_A])\n  const showApprovalB = approvalB !== ApprovalState.APPROVED && (noLiquidity ? true : !!parsedAmounts[Field.CURRENCY_B])\n\n  const pendingText = `Supplying ${!depositADisabled ? parsedAmounts[Field.CURRENCY_A]?.toSignificant(10) : ''} ${\n    !depositADisabled ? currencies[Field.CURRENCY_A]?.symbol : ''\n  } ${!depositADisabled && !depositBDisabled ? 'and' : ''} ${\n    !depositBDisabled ? parsedAmounts[Field.CURRENCY_B]?.toSignificant(10) : ''\n  } ${!depositBDisabled ? currencies[Field.CURRENCY_B]?.symbol : ''}`\n\n  const Buttons = () =>\n    addIsUnsupported ? (\n      <ButtonPrimary disabled={true}>\n        <Trans>Unsupported Asset</Trans>\n      </ButtonPrimary>\n    ) : !account ? (\n      <ButtonLight onClick={toggleWalletModal}>\n        <Trans>Connect Wallet</Trans>\n      </ButtonLight>\n    ) : (\n      <Flex sx={{ gap: '16px' }} flexDirection={isValid && showApprovalA && showApprovalB ? 'column' : 'row'}>\n        {(approvalA === ApprovalState.NOT_APPROVED ||\n          approvalA === ApprovalState.PENDING ||\n          approvalB === ApprovalState.NOT_APPROVED ||\n          approvalB === ApprovalState.PENDING) &&\n          isValid && (\n            <RowBetween>\n              {showApprovalA && (\n                <ButtonPrimary\n                  onClick={approveACallback}\n                  disabled={approvalA === ApprovalState.PENDING}\n                  width={showApprovalB ? '48%' : '100%'}\n                >\n                  {approvalA === ApprovalState.PENDING ? (\n                    <Dots>\n                      <Trans>Approving {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                    </Dots>\n                  ) : (\n                    <Trans>Approve {currencies[Field.CURRENCY_A]?.symbol}</Trans>\n                  )}\n                </ButtonPrimary>\n              )}\n              {showApprovalB && (\n                <ButtonPrimary\n                  onClick={approveBCallback}\n                  disabled={approvalB === ApprovalState.PENDING}\n                  width={showApprovalA ? '48%' : '100%'}\n                >\n                  {approvalB === ApprovalState.PENDING ? (\n                    <Dots>\n                      <Trans>Approving {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                    </Dots>\n                  ) : (\n                    <Trans>Approve {currencies[Field.CURRENCY_B]?.symbol}</Trans>\n                  )}\n                </ButtonPrimary>\n              )}\n            </RowBetween>\n          )}\n        <ButtonError\n          onClick={() => {\n            expertMode ? onAdd() : setShowConfirm(true)\n          }}\n          disabled={\n            !isValid ||\n            (approvalA !== ApprovalState.APPROVED && (!depositADisabled || noLiquidity)) ||\n            (approvalB !== ApprovalState.APPROVED && (!depositBDisabled || noLiquidity))\n          }\n          error={!isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B] && false}\n        >\n          <Text fontWeight={500}>{errorMessage ? errorMessage : <Trans>Preview</Trans>}</Text>\n        </ButtonError>\n      </Flex>\n    )\n\n  const chart = (\n    <>\n      <DynamicSection gap=\"md\" disabled={!feeAmount || invalidPool}>\n        {!noLiquidity ? (\n          <>\n            <Text fontWeight=\"500\" style={{ display: 'flex' }}>\n              <Trans>Set Your Price Range</Trans>\n              <InfoHelper\n                size={14}\n                text={t`Represents the range where all your liquidity is concentrated. When market price of your token pair is no longer between your selected price range, your liquidity becomes inactive and you stop earning fees`}\n              />\n            </Text>\n\n            {price && baseCurrency && quoteCurrency && !noLiquidity && (\n              <Flex justifyContent=\"center\" marginTop=\"0.5rem\" sx={{ gap: '0.25rem' }}>\n                <Text fontWeight={500} textAlign=\"center\" color={theme.subText} fontSize={12}>\n                  <Trans>Current Price</Trans>\n                </Text>\n                <Text fontWeight={500} textAlign=\"center\" fontSize={12}>\n                  <HoverInlineText\n                    maxCharacters={20}\n                    text={invertPrice ? price.invert().toSignificant(6) : price.toSignificant(6)}\n                  />\n                </Text>\n                <Text fontSize={12}>\n                  {quoteCurrency?.symbol} per {baseCurrency.symbol}\n                </Text>\n              </Flex>\n            )}\n\n            <LiquidityChartRangeInput\n              currencyA={baseCurrency ?? undefined}\n              currencyB={quoteCurrency ?? undefined}\n              feeAmount={feeAmount}\n              ticksAtLimit={ticksAtLimit}\n              price={price ? parseFloat((invertPrice ? price.invert() : price).toSignificant(8)) : undefined}\n              priceLower={priceLower}\n              priceUpper={priceUpper}\n              onLeftRangeInput={onLeftRangeInput}\n              onRightRangeInput={onRightRangeInput}\n              interactive\n            />\n          </>\n        ) : (\n          <AutoColumn gap=\"1rem\">\n            <RowBetween>\n              <Text fontWeight=\"500\">\n                <Trans>Set Starting Price</Trans>\n              </Text>\n            </RowBetween>\n            {noLiquidity && (\n              <Flex\n                style={{\n                  display: 'flex',\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                  padding: '1rem 0',\n                  borderTop: `1px solid ${theme.border}`,\n                  borderBottom: `1px solid ${theme.border}`,\n                }}\n              >\n                <TYPE.body fontSize={12} textAlign=\"left\" color={theme.subText} lineHeight=\"16px\">\n                  <Trans>\n                    To initialize this pool, select a starting price for the pool then enter your liquidity price range.\n                    Gas fees will be higher than usual due to initialization of the pool.\n                  </Trans>\n                </TYPE.body>\n              </Flex>\n            )}\n            <OutlineCard\n              padding=\"12px 16px\"\n              style={{ borderRadius: '999px', backgroundColor: theme.buttonBlack, border: 'none' }}\n            >\n              <StyledInput className=\"start-price-input\" value={startPriceTypedValue} onUserInput={onStartPriceInput} />\n            </OutlineCard>\n            <RowBetween>\n              <Text fontWeight=\"500\" color={theme.subText} style={{ textTransform: 'uppercase' }} fontSize=\"12px\">\n                <Trans>Current Price</Trans>\n              </Text>\n              <TYPE.main>\n                {price ? (\n                  <TYPE.main>\n                    <RowFixed>\n                      <HoverInlineText\n                        maxCharacters={20}\n                        text={`1 ${baseCurrency?.symbol} = ${\n                          invertPrice ? price.invert().toSignificant(6) : price.toSignificant(6)\n                        } ${quoteCurrency?.symbol}`}\n                      />\n                    </RowFixed>\n                  </TYPE.main>\n                ) : (\n                  '-'\n                )}\n              </TYPE.main>\n            </RowBetween>\n          </AutoColumn>\n        )}\n        <DynamicSection gap=\"md\" disabled={!feeAmount || invalidPool || (noLiquidity && !startPriceTypedValue)}>\n          <StackedContainer>\n            <StackedItem style={{ opacity: showCapitalEfficiencyWarning ? '0.05' : 1 }}>\n              <AutoColumn gap=\"md\">\n                {noLiquidity && (\n                  <RowBetween>\n                    <Text fontWeight=\"500\" style={{ display: 'flex' }}>\n                      <Trans>Set Your Price Range</Trans>\n                      <InfoHelper\n                        text={t`Represents the range where all your liquidity is concentrated. When market price of your token pair is no longer between your selected price range, your liquidity becomes inactive and you stop earning fees`}\n                        placement={'right'}\n                      />\n                    </Text>\n                  </RowBetween>\n                )}\n                <RangeSelector\n                  priceLower={priceLower}\n                  priceUpper={priceUpper}\n                  getDecrementLower={getDecrementLower}\n                  getIncrementLower={getIncrementLower}\n                  getDecrementUpper={getDecrementUpper}\n                  getIncrementUpper={getIncrementUpper}\n                  onLeftRangeInput={onLeftRangeInput}\n                  onRightRangeInput={onRightRangeInput}\n                  currencyA={baseCurrency}\n                  currencyB={quoteCurrency}\n                  feeAmount={feeAmount}\n                  ticksAtLimit={ticksAtLimit}\n                />\n                {!noLiquidity && (\n                  <PresetsButtons\n                    setFullRange={() => {\n                      setShowCapitalEfficiencyWarning(true)\n                    }}\n                  />\n                )}\n              </AutoColumn>\n            </StackedItem>\n\n            {showCapitalEfficiencyWarning && (\n              <StackedItem zIndex={1}>\n                <WarningCard padding=\"15px\">\n                  <AutoColumn gap=\"8px\" style={{ height: '100%' }}>\n                    <RowFixed>\n                      <AlertTriangle stroke={theme.warning} size=\"16px\" />\n                      <TYPE.warning ml=\"12px\" fontSize=\"15px\">\n                        <Trans>Efficiency Comparison</Trans>\n                      </TYPE.warning>\n                    </RowFixed>\n                    <RowFixed>\n                      <TYPE.warning ml=\"12px\" fontSize=\"13px\" margin={0} fontWeight={400}>\n                        <Trans>Full range positions may earn less fees than concentrated positions.</Trans>\n                      </TYPE.warning>\n                    </RowFixed>\n                    <Row>\n                      <ButtonWarning\n                        padding=\"8px\"\n                        marginRight=\"8px\"\n                        width=\"100%\"\n                        onClick={() => {\n                          setShowCapitalEfficiencyWarning(false)\n                          getSetFullRange()\n                        }}\n                      >\n                        <TYPE.black fontSize={13}>\n                          <Trans>I understand</Trans>\n                        </TYPE.black>\n                      </ButtonWarning>\n                    </Row>\n                  </AutoColumn>\n                </WarningCard>\n              </StackedItem>\n            )}\n          </StackedContainer>\n\n          {outOfRange ? (\n            <WarningCard padding=\"10px 16px\">\n              <Flex alignItems=\"center\">\n                <AlertTriangle stroke={theme.warning} size=\"16px\" />\n                <TYPE.warning ml=\"12px\" fontSize=\"12px\" flex={1}>\n                  <Trans>\n                    Your position will not earn fees until the market price of the pool moves into your price range.\n                  </Trans>\n                </TYPE.warning>\n              </Flex>\n            </WarningCard>\n          ) : null}\n\n          {invalidRange ? (\n            <WarningCard padding=\"10px 16px\">\n              <Flex alignItems=\"center\">\n                <AlertTriangle stroke={theme.warning} size=\"16px\" />\n                <TYPE.warning ml=\"12px\" fontSize=\"12px\" flex={1}>\n                  <Trans>Invalid range selected. The min price must be lower than the max price.</Trans>\n                </TYPE.warning>\n              </Flex>\n            </WarningCard>\n          ) : null}\n        </DynamicSection>\n      </DynamicSection>\n    </>\n  )\n\n  return (\n    <>\n      <TransactionConfirmationModal\n        isOpen={showConfirm}\n        onDismiss={handleDismissConfirmation}\n        attemptingTxn={attemptingTxn}\n        hash={txHash}\n        content={() => (\n          <ConfirmationModalContent\n            title={!!noLiquidity ? t`Create a new pool` : t`Add Liquidity`}\n            onDismiss={handleDismissConfirmation}\n            topContent={() =>\n              position && (\n                // <PositionPreview\n                //   position={position}\n                //   title={<Trans>Selected Range</Trans>}\n                //   inRange={!outOfRange}\n                //   ticksAtLimit={ticksAtLimit}\n                // />\n                <div style={{ marginTop: '1rem' }}>\n                  <ProAmmPoolInfo position={position} />\n                  <ProAmmPooledTokens\n                    liquidityValue0={CurrencyAmount.fromRawAmount(\n                      unwrappedToken(position.pool.token0),\n                      position.amount0.quotient,\n                    )}\n                    liquidityValue1={CurrencyAmount.fromRawAmount(\n                      unwrappedToken(position.pool.token1),\n                      position.amount1.quotient,\n                    )}\n                    title={'New Liquidity Amount'}\n                  />\n                  <ProAmmPriceRange position={position} ticksAtLimit={ticksAtLimit} />\n                </div>\n              )\n            }\n            bottomContent={() => (\n              <ButtonPrimary onClick={onAdd}>\n                <Text fontWeight={500}>\n                  <Trans>Supply</Trans>\n                </Text>\n              </ButtonPrimary>\n            )}\n          />\n        )}\n        pendingText={pendingText}\n      />\n      <PageWrapper>\n        <Container>\n          <AddRemoveTabs\n            hideShare\n            action={!!noLiquidity ? LiquidityAction.CREATE : LiquidityAction.ADD}\n            showTooltip={true}\n            onCleared={() => {\n              onFieldAInput('0')\n              onFieldBInput('0')\n              history.push('/elastic/add')\n            }}\n            onBack={() => {\n              history.replace('/pools')\n            }}\n            tutorialType={TutorialType.ELASTIC_ADD_LIQUIDITY}\n          />\n          <ResponsiveTwoColumns>\n            <FlexLeft>\n              <RowBetween style={{ gap: '12px' }}>\n                <CurrencyInputPanel\n                  hideBalance\n                  value={formattedAmounts[Field.CURRENCY_A]}\n                  onUserInput={onFieldAInput}\n                  hideInput={true}\n                  showMaxButton={false}\n                  onCurrencySelect={handleCurrencyASelect}\n                  currency={currencies[Field.CURRENCY_A] ?? null}\n                  id=\"add-liquidity-input-tokena\"\n                  showCommonBases\n                  estimatedUsd={formattedNum(estimatedUsdCurrencyA.toString(), true) || undefined}\n                  maxCurrencySymbolLength={6}\n                />\n\n                <ArrowWrapper\n                  rotated={rotate}\n                  onClick={() => {\n                    if (!!rightPrice) {\n                      onLeftRangeInput(rightPrice?.invert().toString())\n                    }\n                    if (!!leftPrice) {\n                      onRightRangeInput(leftPrice?.invert().toString())\n                    }\n                    setRotate(prev => !prev)\n                  }}\n                >\n                  {!currencyIdA && !currencyIdB ? (\n                    <SwapIcon size={24} color={theme.subText} />\n                  ) : (\n                    <StyledInternalLink\n                      replace\n                      to={`/elastic/add/${currencyIdB}/${currencyIdA}/${feeAmount}`}\n                      style={{ color: 'inherit', display: 'flex' }}\n                    >\n                      <SwapIcon size={24} color={theme.subText} />\n                    </StyledInternalLink>\n                  )}\n                </ArrowWrapper>\n\n                <CurrencyInputPanel\n                  hideBalance\n                  value={formattedAmounts[Field.CURRENCY_B]}\n                  hideInput={true}\n                  onUserInput={onFieldBInput}\n                  onCurrencySelect={handleCurrencyBSelect}\n                  showMaxButton={false}\n                  positionMax=\"top\"\n                  currency={currencies[Field.CURRENCY_B] ?? null}\n                  id=\"add-liquidity-input-tokenb\"\n                  showCommonBases\n                  estimatedUsd={formattedNum(estimatedUsdCurrencyB.toString(), true) || undefined}\n                  maxCurrencySymbolLength={6}\n                />\n              </RowBetween>\n\n              <DynamicSection disabled={!currencyIdA || !currencyIdB} gap=\"16px\">\n                <Text fontWeight={500} fontSize=\"1rem\">\n                  <Trans>Select fee tier</Trans>\n                </Text>\n                <FeeSelector\n                  feeAmount={feeAmount}\n                  onChange={handleFeePoolSelect}\n                  currencyA={currencies[Field.CURRENCY_A]}\n                  currencyB={currencies[Field.CURRENCY_B]}\n                />\n              </DynamicSection>\n              <AutoColumn>\n                <AutoColumn gap=\"16px\">\n                  <HideMedium>{chart}</HideMedium>\n                  <DynamicSection\n                    gap=\"16px\"\n                    disabled={tickLower === undefined || tickUpper === undefined || invalidPool || invalidRange}\n                  >\n                    <Text fontWeight={500}>\n                      <Trans>Deposit Amounts</Trans>\n                    </Text>\n\n                    <CurrencyInputPanel\n                      value={formattedAmounts[Field.CURRENCY_A]}\n                      onUserInput={onFieldAInput}\n                      onMax={() => {\n                        onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\n                      }}\n                      onHalf={() => {\n                        onFieldAInput(currencyBalances[Field.CURRENCY_A]?.divide(2).toExact() ?? '')\n                      }}\n                      showMaxButton\n                      currency={currencies[Field.CURRENCY_A] ?? null}\n                      id=\"add-liquidity-input-tokena\"\n                      showCommonBases\n                      positionMax=\"top\"\n                      locked={depositADisabled}\n                      estimatedUsd={formattedNum(estimatedUsdCurrencyA.toString(), true) || undefined}\n                      disableCurrencySelect={!baseCurrencyIsETHER && !baseCurrencyIsWETH}\n                      isSwitchMode={baseCurrencyIsETHER || baseCurrencyIsWETH}\n                      onSwitchCurrency={() => {\n                        chainId &&\n                          history.replace(\n                            `/elastic/add/${\n                              baseCurrencyIsETHER ? WETH[chainId].address : nativeOnChain(chainId).symbol\n                            }/${currencyIdB}/${feeAmount}`,\n                          )\n                      }}\n                    />\n                  </DynamicSection>\n                  <DynamicSection\n                    gap=\"md\"\n                    disabled={tickLower === undefined || tickUpper === undefined || invalidPool || invalidRange}\n                  >\n                    <CurrencyInputPanel\n                      value={formattedAmounts[Field.CURRENCY_B]}\n                      onUserInput={onFieldBInput}\n                      onMax={() => {\n                        onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\n                      }}\n                      onHalf={() => {\n                        onFieldBInput(currencyBalances[Field.CURRENCY_B]?.divide(2).toExact() ?? '')\n                      }}\n                      showMaxButton\n                      currency={currencies[Field.CURRENCY_B] ?? null}\n                      id=\"add-liquidity-input-tokenb\"\n                      showCommonBases\n                      positionMax=\"top\"\n                      locked={depositBDisabled}\n                      estimatedUsd={formattedNum(estimatedUsdCurrencyB.toString(), true) || undefined}\n                      disableCurrencySelect={!quoteCurrencyIsETHER && !quoteCurrencyIsWETH}\n                      isSwitchMode={quoteCurrencyIsETHER || quoteCurrencyIsWETH}\n                      onSwitchCurrency={() => {\n                        chainId &&\n                          history.replace(\n                            `/elastic/add/${currencyIdA}/${\n                              quoteCurrencyIsETHER ? WETH[chainId].address : nativeOnChain(chainId).symbol\n                            }/${feeAmount}`,\n                          )\n                      }}\n                    />\n                  </DynamicSection>\n                </AutoColumn>\n              </AutoColumn>\n            </FlexLeft>\n            <HideMedium>\n              <Buttons />\n            </HideMedium>\n            <RightContainer gap=\"lg\">\n              <MediumOnly>{chart}</MediumOnly>\n              <MediumOnly>\n                <Buttons />\n              </MediumOnly>\n            </RightContainer>\n          </ResponsiveTwoColumns>\n        </Container>\n      </PageWrapper>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}