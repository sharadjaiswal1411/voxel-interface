{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/LiveChart/AnimatingNumber.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from 'react';\nimport { animated, useSpring } from 'react-spring';\nimport { Flex, Text } from 'rebass';\nimport styled from 'styled-components';\nimport useTheme from 'hooks/useTheme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function usePrevious(value) {\n  _s();\n\n  var ref = useRef(value);\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\n_s(usePrevious, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n\nfunction formatForDisplay() {\n  var number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  if (number > 1000000) return Math.max(number, 0).toString().split('').reverse();else {\n    return Math.max(number, 0).toPrecision(6).split('').reverse();\n  }\n}\n\nfunction DecimalColumn() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \".\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this);\n}\n\n_c = DecimalColumn;\nvar TicketView = styled.div.withConfig({\n  displayName: \"AnimatingNumber__TicketView\",\n  componentId: \"sc-1qfpzb2-0\"\n})([\"height:100%;display:flex;flex-direction:row-reverse;overflow:hidden;font-size:\", \"px;position:relative;color:\", \";letter-spacing:-1px;margin-right:5px;\"], function (_ref) {\n  var fontSize = _ref.fontSize;\n  return fontSize;\n}, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.subText;\n});\n_c2 = TicketView;\nvar NumberPlaceHolder = styled.span.withConfig({\n  displayName: \"AnimatingNumber__NumberPlaceHolder\",\n  componentId: \"sc-1qfpzb2-1\"\n})([\"visibility:hidden;\"]);\n_c3 = NumberPlaceHolder;\nvar Container = styled.div.withConfig({\n  displayName: \"AnimatingNumber__Container\",\n  componentId: \"sc-1qfpzb2-2\"\n})([\"position:relative;height:\", \"px;\"], function (_ref3) {\n  var fontSize = _ref3.fontSize;\n  return fontSize + 4;\n});\n_c4 = Container;\nvar TickerDigit = styled.div.withConfig({\n  displayName: \"AnimatingNumber__TickerDigit\",\n  componentId: \"sc-1qfpzb2-3\"\n})([\"height:10%;text-align:center;\"]);\n_c5 = TickerDigit;\nvar TickerColumn = styled(animated.div).withConfig({\n  displayName: \"AnimatingNumber__TickerColumn\",\n  componentId: \"sc-1qfpzb2-4\"\n})([\"position:absolute;height:1000%;bottom:0;transition:all 0.6s cubic-bezier(0.4,-0.1,0.6,1) 1;\"]);\n_c6 = TickerColumn;\n\nfunction NumberColumn(_ref4) {\n  _s2();\n\n  var _this = this;\n\n  var digit = _ref4.digit,\n      fontSize = _ref4.fontSize;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var columnContainer = useRef();\n\n  var setColumnToNumber = function setColumnToNumber(number) {\n    if (columnContainer.current) {\n      var _ref5, _columnContainer$curr;\n\n      setPosition((_ref5 = ((_columnContainer$curr = columnContainer.current) === null || _columnContainer$curr === void 0 ? void 0 : _columnContainer$curr.clientHeight) * number) !== null && _ref5 !== void 0 ? _ref5 : 0);\n    }\n  };\n\n  useEffect(function () {\n    return setColumnToNumber(digit);\n  }, [digit]);\n  var styles = useSpring({\n    to: {\n      transform: \"translateY(\".concat(position, \"px)\")\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    ref: columnContainer,\n    fontSize: fontSize,\n    children: [/*#__PURE__*/_jsxDEV(TickerColumn, {\n      style: styles,\n      children: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map(function (num) {\n        return /*#__PURE__*/_jsxDEV(TickerDigit, {\n          children: num\n        }, num, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NumberPlaceHolder, {\n      children: \"0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(NumberColumn, \"jOnc2+cHpPAxZWg5BdE2tlK18S4=\", false, function () {\n  return [useSpring];\n});\n\n_c7 = NumberColumn;\nexport default function AnimatingNumber(_ref6) {\n  _s3();\n\n  var _this2 = this;\n\n  var value = _ref6.value,\n      symbol = _ref6.symbol,\n      fontSize = _ref6.fontSize;\n  var values = value.toString().split('e');\n  var baseValue = parseFloat(values[0]);\n  var eValue = values[1];\n  var numArray = formatForDisplay(baseValue);\n  var theme = useTheme();\n\n  if (baseValue === Infinity) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    style: {\n      fontWeight: 500\n    },\n    children: [/*#__PURE__*/_jsxDEV(TicketView, {\n      fontSize: fontSize,\n      children: numArray.map(function (number, index) {\n        return number === '.' ? /*#__PURE__*/_jsxDEV(DecimalColumn, {}, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, _this2) : /*#__PURE__*/_jsxDEV(NumberColumn, {\n          digit: parseInt(number),\n          fontSize: fontSize\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), eValue && /*#__PURE__*/_jsxDEV(Flex, {\n      fontSize: \"16px\",\n      alignItems: 'flex-end',\n      color: theme.subText,\n      paddingBottom: \"3px\",\n      paddingTop: \"5px\",\n      children: [\"10\", /*#__PURE__*/_jsxDEV(\"sup\", {\n        style: {\n          fontSize: '10px',\n          alignSelf: 'flex-start'\n        },\n        children: eValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this), symbol && /*#__PURE__*/_jsxDEV(Text, {\n      fontSize: fontSize,\n      color: theme.subText,\n      children: symbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(AnimatingNumber, \"VrMvFCCB9Haniz3VCRPNUiCauHs=\", false, function () {\n  return [useTheme];\n});\n\n_c8 = AnimatingNumber;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"DecimalColumn\");\n$RefreshReg$(_c2, \"TicketView\");\n$RefreshReg$(_c3, \"NumberPlaceHolder\");\n$RefreshReg$(_c4, \"Container\");\n$RefreshReg$(_c5, \"TickerDigit\");\n$RefreshReg$(_c6, \"TickerColumn\");\n$RefreshReg$(_c7, \"NumberColumn\");\n$RefreshReg$(_c8, \"AnimatingNumber\");","map":{"version":3,"names":["useEffect","useRef","useState","animated","useSpring","Flex","Text","styled","useTheme","usePrevious","value","ref","current","formatForDisplay","number","Math","max","toString","split","reverse","toPrecision","DecimalColumn","TicketView","div","fontSize","theme","subText","NumberPlaceHolder","span","Container","TickerDigit","TickerColumn","NumberColumn","digit","position","setPosition","columnContainer","setColumnToNumber","clientHeight","styles","to","transform","map","num","AnimatingNumber","symbol","values","baseValue","parseFloat","eValue","numArray","Infinity","fontWeight","index","parseInt","alignSelf"],"sources":["/Applications/XAMPP/voxel-interface/src/components/LiveChart/AnimatingNumber.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\nimport { animated, useSpring } from 'react-spring'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport useTheme from 'hooks/useTheme'\n\nexport function usePrevious(value: number) {\n  const ref = useRef<number>(value)\n\n  useEffect(() => {\n    ref.current = value\n  })\n\n  return ref.current\n}\n\nfunction formatForDisplay(number = 0) {\n  if (number > 1000000) return Math.max(number, 0).toString().split('').reverse()\n  else {\n    return Math.max(number, 0).toPrecision(6).split('').reverse()\n  }\n}\n\nfunction DecimalColumn() {\n  return <div>.</div>\n}\n\nconst TicketView = styled.div<{ fontSize: number }>`\n  height: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  overflow: hidden;\n  font-size: ${({ fontSize }) => fontSize}px;\n  position: relative;\n  color: ${({ theme }) => theme.subText};\n  letter-spacing: -1px;\n  margin-right: 5px;\n`\n\nconst NumberPlaceHolder = styled.span`\n  visibility: hidden;\n`\n\nconst Container = styled.div<{ fontSize: number }>`\n  position: relative;\n  height: ${({ fontSize }) => fontSize + 4}px;\n`\n\nconst TickerDigit = styled.div`\n  height: 10%;\n  text-align: center;\n`\n\nconst TickerColumn = styled(animated.div)`\n  position: absolute;\n  height: 1000%;\n  bottom: 0;\n  transition: all 0.6s cubic-bezier(0.4, -0.1, 0.6, 1) 1;\n`\n\nfunction NumberColumn({ digit, fontSize }: { digit: number; fontSize: number }) {\n  const [position, setPosition] = useState(0)\n  const columnContainer = useRef<HTMLDivElement>()\n\n  const setColumnToNumber = (number: number) => {\n    if (columnContainer.current) {\n      setPosition(columnContainer.current?.clientHeight * number ?? 0)\n    }\n  }\n\n  useEffect(() => setColumnToNumber(digit), [digit])\n\n  const styles = useSpring({\n    to: { transform: `translateY(${position}px)` },\n  })\n\n  return (\n    <Container ref={columnContainer as any} fontSize={fontSize}>\n      <TickerColumn style={styles}>\n        {[9, 8, 7, 6, 5, 4, 3, 2, 1, 0].map(num => (\n          <TickerDigit key={num}>{num}</TickerDigit>\n        ))}\n      </TickerColumn>\n      <NumberPlaceHolder>0</NumberPlaceHolder>\n    </Container>\n  )\n}\n\nexport default function AnimatingNumber({\n  value,\n  symbol,\n  fontSize,\n}: {\n  value: number\n  symbol: string | undefined\n  fontSize: number\n}) {\n  const values = value.toString().split('e')\n  const baseValue = parseFloat(values[0])\n  const eValue = values[1]\n  const numArray = formatForDisplay(baseValue)\n  const theme = useTheme()\n\n  if (baseValue === Infinity) {\n    return null\n  }\n\n  return (\n    <Flex style={{ fontWeight: 500 }}>\n      <TicketView fontSize={fontSize}>\n        {numArray.map((number, index) =>\n          number === '.' ? (\n            <DecimalColumn key={index} />\n          ) : (\n            <NumberColumn key={index} digit={parseInt(number)} fontSize={fontSize} />\n          ),\n        )}\n      </TicketView>\n      {eValue && (\n        <Flex fontSize=\"16px\" alignItems={'flex-end'} color={theme.subText} paddingBottom=\"3px\" paddingTop=\"5px\">\n          10<sup style={{ fontSize: '10px', alignSelf: 'flex-start' }}>{eValue}</sup>\n        </Flex>\n      )}\n      {symbol && (\n        <Text fontSize={fontSize} color={theme.subText}>\n          {symbol}\n        </Text>\n      )}\n    </Flex>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}