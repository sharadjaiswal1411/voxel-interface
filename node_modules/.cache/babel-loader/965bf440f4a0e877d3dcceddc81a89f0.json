{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/PoolList/ListItem.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { ChainId, Fraction } from '@kyberswap/ks-sdk-core';\nimport JSBI from 'jsbi';\nimport { rgba } from 'polished';\nimport React, { useState } from 'react';\nimport { AlertTriangle, ChevronDown, ChevronUp, Info, Minus, Plus, Share2 } from 'react-feather';\nimport { useDispatch } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Flex } from 'rebass';\nimport { ButtonEmpty } from 'components/Button';\nimport CopyHelper from 'components/Copy';\nimport DoubleCurrencyLogo from 'components/DoubleLogo';\nimport { MoneyBag } from 'components/Icons';\nimport Loader from 'components/Loader';\nimport { AMPLiquidityAndTVLContainer, AddressAndAMPContainer, AddressWrapper, ButtonWrapper, ChevronContainer, DataText, ListItemGroupContainer, PoolAddressContainer, TableRow, TextAMP, TextAMPLiquidity, TextShowMorePools, TextTVL, TextTokenPair, TokenPairContainer } from 'components/PoolList/styled';\nimport { MouseoverTooltip } from 'components/Tooltip';\nimport FarmingPoolAPRCell from 'components/YieldPools/FarmingPoolAPRCell';\nimport { MAX_ALLOW_APY } from 'constants/index';\nimport { useActiveWeb3React } from 'hooks';\nimport useTheme from 'hooks/useTheme';\nimport { IconWrapper } from 'pages/Pools/styleds';\nimport { usePoolDetailModalToggle, useToggleEthPowAckModal } from 'state/application/hooks';\nimport { useActiveAndUniqueFarmsData } from 'state/farms/hooks';\nimport { setSelectedPool } from 'state/pools/actions';\nimport { useSharedPoolIdManager, useUrlOnEthPowAck } from 'state/pools/hooks';\nimport { formattedNum, shortenAddress } from 'utils';\nimport { currencyId } from 'utils/currencyId';\nimport { getMyLiquidity, getTradingFeeAPR, parseSubgraphPoolData } from 'utils/dmm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar ListItem = function ListItem(_ref) {\n  _s();\n\n  var _sortedFilteredSubgra;\n\n  var sortedFilteredSubgraphPoolsObject = _ref.sortedFilteredSubgraphPoolsObject,\n      poolData = _ref.poolData,\n      userLiquidityPositions = _ref.userLiquidityPositions,\n      expandedPoolKey = _ref.expandedPoolKey,\n      setExpandedPoolKey = _ref.setExpandedPoolKey;\n  var poolKey = poolData.token0.id + '-' + poolData.token1.id;\n  var isShowTwoPools = poolKey === expandedPoolKey;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isShowAllPools = _useState2[0],\n      setIsShowAllPools = _useState2[1];\n\n  var expandedPools = (_sortedFilteredSubgra = sortedFilteredSubgraphPoolsObject.get(poolKey)) !== null && _sortedFilteredSubgra !== void 0 ? _sortedFilteredSubgra : [];\n  var renderPools = isShowTwoPools ? isShowAllPools ? expandedPools : expandedPools.slice(0, 2) : [poolData];\n  var isDisableShowTwoPools = expandedPools.length <= 1;\n  var isDisableShowAllPools = expandedPools.length <= 2;\n\n  var onUpdateExpandedPoolKey = function onUpdateExpandedPoolKey() {\n    if (isDisableShowTwoPools) return;\n    setExpandedPoolKey(function (prev) {\n      return prev === poolKey ? '' : poolKey;\n    });\n  };\n\n  var onShowAllExpandedPools = function onShowAllExpandedPools(event) {\n    event.stopPropagation();\n    if (isDisableShowAllPools) return;\n    setIsShowAllPools(function (prev) {\n      return !prev;\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListItemGroupContainer, {\n    onClick: onUpdateExpandedPoolKey,\n    isDisableShowTwoPools: isDisableShowTwoPools,\n    isShowExpandedPools: isShowTwoPools,\n    children: [renderPools.map(function (poolData, index) {\n      return /*#__PURE__*/_jsxDEV(ListItemGroup, {\n        poolData: poolData,\n        myLiquidity: userLiquidityPositions[poolData.id],\n        isShowExpandedPools: isShowTwoPools,\n        isFirstPoolInGroup: index === 0,\n        isDisableShowTwoPools: isDisableShowTwoPools\n      }, poolData.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, _this);\n    }), isShowTwoPools && /*#__PURE__*/_jsxDEV(TableRow, {\n      isShowExpandedPools: isShowTwoPools,\n      onClick: onShowAllExpandedPools,\n      style: {\n        padding: '0'\n      },\n      children: /*#__PURE__*/_jsxDEV(TextShowMorePools, {\n        disabled: isDisableShowAllPools,\n        children: isDisableShowAllPools || !isShowAllPools ? /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Show more pools\"\n        }, void 0, false, void 0, _this) : /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Show less pools\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ListItem, \"A6lPtwLORF87B1F5+nTsuS2NkcI=\");\n\n_c = ListItem;\n\nvar ListItemGroup = function ListItemGroup(_ref2) {\n  _s2();\n\n  var poolData = _ref2.poolData,\n      myLiquidity = _ref2.myLiquidity,\n      isShowExpandedPools = _ref2.isShowExpandedPools,\n      isFirstPoolInGroup = _ref2.isFirstPoolInGroup,\n      isDisableShowTwoPools = _ref2.isDisableShowTwoPools;\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var dispatch = useDispatch();\n  var togglePoolDetailModal = usePoolDetailModalToggle();\n  var amp = new Fraction(poolData.amp).divide(JSBI.BigInt(10000));\n  var history = useHistory();\n\n  var _useUrlOnEthPowAck = useUrlOnEthPowAck(),\n      _useUrlOnEthPowAck2 = _slicedToArray(_useUrlOnEthPowAck, 2),\n      setUrlOnEthPoWAck = _useUrlOnEthPowAck2[1];\n\n  var toggleEthPowAckModal = useToggleEthPowAckModal();\n\n  var _useActiveAndUniqueFa = useActiveAndUniqueFarmsData(),\n      uniqueAndActiveFarms = _useActiveAndUniqueFa.data;\n\n  var farm = uniqueAndActiveFarms.find(function (f) {\n    return f.id.toLowerCase() === poolData.id.toLowerCase();\n  });\n  var isFarmingPool = !!farm; // Shorten address with 0x + 3 characters at start and end\n\n  var shortenPoolAddress = shortenAddress(poolData.id, 3);\n\n  var _parseSubgraphPoolDat = parseSubgraphPoolData(poolData, chainId),\n      currency0 = _parseSubgraphPoolDat.currency0,\n      currency1 = _parseSubgraphPoolDat.currency1,\n      reserve0 = _parseSubgraphPoolDat.reserve0,\n      virtualReserve0 = _parseSubgraphPoolDat.virtualReserve0,\n      reserve1 = _parseSubgraphPoolDat.reserve1,\n      virtualReserve1 = _parseSubgraphPoolDat.virtualReserve1;\n\n  var realPercentToken0 = reserve0 && virtualReserve0 && reserve1 && virtualReserve1 ? reserve0.asFraction.divide(virtualReserve0).multiply('100').divide(reserve0.divide(virtualReserve0).asFraction.add(reserve1.divide(virtualReserve1).asFraction)) : new Fraction('50');\n  var realPercentToken1 = new Fraction('100').subtract(realPercentToken0);\n  var isWarning = realPercentToken0.lessThan('10') || realPercentToken1.lessThan('10');\n  var volume = poolData.oneDayVolumeUSD ? poolData.oneDayVolumeUSD : poolData.oneDayVolumeUntracked;\n  var fee24H = poolData.oneDayFeeUSD ? poolData.oneDayFeeUSD : poolData.oneDayFeeUntracked;\n  var oneYearFL = getTradingFeeAPR(poolData.reserveUSD, fee24H).toFixed(2);\n  var ampLiquidity = formattedNum(\"\".concat(parseFloat(amp.toSignificant(5)) * parseFloat(poolData.reserveUSD)), true);\n  var totalValueLocked = formattedNum(\"\".concat(parseFloat(poolData.reserveUSD)), true);\n\n  var onTogglePoolDetailModal = function onTogglePoolDetailModal(event) {\n    event.stopPropagation();\n    dispatch(setSelectedPool({\n      poolData: poolData,\n      myLiquidity: myLiquidity\n    }));\n    togglePoolDetailModal();\n  };\n\n  var theme = useTheme();\n\n  var _useSharedPoolIdManag = useSharedPoolIdManager(),\n      _useSharedPoolIdManag2 = _slicedToArray(_useSharedPoolIdManag, 2),\n      setSharedPoolId = _useSharedPoolIdManag2[1];\n\n  var renderAPR = function renderAPR() {\n    if (!poolData) {\n      return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 14\n      }, _this);\n    }\n\n    if (Number(oneYearFL) > MAX_ALLOW_APY) {\n      return '--';\n    }\n\n    if (isFarmingPool) {\n      return /*#__PURE__*/_jsxDEV(FarmingPoolAPRCell, {\n        poolAPR: Number(oneYearFL),\n        fairlaunchAddress: farm.fairLaunchAddress,\n        pid: farm.pid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, _this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        alignItems: 'center',\n        paddingRight: '20px' // to make all the APR numbers vertically align\n\n      },\n      children: [oneYearFL, \"%\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(TableRow, {\n      isShowExpandedPools: isShowExpandedPools,\n      isShowBorderBottom: isShowExpandedPools,\n      onClick: function onClick() {\n        return null;\n      },\n      children: [/*#__PURE__*/_jsxDEV(DataText, {\n        children: isFirstPoolInGroup && /*#__PURE__*/_jsxDEV(Flex, {\n          children: /*#__PURE__*/_jsxDEV(TokenPairContainer, {\n            children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n              currency0: currency0,\n              currency1: currency1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(TextTokenPair, {\n              children: [poolData.token0.symbol, \" - \", poolData.token1.symbol]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        style: {\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Flex, {\n          sx: {\n            position: 'absolute',\n            top: '-1px',\n            left: '-28px',\n            minWidth: '18px',\n            // to match width of IconWrapper\n            flexDirection: 'column',\n            rowGap: '4px',\n            alignItems: 'center'\n          },\n          children: [isFarmingPool && /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n            placement: \"top\",\n            text:\n            /*i18n*/\n            i18n._(\"Available for yield farming\"),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/farms?tab=classic&type=active&search=\".concat(poolData.id),\n              children: /*#__PURE__*/_jsxDEV(MoneyBag, {\n                size: 16,\n                color: theme.apr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, _this), isWarning && /*#__PURE__*/_jsxDEV(MouseoverTooltip, {\n            text: \"One token is close to 0% in the pool ratio. Pool might go inactive\",\n            children: /*#__PURE__*/_jsxDEV(IconWrapper, {\n              style: {\n                background: theme.warning,\n                marginTop: isFarmingPool ? '4px' : 0\n              },\n              children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n                color: theme.textReverse,\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(PoolAddressContainer, {\n          children: /*#__PURE__*/_jsxDEV(AddressAndAMPContainer, {\n            children: [/*#__PURE__*/_jsxDEV(AddressWrapper, {\n              children: [shortenPoolAddress, /*#__PURE__*/_jsxDEV(CopyHelper, {\n                toCopy: poolData.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(TextAMP, {\n              children: [\"AMP = \", formattedNum(amp.toSignificant(5))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        children: !poolData ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/_jsxDEV(AMPLiquidityAndTVLContainer, {\n          children: [/*#__PURE__*/_jsxDEV(TextAMPLiquidity, {\n            children: ampLiquidity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(TextTVL, {\n            children: totalValueLocked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        alignItems: \"flex-end\",\n        style: {\n          color: theme.apr\n        },\n        children: renderAPR()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        alignItems: \"flex-end\",\n        children: !poolData ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 54\n        }, _this) : formattedNum(volume, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        alignItems: \"flex-end\",\n        children: !poolData ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 54\n        }, _this) : formattedNum(fee24H, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(DataText, {\n        alignItems: \"flex-end\",\n        children: getMyLiquidity(myLiquidity)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(ButtonWrapper, {\n        style: {\n          marginRight: '-3px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(ButtonEmpty, {\n          padding: \"0\",\n          style: {\n            background: rgba(theme.primary, 0.2),\n            minWidth: '28px',\n            minHeight: '28px',\n            width: '28px',\n            height: '28px'\n          },\n          onClick: function onClick(e) {\n            e.stopPropagation();\n            var url = \"/add/\".concat(currencyId(currency0, chainId), \"/\").concat(currencyId(currency1, chainId), \"/\").concat(poolData.id);\n            setUrlOnEthPoWAck(url);\n\n            if (chainId === ChainId.ETHW) {\n              toggleEthPowAckModal();\n            } else {\n              history.push(url);\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Plus, {\n            size: 16,\n            color: theme.primary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, _this), myLiquidity && myLiquidity.liquidityTokenBalance !== '0' && /*#__PURE__*/_jsxDEV(ButtonEmpty, {\n          padding: \"0\",\n          as: Link,\n          to: \"/remove/\".concat(currencyId(currency0, chainId), \"/\").concat(currencyId(currency1, chainId), \"/\").concat(poolData.id),\n          style: {\n            background: rgba(theme.subText, 0.2),\n            minWidth: '28px',\n            minHeight: '28px',\n            width: '28px',\n            height: '28px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Minus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(ButtonEmpty, {\n          padding: \"0\",\n          onClick: function onClick(e) {\n            e.stopPropagation();\n            setSharedPoolId(poolData.id);\n          },\n          style: {\n            background: rgba(theme.buttonBlack, 0.2),\n            minWidth: '28px',\n            minHeight: '28px',\n            width: '28px',\n            height: '28px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Share2, {\n            size: \"14px\",\n            color: theme.subText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(ButtonEmpty, {\n          padding: \"0\",\n          onClick: onTogglePoolDetailModal,\n          style: {\n            background: rgba(theme.buttonGray, 0.2),\n            minWidth: '28px',\n            minHeight: '28px',\n            width: '28px',\n            height: '28px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Info, {\n            size: \"16px\",\n            color: theme.subText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(ChevronContainer, {\n          children: [isFirstPoolInGroup && isShowExpandedPools && /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: 20,\n            style: {\n              minWidth: '20px',\n              minHeight: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, _this), isFirstPoolInGroup && !isShowExpandedPools && /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: 20,\n            style: {\n              minWidth: '20px',\n              minHeight: '20px'\n            },\n            color: isDisableShowTwoPools ? theme.buttonGray : theme.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, _this), !isFirstPoolInGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              visibility: 'hidden',\n              minWidth: '20px',\n              minHeight: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 37\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s2(ListItemGroup, \"r+whZ2E0nqSSIWJ0bS2XaVXsN2c=\", false, function () {\n  return [useActiveWeb3React, useDispatch, usePoolDetailModalToggle, useHistory, useUrlOnEthPowAck, useToggleEthPowAckModal, useActiveAndUniqueFarmsData, useTheme, useSharedPoolIdManager];\n});\n\n_c2 = ListItemGroup;\nexport default ListItem;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ListItem\");\n$RefreshReg$(_c2, \"ListItemGroup\");","map":{"version":3,"names":["ChainId","Fraction","JSBI","rgba","React","useState","AlertTriangle","ChevronDown","ChevronUp","Info","Minus","Plus","Share2","useDispatch","Link","useHistory","Flex","ButtonEmpty","CopyHelper","DoubleCurrencyLogo","MoneyBag","Loader","AMPLiquidityAndTVLContainer","AddressAndAMPContainer","AddressWrapper","ButtonWrapper","ChevronContainer","DataText","ListItemGroupContainer","PoolAddressContainer","TableRow","TextAMP","TextAMPLiquidity","TextShowMorePools","TextTVL","TextTokenPair","TokenPairContainer","MouseoverTooltip","FarmingPoolAPRCell","MAX_ALLOW_APY","useActiveWeb3React","useTheme","IconWrapper","usePoolDetailModalToggle","useToggleEthPowAckModal","useActiveAndUniqueFarmsData","setSelectedPool","useSharedPoolIdManager","useUrlOnEthPowAck","formattedNum","shortenAddress","currencyId","getMyLiquidity","getTradingFeeAPR","parseSubgraphPoolData","ListItem","sortedFilteredSubgraphPoolsObject","poolData","userLiquidityPositions","expandedPoolKey","setExpandedPoolKey","poolKey","token0","id","token1","isShowTwoPools","isShowAllPools","setIsShowAllPools","expandedPools","get","renderPools","slice","isDisableShowTwoPools","length","isDisableShowAllPools","onUpdateExpandedPoolKey","prev","onShowAllExpandedPools","event","stopPropagation","map","index","padding","ListItemGroup","myLiquidity","isShowExpandedPools","isFirstPoolInGroup","chainId","dispatch","togglePoolDetailModal","amp","divide","BigInt","history","setUrlOnEthPoWAck","toggleEthPowAckModal","uniqueAndActiveFarms","data","farm","find","f","toLowerCase","isFarmingPool","shortenPoolAddress","currency0","currency1","reserve0","virtualReserve0","reserve1","virtualReserve1","realPercentToken0","asFraction","multiply","add","realPercentToken1","subtract","isWarning","lessThan","volume","oneDayVolumeUSD","oneDayVolumeUntracked","fee24H","oneDayFeeUSD","oneDayFeeUntracked","oneYearFL","reserveUSD","toFixed","ampLiquidity","parseFloat","toSignificant","totalValueLocked","onTogglePoolDetailModal","theme","setSharedPoolId","renderAPR","Number","fairLaunchAddress","pid","alignItems","paddingRight","symbol","position","top","left","minWidth","flexDirection","rowGap","apr","background","warning","marginTop","textReverse","color","marginRight","primary","minHeight","width","height","e","url","ETHW","push","liquidityTokenBalance","subText","buttonBlack","buttonGray","text","visibility"],"sources":["/Applications/XAMPP/voxel-interface/src/components/PoolList/ListItem.tsx"],"sourcesContent":["import { ChainId, Fraction } from '@kyberswap/ks-sdk-core'\nimport { Trans, t } from '@lingui/macro'\nimport JSBI from 'jsbi'\nimport { rgba } from 'polished'\nimport React, { CSSProperties, useState } from 'react'\nimport { AlertTriangle, ChevronDown, ChevronUp, Info, Minus, Plus, Share2 } from 'react-feather'\nimport { useDispatch } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport { Flex } from 'rebass'\n\nimport { ButtonEmpty } from 'components/Button'\nimport CopyHelper from 'components/Copy'\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport { MoneyBag } from 'components/Icons'\nimport Loader from 'components/Loader'\nimport {\n  AMPLiquidityAndTVLContainer,\n  AddressAndAMPContainer,\n  AddressWrapper,\n  ButtonWrapper,\n  ChevronContainer,\n  DataText,\n  ListItemGroupContainer,\n  PoolAddressContainer,\n  TableRow,\n  TextAMP,\n  TextAMPLiquidity,\n  TextShowMorePools,\n  TextTVL,\n  TextTokenPair,\n  TokenPairContainer,\n} from 'components/PoolList/styled'\nimport { MouseoverTooltip } from 'components/Tooltip'\nimport FarmingPoolAPRCell from 'components/YieldPools/FarmingPoolAPRCell'\nimport { MAX_ALLOW_APY } from 'constants/index'\nimport { useActiveWeb3React } from 'hooks'\nimport useTheme from 'hooks/useTheme'\nimport { IconWrapper } from 'pages/Pools/styleds'\nimport { usePoolDetailModalToggle, useToggleEthPowAckModal } from 'state/application/hooks'\nimport { useActiveAndUniqueFarmsData } from 'state/farms/hooks'\nimport { setSelectedPool } from 'state/pools/actions'\nimport { SubgraphPoolData, UserLiquidityPosition, useSharedPoolIdManager, useUrlOnEthPowAck } from 'state/pools/hooks'\nimport { formattedNum, shortenAddress } from 'utils'\nimport { currencyId } from 'utils/currencyId'\nimport { getMyLiquidity, getTradingFeeAPR, parseSubgraphPoolData } from 'utils/dmm'\n\nexport interface ListItemGroupProps {\n  sortedFilteredSubgraphPoolsObject: Map<string, SubgraphPoolData[]>\n  poolData: SubgraphPoolData\n  userLiquidityPositions: { [key: string]: UserLiquidityPosition }\n  expandedPoolKey: string | undefined\n  setExpandedPoolKey: React.Dispatch<React.SetStateAction<string | undefined>>\n}\n\nexport interface ListItemProps {\n  poolData: SubgraphPoolData\n  myLiquidity: UserLiquidityPosition | undefined\n  isShowExpandedPools: boolean\n  isFirstPoolInGroup: boolean\n  isDisableShowTwoPools: boolean\n  style?: CSSProperties\n}\n\nconst ListItem = ({\n  sortedFilteredSubgraphPoolsObject,\n  poolData,\n  userLiquidityPositions,\n  expandedPoolKey,\n  setExpandedPoolKey,\n}: ListItemGroupProps) => {\n  const poolKey = poolData.token0.id + '-' + poolData.token1.id\n\n  const isShowTwoPools = poolKey === expandedPoolKey\n\n  const [isShowAllPools, setIsShowAllPools] = useState(false)\n\n  const expandedPools = sortedFilteredSubgraphPoolsObject.get(poolKey) ?? []\n\n  const renderPools = isShowTwoPools ? (isShowAllPools ? expandedPools : expandedPools.slice(0, 2)) : [poolData]\n\n  const isDisableShowTwoPools = expandedPools.length <= 1\n  const isDisableShowAllPools = expandedPools.length <= 2\n\n  const onUpdateExpandedPoolKey = () => {\n    if (isDisableShowTwoPools) return\n    setExpandedPoolKey(prev => (prev === poolKey ? '' : poolKey))\n  }\n\n  const onShowAllExpandedPools = (event: React.MouseEvent<HTMLDivElement>) => {\n    event.stopPropagation()\n    if (isDisableShowAllPools) return\n    setIsShowAllPools(prev => !prev)\n  }\n\n  return (\n    <ListItemGroupContainer\n      onClick={onUpdateExpandedPoolKey}\n      isDisableShowTwoPools={isDisableShowTwoPools}\n      isShowExpandedPools={isShowTwoPools}\n    >\n      {renderPools.map((poolData, index) => (\n        <ListItemGroup\n          key={poolData.id}\n          poolData={poolData}\n          myLiquidity={userLiquidityPositions[poolData.id]}\n          isShowExpandedPools={isShowTwoPools}\n          isFirstPoolInGroup={index === 0}\n          isDisableShowTwoPools={isDisableShowTwoPools}\n        />\n      ))}\n      {isShowTwoPools && (\n        <TableRow isShowExpandedPools={isShowTwoPools} onClick={onShowAllExpandedPools} style={{ padding: '0' }}>\n          <TextShowMorePools disabled={isDisableShowAllPools}>\n            {isDisableShowAllPools || !isShowAllPools ? <Trans>Show more pools</Trans> : <Trans>Show less pools</Trans>}\n          </TextShowMorePools>\n        </TableRow>\n      )}\n    </ListItemGroupContainer>\n  )\n}\n\nconst ListItemGroup = ({\n  poolData,\n  myLiquidity,\n  isShowExpandedPools,\n  isFirstPoolInGroup,\n  isDisableShowTwoPools,\n}: ListItemProps) => {\n  const { chainId } = useActiveWeb3React()\n  const dispatch = useDispatch()\n  const togglePoolDetailModal = usePoolDetailModalToggle()\n\n  const amp = new Fraction(poolData.amp).divide(JSBI.BigInt(10000))\n\n  const history = useHistory()\n  const [, setUrlOnEthPoWAck] = useUrlOnEthPowAck()\n  const toggleEthPowAckModal = useToggleEthPowAckModal()\n\n  const { data: uniqueAndActiveFarms } = useActiveAndUniqueFarmsData()\n  const farm = uniqueAndActiveFarms.find(f => f.id.toLowerCase() === poolData.id.toLowerCase())\n  const isFarmingPool = !!farm\n\n  // Shorten address with 0x + 3 characters at start and end\n  const shortenPoolAddress = shortenAddress(poolData.id, 3)\n  const { currency0, currency1, reserve0, virtualReserve0, reserve1, virtualReserve1 } = parseSubgraphPoolData(\n    poolData,\n    chainId as ChainId,\n  )\n  const realPercentToken0 =\n    reserve0 && virtualReserve0 && reserve1 && virtualReserve1\n      ? reserve0.asFraction\n          .divide(virtualReserve0)\n          .multiply('100')\n          .divide(reserve0.divide(virtualReserve0).asFraction.add(reserve1.divide(virtualReserve1).asFraction))\n      : new Fraction('50')\n  const realPercentToken1 = new Fraction('100').subtract(realPercentToken0)\n  const isWarning = realPercentToken0.lessThan('10') || realPercentToken1.lessThan('10')\n  const volume = poolData.oneDayVolumeUSD ? poolData.oneDayVolumeUSD : poolData.oneDayVolumeUntracked\n\n  const fee24H = poolData.oneDayFeeUSD ? poolData.oneDayFeeUSD : poolData.oneDayFeeUntracked\n\n  const oneYearFL = getTradingFeeAPR(poolData.reserveUSD, fee24H).toFixed(2)\n\n  const ampLiquidity = formattedNum(`${parseFloat(amp.toSignificant(5)) * parseFloat(poolData.reserveUSD)}`, true)\n  const totalValueLocked = formattedNum(`${parseFloat(poolData.reserveUSD)}`, true)\n\n  const onTogglePoolDetailModal = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    event.stopPropagation()\n    dispatch(\n      setSelectedPool({\n        poolData,\n        myLiquidity,\n      }),\n    )\n    togglePoolDetailModal()\n  }\n\n  const theme = useTheme()\n\n  const [, setSharedPoolId] = useSharedPoolIdManager()\n\n  const renderAPR = () => {\n    if (!poolData) {\n      return <Loader />\n    }\n\n    if (Number(oneYearFL) > MAX_ALLOW_APY) {\n      return '--'\n    }\n\n    if (isFarmingPool) {\n      return (\n        <FarmingPoolAPRCell poolAPR={Number(oneYearFL)} fairlaunchAddress={farm.fairLaunchAddress} pid={farm.pid} />\n      )\n    }\n\n    return (\n      <Flex\n        sx={{\n          alignItems: 'center',\n          paddingRight: '20px', // to make all the APR numbers vertically align\n        }}\n      >\n        {oneYearFL}%\n      </Flex>\n    )\n  }\n\n  return (\n    <>\n      <TableRow isShowExpandedPools={isShowExpandedPools} isShowBorderBottom={isShowExpandedPools} onClick={() => null}>\n        <DataText>\n          {isFirstPoolInGroup && (\n            <Flex>\n              <TokenPairContainer>\n                <DoubleCurrencyLogo currency0={currency0} currency1={currency1} />\n                <TextTokenPair>\n                  {poolData.token0.symbol} - {poolData.token1.symbol}\n                </TextTokenPair>\n              </TokenPairContainer>\n            </Flex>\n          )}\n        </DataText>\n\n        <DataText style={{ position: 'relative' }}>\n          <Flex\n            sx={{\n              position: 'absolute',\n              top: '-1px',\n              left: '-28px',\n              minWidth: '18px', // to match width of IconWrapper\n              flexDirection: 'column',\n              rowGap: '4px',\n              alignItems: 'center',\n            }}\n          >\n            {isFarmingPool && (\n              <MouseoverTooltip placement=\"top\" text={t`Available for yield farming`}>\n                <Link to={`/farms?tab=classic&type=active&search=${poolData.id}`}>\n                  <MoneyBag size={16} color={theme.apr} />\n                </Link>\n              </MouseoverTooltip>\n            )}\n            {isWarning && (\n              <MouseoverTooltip text={`One token is close to 0% in the pool ratio. Pool might go inactive`}>\n                <IconWrapper style={{ background: theme.warning, marginTop: isFarmingPool ? '4px' : 0 }}>\n                  <AlertTriangle color={theme.textReverse} size={12} />\n                </IconWrapper>\n              </MouseoverTooltip>\n            )}\n          </Flex>\n          <PoolAddressContainer>\n            <AddressAndAMPContainer>\n              <AddressWrapper>\n                {shortenPoolAddress}\n                <CopyHelper toCopy={poolData.id} />\n              </AddressWrapper>\n              <TextAMP>AMP = {formattedNum(amp.toSignificant(5))}</TextAMP>\n            </AddressAndAMPContainer>\n          </PoolAddressContainer>\n        </DataText>\n        <DataText>\n          {!poolData ? (\n            <Loader />\n          ) : (\n            <AMPLiquidityAndTVLContainer>\n              <TextAMPLiquidity>{ampLiquidity}</TextAMPLiquidity>\n              <TextTVL>{totalValueLocked}</TextTVL>\n            </AMPLiquidityAndTVLContainer>\n          )}\n        </DataText>\n        <DataText\n          alignItems=\"flex-end\"\n          style={{\n            color: theme.apr,\n          }}\n        >\n          {renderAPR()}\n        </DataText>\n        <DataText alignItems=\"flex-end\">{!poolData ? <Loader /> : formattedNum(volume, true)}</DataText>\n        <DataText alignItems=\"flex-end\">{!poolData ? <Loader /> : formattedNum(fee24H, true)}</DataText>\n        <DataText alignItems=\"flex-end\">{getMyLiquidity(myLiquidity)}</DataText>\n        <ButtonWrapper style={{ marginRight: '-3px' }}>\n          <ButtonEmpty\n            padding=\"0\"\n            style={{\n              background: rgba(theme.primary, 0.2),\n              minWidth: '28px',\n              minHeight: '28px',\n              width: '28px',\n              height: '28px',\n            }}\n            onClick={(e: React.MouseEvent) => {\n              e.stopPropagation()\n\n              const url = `/add/${currencyId(currency0, chainId)}/${currencyId(currency1, chainId)}/${poolData.id}`\n              setUrlOnEthPoWAck(url)\n\n              if (chainId === ChainId.ETHW) {\n                toggleEthPowAckModal()\n              } else {\n                history.push(url)\n              }\n            }}\n          >\n            <Plus size={16} color={theme.primary} />\n          </ButtonEmpty>\n          {myLiquidity && myLiquidity.liquidityTokenBalance !== '0' && (\n            <ButtonEmpty\n              padding=\"0\"\n              as={Link}\n              to={`/remove/${currencyId(currency0, chainId)}/${currencyId(currency1, chainId)}/${poolData.id}`}\n              style={{\n                background: rgba(theme.subText, 0.2),\n                minWidth: '28px',\n                minHeight: '28px',\n                width: '28px',\n                height: '28px',\n              }}\n            >\n              <Minus size={16} />\n            </ButtonEmpty>\n          )}\n          <ButtonEmpty\n            padding=\"0\"\n            onClick={(e: React.MouseEvent) => {\n              e.stopPropagation()\n              setSharedPoolId(poolData.id)\n            }}\n            style={{\n              background: rgba(theme.buttonBlack, 0.2),\n              minWidth: '28px',\n              minHeight: '28px',\n              width: '28px',\n              height: '28px',\n            }}\n          >\n            <Share2 size=\"14px\" color={theme.subText} />\n          </ButtonEmpty>\n          <ButtonEmpty\n            padding=\"0\"\n            onClick={onTogglePoolDetailModal}\n            style={{\n              background: rgba(theme.buttonGray, 0.2),\n              minWidth: '28px',\n              minHeight: '28px',\n              width: '28px',\n              height: '28px',\n            }}\n          >\n            <Info size=\"16px\" color={theme.subText} />\n          </ButtonEmpty>\n          <ChevronContainer>\n            {isFirstPoolInGroup && isShowExpandedPools && (\n              <ChevronUp size={20} style={{ minWidth: '20px', minHeight: '20px' }} />\n            )}\n            {isFirstPoolInGroup && !isShowExpandedPools && (\n              <ChevronDown\n                size={20}\n                style={{ minWidth: '20px', minHeight: '20px' }}\n                color={isDisableShowTwoPools ? theme.buttonGray : theme.text}\n              />\n            )}\n            {!isFirstPoolInGroup && <div style={{ visibility: 'hidden', minWidth: '20px', minHeight: '20px' }} />}\n          </ChevronContainer>\n        </ButtonWrapper>\n      </TableRow>\n    </>\n  )\n}\n\nexport default ListItem\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}