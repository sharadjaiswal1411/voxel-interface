{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/swapv2/SwapSettingsPanel/TransactionTimeLimitSetting.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { isMobile } from 'react-device-detect';\nimport { Box, Flex, Text } from 'rebass';\nimport styled from 'styled-components';\nimport QuestionHelper from 'components/QuestionHelper';\nimport useTheme from 'hooks/useTheme';\nimport { useUserTransactionTTL } from 'state/user/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar validateDeadlineString = function validateDeadlineString(str) {\n  var value = Number.parseInt(str, 10); // must not be longer than 10000 (5 chars)\n\n  if (str.length > '10000'.length) {\n    return false;\n  } // must be an integer\n\n\n  if (Number.isNaN(value) || String(Math.floor(value)) !== str) {\n    return false;\n  } // must be in (0, 1000)\n\n\n  if (0 < value && value < 10000) {\n    return true;\n  }\n\n  return false;\n};\n\nvar TransactionTimeLimitSetting = function TransactionTimeLimitSetting(_ref) {\n  _s();\n\n  var className = _ref.className;\n  var theme = useTheme();\n\n  var _useUserTransactionTT = useUserTransactionTTL(),\n      _useUserTransactionTT2 = _slicedToArray(_useUserTransactionTT, 2),\n      deadline\n  /* in seconds */\n  = _useUserTransactionTT2[0],\n      setDeadline = _useUserTransactionTT2[1];\n\n  var _useState = useState(String(Math.floor(deadline / 60))),\n      _useState2 = _slicedToArray(_useState, 2),\n      deadlineInput = _useState2[0],\n      setDeadlineInput = _useState2[1];\n\n  var inputRef = useRef(null);\n  var isValid = validateDeadlineString(deadlineInput);\n\n  var handleCommitChange = function handleCommitChange() {\n    if (!validateDeadlineString(deadlineInput)) {\n      return;\n    }\n\n    var newDeadline\n    /* in seconds */\n    = parseInt(deadlineInput, 10) * 60;\n    setDeadline(newDeadline);\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.key === 'Enter') {\n      var _inputRef$current;\n\n      handleCommitChange();\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.blur();\n    }\n  };\n\n  useEffect(function () {\n    setDeadlineInput(String(Math.floor(deadline / 60)));\n  }, [deadline]);\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    justifyContent: 'space-between',\n    alignItems: \"center\",\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        className: \"label\",\n        sx: {\n          fontSize: isMobile ? '14px' : '12px',\n          color: theme.text,\n          fontWeight: 400,\n          lineHeight: '16px',\n          whiteSpace: 'nowrap'\n        },\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Transaction time limit\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n        text:\n        /*i18n*/\n        i18n._(\"Transaction will revert if it is pending for longer than the indicated time\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n      sx: {\n        height: '28px',\n        fontWeight: 500,\n        fontSize: '12px',\n        lineHeight: '16px',\n        columnGap: '2px',\n        alignItems: 'center',\n        backgroundColor: theme.tabBackgound,\n        padding: '0 8px',\n        borderRadius: '40px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        width: 60,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          className: \"input\",\n          placeholder: String(deadline / 60),\n          value: deadlineInput,\n          onChange: function onChange(e) {\n            return setDeadlineInput(e.target.value);\n          },\n          onBlur: handleCommitChange,\n          onKeyUp: handleKeyUp,\n          \"data-valid\": isValid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Text, {\n        fontWeight: 500,\n        fontSize: \"12px\",\n        lineHeight: '16px',\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"mins\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TransactionTimeLimitSetting, \"XOfc9dWqGMP2LlyHWkzAmIlHmyM=\", false, function () {\n  return [useTheme, useUserTransactionTTL];\n});\n\n_c = TransactionTimeLimitSetting;\nexport default styled(TransactionTimeLimitSetting).withConfig({\n  displayName: \"TransactionTimeLimitSetting\",\n  componentId: \"sc-nn95zy-0\"\n})([\".input{width:100%;background:transparent;font-size:12px;font-weight:500;outline:none;border:none;&::-webkit-outer-spin-button,&::-webkit-inner-spin-button{-webkit-appearance:none;}color:\", \";text-align:right;&[data-valid='false']{color:\", \";}}\"], function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.text;\n}, function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.red1;\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionTimeLimitSetting\");","map":{"version":3,"names":["React","useEffect","useRef","useState","isMobile","Box","Flex","Text","styled","QuestionHelper","useTheme","useUserTransactionTTL","validateDeadlineString","str","value","Number","parseInt","length","isNaN","String","Math","floor","TransactionTimeLimitSetting","className","theme","deadline","setDeadline","deadlineInput","setDeadlineInput","inputRef","isValid","handleCommitChange","newDeadline","handleKeyUp","e","key","current","blur","fontSize","color","text","fontWeight","lineHeight","whiteSpace","height","columnGap","alignItems","backgroundColor","tabBackgound","padding","borderRadius","target","red1"],"sources":["/Applications/XAMPP/voxel-interface/src/components/swapv2/SwapSettingsPanel/TransactionTimeLimitSetting.tsx"],"sourcesContent":["import { Trans, t } from '@lingui/macro'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { Box, Flex, Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport QuestionHelper from 'components/QuestionHelper'\nimport useTheme from 'hooks/useTheme'\nimport { useUserTransactionTTL } from 'state/user/hooks'\n\ntype Props = {\n  className?: string\n}\n\nconst validateDeadlineString = (str: string): boolean => {\n  const value = Number.parseInt(str, 10)\n\n  // must not be longer than 10000 (5 chars)\n  if (str.length > '10000'.length) {\n    return false\n  }\n\n  // must be an integer\n  if (Number.isNaN(value) || String(Math.floor(value)) !== str) {\n    return false\n  }\n\n  // must be in (0, 1000)\n  if (0 < value && value < 10000) {\n    return true\n  }\n\n  return false\n}\n\nconst TransactionTimeLimitSetting: React.FC<Props> = ({ className }) => {\n  const theme = useTheme()\n\n  const [deadline /* in seconds */, setDeadline] = useUserTransactionTTL()\n  const [deadlineInput, setDeadlineInput] = useState(String(Math.floor(deadline / 60)))\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const isValid = validateDeadlineString(deadlineInput)\n\n  const handleCommitChange = () => {\n    if (!validateDeadlineString(deadlineInput)) {\n      return\n    }\n\n    const newDeadline /* in seconds */ = parseInt(deadlineInput, 10) * 60\n    setDeadline(newDeadline)\n  }\n\n  const handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      handleCommitChange()\n      inputRef.current?.blur()\n    }\n  }\n\n  useEffect(() => {\n    setDeadlineInput(String(Math.floor(deadline / 60)))\n  }, [deadline])\n\n  return (\n    <Flex justifyContent={'space-between'} alignItems=\"center\" className={className}>\n      <Flex alignItems=\"center\">\n        <Text\n          className=\"label\"\n          sx={{\n            fontSize: isMobile ? '14px' : '12px',\n            color: theme.text,\n            fontWeight: 400,\n            lineHeight: '16px',\n            whiteSpace: 'nowrap',\n          }}\n        >\n          <Trans>Transaction time limit</Trans>\n        </Text>\n        <QuestionHelper text={t`Transaction will revert if it is pending for longer than the indicated time`} />\n      </Flex>\n\n      <Flex\n        sx={{\n          height: '28px',\n          fontWeight: 500,\n          fontSize: '12px',\n          lineHeight: '16px',\n          columnGap: '2px',\n          alignItems: 'center',\n          backgroundColor: theme.tabBackgound,\n          padding: '0 8px',\n          borderRadius: '40px',\n        }}\n      >\n        <Box width={60}>\n          <input\n            ref={inputRef}\n            className=\"input\"\n            placeholder={String(deadline / 60)}\n            value={deadlineInput}\n            onChange={e => setDeadlineInput(e.target.value)}\n            onBlur={handleCommitChange}\n            onKeyUp={handleKeyUp}\n            data-valid={isValid}\n          />\n        </Box>\n        <Text fontWeight={500} fontSize=\"12px\" lineHeight={'16px'}>\n          <Trans>mins</Trans>\n        </Text>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default styled(TransactionTimeLimitSetting)`\n  .input {\n    width: 100%;\n    background: transparent;\n    font-size: 12px;\n    font-weight: 500;\n    outline: none;\n    border: none;\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n    }\n    color: ${({ theme }) => theme.text};\n    text-align: right;\n\n    &[data-valid='false'] {\n      color: ${({ theme }) => theme.red1};\n    }\n  }\n`\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}