{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { TickMath } from '@kyberswap/ks-sdk-elastic';\nimport { useMemo } from 'react';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { useActiveWeb3React } from 'hooks';\nimport { useSingleContractMultipleData } from 'state/multicall/hooks';\nimport { useProAmmTickReader } from './useContract';\nimport useProAmmPoolInfo from './useProAmmPoolInfo';\n\nvar isNullOrUndefined = function isNullOrUndefined(value) {\n  return value === null || value === undefined;\n};\n\nexport default function useProAmmPreviousTicks(pool, position) {\n  _s();\n\n  var tickReader = useProAmmTickReader();\n  var poolAddress = useProAmmPoolInfo(position === null || position === void 0 ? void 0 : position.pool.token0, position === null || position === void 0 ? void 0 : position.pool.token1, position === null || position === void 0 ? void 0 : position.pool.fee);\n  var results = useSingleContractMultipleData(tickReader, 'getNearestInitializedTicks', [[poolAddress, position === null || position === void 0 ? void 0 : position.tickLower], [poolAddress, position === null || position === void 0 ? void 0 : position.tickUpper]].filter(function (item) {\n    return !!pool && !isNullOrUndefined(item[0]) && !isNullOrUndefined(item[1]);\n  }));\n  var loading = useMemo(function () {\n    return results.some(function (_ref) {\n      var loading = _ref.loading;\n      return loading;\n    });\n  }, [results]);\n  var error = useMemo(function () {\n    return results.some(function (_ref2) {\n      var error = _ref2.error;\n      return error;\n    });\n  }, [results]);\n  return useMemo(function () {\n    if (!pool) return [TickMath.MIN_TICK, TickMath.MIN_TICK];\n\n    if (!loading && !error && !!pool) {\n      return results.map(function (call) {\n        var result = call.result;\n        return result.previous;\n      });\n    }\n\n    return undefined;\n  }, [results, loading, error, pool]);\n}\n\n_s(useProAmmPreviousTicks, \"lKHiNZP63dDKUEpL1sSyQN4E7ZQ=\", false, function () {\n  return [useProAmmTickReader, useProAmmPoolInfo, useSingleContractMultipleData];\n});\n\nexport function useProAmmTotalFeeOwedByPosition(pool, tokenID) {\n  _s2();\n\n  var _useSingleContractMul, _useSingleContractMul2;\n\n  var tickReader = useProAmmTickReader();\n  var poolAddress = useProAmmPoolInfo(pool === null || pool === void 0 ? void 0 : pool.token0, pool === null || pool === void 0 ? void 0 : pool.token1, pool === null || pool === void 0 ? void 0 : pool.fee);\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var result = (_useSingleContractMul = useSingleContractMultipleData(tickReader, 'getTotalFeesOwedToPosition', [[chainId && NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager, poolAddress, tokenID]].filter(function (item) {\n    return !!item[0] && !!item[1] && !!item[2];\n  }))) === null || _useSingleContractMul === void 0 ? void 0 : (_useSingleContractMul2 = _useSingleContractMul[0]) === null || _useSingleContractMul2 === void 0 ? void 0 : _useSingleContractMul2.result;\n  return result ? [result[0], result[1]] : [0, 0];\n}\n\n_s2(useProAmmTotalFeeOwedByPosition, \"UBMTJdIJ86WV0Wm8DFRApzjPmmI=\", false, function () {\n  return [useProAmmTickReader, useProAmmPoolInfo, useActiveWeb3React, useSingleContractMultipleData];\n});","map":{"version":3,"names":["TickMath","useMemo","NETWORKS_INFO","useActiveWeb3React","useSingleContractMultipleData","useProAmmTickReader","useProAmmPoolInfo","isNullOrUndefined","value","undefined","useProAmmPreviousTicks","pool","position","tickReader","poolAddress","token0","token1","fee","results","tickLower","tickUpper","filter","item","loading","some","error","MIN_TICK","map","call","result","previous","useProAmmTotalFeeOwedByPosition","tokenID","chainId","elastic","nonfungiblePositionManager"],"sources":["/Applications/XAMPP/voxel-interface/src/hooks/useProAmmPreviousTicks.ts"],"sourcesContent":["import { Pool, Position, TickMath } from '@kyberswap/ks-sdk-elastic'\nimport { useMemo } from 'react'\n\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { useActiveWeb3React } from 'hooks'\nimport { Result, useSingleContractMultipleData } from 'state/multicall/hooks'\n\nimport { useProAmmTickReader } from './useContract'\nimport useProAmmPoolInfo from './useProAmmPoolInfo'\n\nconst isNullOrUndefined = <T>(value: T) => value === null || value === undefined\n\nexport default function useProAmmPreviousTicks(\n  pool: Pool | null | undefined,\n  position: Position | undefined,\n): number[] | undefined {\n  const tickReader = useProAmmTickReader()\n\n  const poolAddress = useProAmmPoolInfo(position?.pool.token0, position?.pool.token1, position?.pool.fee)\n\n  const results = useSingleContractMultipleData(\n    tickReader,\n    'getNearestInitializedTicks',\n    [\n      [poolAddress, position?.tickLower],\n      [poolAddress, position?.tickUpper],\n    ].filter(item => !!pool && !isNullOrUndefined(item[0]) && !isNullOrUndefined(item[1])),\n  )\n\n  const loading = useMemo(() => results.some(({ loading }) => loading), [results])\n  const error = useMemo(() => results.some(({ error }) => error), [results])\n  return useMemo(() => {\n    if (!pool) return [TickMath.MIN_TICK, TickMath.MIN_TICK]\n    if (!loading && !error && !!pool) {\n      return results.map(call => {\n        const result = call.result as Result\n        return result.previous\n      })\n    }\n    return undefined\n  }, [results, loading, error, pool])\n}\n\nexport function useProAmmTotalFeeOwedByPosition(pool: Pool | null | undefined, tokenID: string | undefined): number[] {\n  const tickReader = useProAmmTickReader()\n  const poolAddress = useProAmmPoolInfo(pool?.token0, pool?.token1, pool?.fee)\n  const { chainId } = useActiveWeb3React()\n\n  const result = useSingleContractMultipleData(\n    tickReader,\n    'getTotalFeesOwedToPosition',\n    [[chainId && NETWORKS_INFO[chainId].elastic.nonfungiblePositionManager, poolAddress, tokenID]].filter(\n      item => !!item[0] && !!item[1] && !!item[2],\n    ),\n  )?.[0]?.result\n  return result ? [result[0], result[1]] : [0, 0]\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}