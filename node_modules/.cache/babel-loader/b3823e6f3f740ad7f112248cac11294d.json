{"ast":null,"code":"import _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$(),\n    _s8 = $RefreshSig$();\n\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { SUPPORTED_NETWORKS } from 'constants/networks';\nimport { useActiveWeb3React } from 'hooks';\nimport useDebounce from 'hooks/useDebounce';\nimport { isAddress } from 'utils';\nimport sortByListPriority from 'utils/listSort';\nimport { getFormattedAddress } from 'utils/tokenInfo';\nimport { UNSUPPORTED_LIST_URLS } from '../../constants/lists';\nimport UNSUPPORTED_TOKEN_LIST from '../../constants/tokenLists/uniswap-v2-unsupported.tokenlist.json';\nimport { WrappedTokenInfo } from './wrappedTokenInfo';\n\n/**\n * An empty result, useful as a default.\n */\nexport var EMPTY_LIST = function EMPTY_LIST() {\n  return SUPPORTED_NETWORKS.reduce(function (acc, val) {\n    acc[val] = {};\n    return acc;\n  }, {});\n};\n_c = EMPTY_LIST;\nvar listCache = {};\n\nvar serializeList = function serializeList(list) {\n  return list.tokens.slice(0, 5).map(function (token) {\n    return \"\".concat(token.chainId, \"-\").concat(token.address);\n  }).join('');\n};\n\nfunction listToTokenMap(list) {\n  var serializedList = serializeList(list);\n  var result = listCache[serializedList];\n  if (result) return result;\n  var map = list.tokens.reduce(function (tokenMap, tokenInfo) {\n    var formattedAddress = getFormattedAddress(tokenInfo.address);\n\n    if (tokenMap[tokenInfo.chainId][formattedAddress] !== undefined || !isAddress(tokenInfo.address)) {\n      return tokenMap;\n    }\n\n    var token = new WrappedTokenInfo(tokenInfo, list);\n    tokenMap[tokenInfo.chainId][formattedAddress] = token;\n    return tokenMap;\n  }, EMPTY_LIST());\n  listCache[serializedList] = map;\n  return map;\n} // returns all downloaded current lists\n\n\nexport function useAllLists() {\n  _s();\n\n  var lists = useSelector(function (state) {\n    return state.lists.byUrl;\n  });\n  var debouncedLists = useDebounce(lists, 1000);\n  return debouncedLists;\n}\n\n_s(useAllLists, \"/r5FTFDZQP2AqVqJrVNxdTXsl6E=\", false, function () {\n  return [useSelector, useDebounce];\n});\n\nexport function useAllListsByChainId() {\n  _s2();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var allLists = useAllLists();\n  var INITIAL_LISTS = {};\n  var lists = Object.keys(allLists).filter(function (list) {\n    var _allLists$list$curren, _allLists$list$curren2, _allLists$list$curren3;\n\n    return (_allLists$list$curren = allLists[list].current) === null || _allLists$list$curren === void 0 ? void 0 : (_allLists$list$curren2 = (_allLists$list$curren3 = _allLists$list$curren.tokens).some) === null || _allLists$list$curren2 === void 0 ? void 0 : _allLists$list$curren2.call(_allLists$list$curren3, function (i) {\n      return i.chainId === chainId;\n    });\n  }).reduce(function (obj, key) {\n    obj[key] = allLists[key];\n    return obj;\n  }, INITIAL_LISTS);\n  return lists;\n}\n\n_s2(useAllListsByChainId, \"jjekeSftk+9Jz/Z17a6Q7amQsBc=\", false, function () {\n  return [useActiveWeb3React, useAllLists];\n});\n\nfunction combine2Maps(map1, map2) {\n  var chainIds = _toConsumableArray(new Set([].concat(_toConsumableArray(Object.keys(map1)), _toConsumableArray(Object.keys(map2))))).map(function (id) {\n    return parseInt(id);\n  });\n\n  return chainIds.reduce(function (memo, chainId) {\n    memo[chainId] = _objectSpread(_objectSpread({}, map2[chainId]), map1[chainId]);\n    return memo;\n  }, {});\n}\n\nfunction combineMultipleMaps(maps) {\n  if (maps.length === 0) return null;\n  if (maps.length === 1) return maps[0];\n  var chainIdSet = new Set();\n  maps.forEach(function (map) {\n    return Object.keys(map).forEach(function (chainId) {\n      return chainIdSet.add(chainId);\n    });\n  });\n\n  var chainIds = _toConsumableArray(chainIdSet).map(Number);\n\n  return chainIds.reduce(function (memo, chainId) {\n    memo[chainId] = {};\n    maps.reverse().forEach(function (map) {\n      return Object.assign(memo[chainId], map[chainId]);\n    });\n    return memo;\n  }, {});\n} // merge tokens contained within lists from urls\n\n\nfunction useCombinedTokenMapFromUrls(urls) {\n  _s3();\n\n  var lists = useAllLists();\n  var filteredUrls = useMemo(function () {\n    return urls === null || urls === void 0 ? void 0 : urls.filter(function (url) {\n      var _lists$url;\n\n      return (_lists$url = lists[url]) === null || _lists$url === void 0 ? void 0 : _lists$url.current;\n    }) // sort by priority so top priority goes last\n    .sort(sortByListPriority);\n  }, [lists, urls]);\n  return useMemo(function () {\n    if (!filteredUrls) return EMPTY_LIST(); // we have already filtered out nullish values above => lists[url]?.current is truthy value\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain, @typescript-eslint/no-non-null-assertion\n\n    return combineMultipleMaps([EMPTY_LIST()].concat(_toConsumableArray(filteredUrls.map(function (url) {\n      var _lists$url2;\n\n      return listToTokenMap((_lists$url2 = lists[url]) === null || _lists$url2 === void 0 ? void 0 : _lists$url2.current);\n    }))));\n  }, [filteredUrls, lists]);\n} // filter out unsupported lists\n\n\n_s3(useCombinedTokenMapFromUrls, \"wolzoKfx2pVKPzllfmC4NkXCN9M=\", false, function () {\n  return [useAllLists];\n});\n\nexport function useActiveListUrls() {\n  _s4();\n\n  var activeListUrls = useSelector(function (state) {\n    return state.lists.activeListUrls;\n  });\n  return useMemo(function () {\n    return activeListUrls === null || activeListUrls === void 0 ? void 0 : activeListUrls.filter(function (url) {\n      return !UNSUPPORTED_LIST_URLS.includes(url);\n    });\n  }, [activeListUrls]);\n}\n\n_s4(useActiveListUrls, \"h5rvfUf7+XoB43uk/ZEbeRuJuCk=\", false, function () {\n  return [useSelector];\n});\n\nexport function useInactiveListUrls() {\n  _s5();\n\n  var lists = useAllLists();\n  var allActiveListUrls = useActiveListUrls();\n  return useMemo(function () {\n    return Object.keys(lists).filter(function (url) {\n      return !(allActiveListUrls !== null && allActiveListUrls !== void 0 && allActiveListUrls.includes(url)) && !UNSUPPORTED_LIST_URLS.includes(url);\n    });\n  }, [lists, allActiveListUrls]);\n}\n\n_s5(useInactiveListUrls, \"8FfcjEWymS1xtmXbE2at+a+kB0o=\", false, function () {\n  return [useAllLists, useActiveListUrls];\n});\n\nexport function useCombinedActiveList() {\n  _s6();\n\n  var activeListUrls = useActiveListUrls();\n  var activeTokens = useCombinedTokenMapFromUrls(activeListUrls);\n  return activeTokens;\n} // list of tokens not supported on interface, used to show warnings and prevent swaps and adds\n\n_s6(useCombinedActiveList, \"QZotrOQv4eqlrVbyAJUYHF4JEV4=\", false, function () {\n  return [useActiveListUrls, useCombinedTokenMapFromUrls];\n});\n\nexport function useUnsupportedTokenList() {\n  _s7();\n\n  // get hard coded unsupported tokens\n  var localUnsupportedListMap = listToTokenMap(UNSUPPORTED_TOKEN_LIST); // get any loaded unsupported tokens\n\n  var loadedUnsupportedListMap = useCombinedTokenMapFromUrls(UNSUPPORTED_LIST_URLS); // format into one token address map\n\n  return useMemo(function () {\n    return combine2Maps(localUnsupportedListMap, loadedUnsupportedListMap);\n  }, [localUnsupportedListMap, loadedUnsupportedListMap]);\n}\n\n_s7(useUnsupportedTokenList, \"pGeXkVBCEuAu78Ce/8cwzTF5f38=\", false, function () {\n  return [useCombinedTokenMapFromUrls];\n});\n\nexport function useIsListActive(url) {\n  _s8();\n\n  var activeListUrls = useActiveListUrls();\n  return Boolean(activeListUrls === null || activeListUrls === void 0 ? void 0 : activeListUrls.includes(url));\n}\n\n_s8(useIsListActive, \"OzLukTCRH8SDpmsIh1vZXvu7OrM=\", false, function () {\n  return [useActiveListUrls];\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"EMPTY_LIST\");","map":{"version":3,"names":["useMemo","useSelector","SUPPORTED_NETWORKS","useActiveWeb3React","useDebounce","isAddress","sortByListPriority","getFormattedAddress","UNSUPPORTED_LIST_URLS","UNSUPPORTED_TOKEN_LIST","WrappedTokenInfo","EMPTY_LIST","reduce","acc","val","listCache","serializeList","list","tokens","slice","map","token","chainId","address","join","listToTokenMap","serializedList","result","tokenMap","tokenInfo","formattedAddress","undefined","useAllLists","lists","state","byUrl","debouncedLists","useAllListsByChainId","allLists","INITIAL_LISTS","Object","keys","filter","current","some","i","obj","key","combine2Maps","map1","map2","chainIds","Set","id","parseInt","memo","combineMultipleMaps","maps","length","chainIdSet","forEach","add","Number","reverse","assign","useCombinedTokenMapFromUrls","urls","filteredUrls","url","sort","useActiveListUrls","activeListUrls","includes","useInactiveListUrls","allActiveListUrls","useCombinedActiveList","activeTokens","useUnsupportedTokenList","localUnsupportedListMap","loadedUnsupportedListMap","useIsListActive","Boolean"],"sources":["/Applications/XAMPP/voxel-interface/src/state/lists/hooks.ts"],"sourcesContent":["import { ChainId } from '@kyberswap/ks-sdk-core'\nimport { Tags, TokenList } from '@uniswap/token-lists'\nimport { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { SUPPORTED_NETWORKS } from 'constants/networks'\nimport { useActiveWeb3React } from 'hooks'\nimport useDebounce from 'hooks/useDebounce'\nimport { isAddress } from 'utils'\nimport sortByListPriority from 'utils/listSort'\nimport { getFormattedAddress } from 'utils/tokenInfo'\n\nimport { UNSUPPORTED_LIST_URLS } from '../../constants/lists'\nimport UNSUPPORTED_TOKEN_LIST from '../../constants/tokenLists/uniswap-v2-unsupported.tokenlist.json'\nimport { AppState } from '../index'\nimport { WrappedTokenInfo } from './wrappedTokenInfo'\n\ntype TagDetails = Tags[keyof Tags]\nexport interface TagInfo extends TagDetails {\n  id: string\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: Mutable<T[P]>\n}\n\nexport type TokenAddressMap = Readonly<{\n  [chainId in ChainId | number]: Readonly<{ [tokenAddress: string]: WrappedTokenInfo }>\n}>\n\nexport type TokenAddressMapWriteable = {\n  [chainId in ChainId | number]: { [tokenAddress: string]: WrappedTokenInfo }\n}\n\n/**\n * An empty result, useful as a default.\n */\nexport const EMPTY_LIST: () => TokenAddressMapWriteable = () =>\n  SUPPORTED_NETWORKS.reduce((acc, val) => {\n    acc[val] = {}\n    return acc\n  }, {} as { [chainId in ChainId]: { [tokenAddress: string]: WrappedTokenInfo } })\n\nconst listCache: { [list: string]: TokenAddressMap } = {}\n\nconst serializeList = (list: TokenList): string => {\n  return list.tokens\n    .slice(0, 5)\n    .map(token => `${token.chainId}-${token.address}`)\n    .join('')\n}\n\nfunction listToTokenMap(list: TokenList): TokenAddressMap {\n  const serializedList = serializeList(list)\n  const result = listCache[serializedList]\n  if (result) return result\n\n  const map = list.tokens.reduce<TokenAddressMapWriteable>((tokenMap, tokenInfo) => {\n    const formattedAddress = getFormattedAddress(tokenInfo.address)\n\n    if (tokenMap[tokenInfo.chainId][formattedAddress] !== undefined || !isAddress(tokenInfo.address)) {\n      return tokenMap\n    }\n    const token = new WrappedTokenInfo(tokenInfo, list)\n    tokenMap[tokenInfo.chainId][formattedAddress] = token\n    return tokenMap\n  }, EMPTY_LIST())\n\n  listCache[serializedList] = map\n  return map\n}\n\n// returns all downloaded current lists\nexport type ListType = {\n  readonly [url: string]: {\n    readonly current: TokenList | null\n    readonly pendingUpdate: TokenList | null\n    readonly loadingRequestId: string | null\n    readonly error: string | null\n  }\n}\n\nexport function useAllLists(): ListType {\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n  const debouncedLists = useDebounce(lists, 1000)\n  return debouncedLists\n}\n\nexport function useAllListsByChainId(): {\n  readonly [url: string]: {\n    readonly current: TokenList | null\n    readonly pendingUpdate: TokenList | null\n    readonly loadingRequestId: string | null\n    readonly error: string | null\n  }\n} {\n  const { chainId } = useActiveWeb3React()\n\n  const allLists = useAllLists()\n\n  const INITIAL_LISTS: {\n    [url: string]: {\n      readonly current: TokenList | null\n      readonly pendingUpdate: TokenList | null\n      readonly loadingRequestId: string | null\n      readonly error: string | null\n    }\n  } = {}\n\n  const lists = Object.keys(allLists)\n    .filter(list => allLists[list].current?.tokens.some?.(i => i.chainId === chainId))\n    .reduce((obj, key) => {\n      obj[key] = allLists[key]\n      return obj\n    }, INITIAL_LISTS)\n\n  return lists\n}\n\nfunction combine2Maps(map1: TokenAddressMap, map2: TokenAddressMap): TokenAddressMap {\n  const chainIds = [...new Set([...Object.keys(map1), ...Object.keys(map2)])].map(id => parseInt(id) as ChainId)\n\n  return chainIds.reduce<Mutable<TokenAddressMap>>((memo, chainId) => {\n    memo[chainId] = {\n      ...map2[chainId],\n      // map1 takes precedence\n      ...map1[chainId],\n    }\n    return memo\n  }, {}) as TokenAddressMap\n}\n\nfunction combineMultipleMaps(maps: TokenAddressMap[]): TokenAddressMap | null {\n  if (maps.length === 0) return null\n  if (maps.length === 1) return maps[0]\n  const chainIdSet = new Set()\n  maps.forEach(map => Object.keys(map).forEach(chainId => chainIdSet.add(chainId)))\n  const chainIds: ChainId[] = [...chainIdSet].map(Number)\n\n  return chainIds.reduce<Mutable<TokenAddressMap>>((memo, chainId) => {\n    memo[chainId] = {}\n    maps.reverse().forEach(map => Object.assign(memo[chainId], map[chainId]))\n    return memo\n  }, {}) as TokenAddressMap\n}\n\n// merge tokens contained within lists from urls\nfunction useCombinedTokenMapFromUrls(urls: string[] | undefined): TokenAddressMap {\n  const lists = useAllLists()\n  const filteredUrls = useMemo(\n    () =>\n      urls\n        ?.filter(url => lists[url]?.current)\n        // sort by priority so top priority goes last\n        .sort(sortByListPriority),\n    [lists, urls],\n  )\n\n  return useMemo(() => {\n    if (!filteredUrls) return EMPTY_LIST()\n    // we have already filtered out nullish values above => lists[url]?.current is truthy value\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain, @typescript-eslint/no-non-null-assertion\n    return combineMultipleMaps([EMPTY_LIST(), ...filteredUrls.map(url => listToTokenMap(lists[url]?.current!))])!\n  }, [filteredUrls, lists])\n}\n\n// filter out unsupported lists\nexport function useActiveListUrls(): string[] | undefined {\n  const activeListUrls = useSelector<AppState, AppState['lists']['activeListUrls']>(state => state.lists.activeListUrls)\n\n  return useMemo(() => {\n    return activeListUrls?.filter((url: string) => !UNSUPPORTED_LIST_URLS.includes(url))\n  }, [activeListUrls])\n}\n\nexport function useInactiveListUrls(): string[] {\n  const lists = useAllLists()\n  const allActiveListUrls = useActiveListUrls()\n\n  return useMemo(\n    () => Object.keys(lists).filter(url => !allActiveListUrls?.includes(url) && !UNSUPPORTED_LIST_URLS.includes(url)),\n    [lists, allActiveListUrls],\n  )\n}\n\nexport function useCombinedActiveList(): TokenAddressMap {\n  const activeListUrls = useActiveListUrls()\n  const activeTokens = useCombinedTokenMapFromUrls(activeListUrls)\n\n  return activeTokens\n}\n\n// list of tokens not supported on interface, used to show warnings and prevent swaps and adds\nexport function useUnsupportedTokenList(): TokenAddressMap {\n  // get hard coded unsupported tokens\n  const localUnsupportedListMap = listToTokenMap(UNSUPPORTED_TOKEN_LIST)\n\n  // get any loaded unsupported tokens\n  const loadedUnsupportedListMap = useCombinedTokenMapFromUrls(UNSUPPORTED_LIST_URLS)\n\n  // format into one token address map\n  return useMemo(() => {\n    return combine2Maps(localUnsupportedListMap, loadedUnsupportedListMap)\n  }, [localUnsupportedListMap, loadedUnsupportedListMap])\n}\n\nexport function useIsListActive(url: string): boolean {\n  const activeListUrls = useActiveListUrls()\n\n  return Boolean(activeListUrls?.includes(url))\n}\n"],"mappings":";;;;;;;;;;;;AAEA,SAASA,OAAT,QAAwB,OAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,kBAAT,QAAmC,oBAAnC;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,OAAOC,kBAAP,MAA+B,gBAA/B;AACA,SAASC,mBAAT,QAAoC,iBAApC;AAEA,SAASC,qBAAT,QAAsC,uBAAtC;AACA,OAAOC,sBAAP,MAAmC,kEAAnC;AAEA,SAASC,gBAAT,QAAiC,oBAAjC;;AAmBA;AACA;AACA;AACA,OAAO,IAAMC,UAA0C,GAAG,SAA7CA,UAA6C;EAAA,OACxDT,kBAAkB,CAACU,MAAnB,CAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;IACtCD,GAAG,CAACC,GAAD,CAAH,GAAW,EAAX;IACA,OAAOD,GAAP;EACD,CAHD,EAGG,EAHH,CADwD;AAAA,CAAnD;KAAMF,U;AAMb,IAAMI,SAA8C,GAAG,EAAvD;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,IAAD,EAA6B;EACjD,OAAOA,IAAI,CAACC,MAAL,CACJC,KADI,CACE,CADF,EACK,CADL,EAEJC,GAFI,CAEA,UAAAC,KAAK;IAAA,iBAAOA,KAAK,CAACC,OAAb,cAAwBD,KAAK,CAACE,OAA9B;EAAA,CAFL,EAGJC,IAHI,CAGC,EAHD,CAAP;AAID,CALD;;AAOA,SAASC,cAAT,CAAwBR,IAAxB,EAA0D;EACxD,IAAMS,cAAc,GAAGV,aAAa,CAACC,IAAD,CAApC;EACA,IAAMU,MAAM,GAAGZ,SAAS,CAACW,cAAD,CAAxB;EACA,IAAIC,MAAJ,EAAY,OAAOA,MAAP;EAEZ,IAAMP,GAAG,GAAGH,IAAI,CAACC,MAAL,CAAYN,MAAZ,CAA6C,UAACgB,QAAD,EAAWC,SAAX,EAAyB;IAChF,IAAMC,gBAAgB,GAAGvB,mBAAmB,CAACsB,SAAS,CAACN,OAAX,CAA5C;;IAEA,IAAIK,QAAQ,CAACC,SAAS,CAACP,OAAX,CAAR,CAA4BQ,gBAA5B,MAAkDC,SAAlD,IAA+D,CAAC1B,SAAS,CAACwB,SAAS,CAACN,OAAX,CAA7E,EAAkG;MAChG,OAAOK,QAAP;IACD;;IACD,IAAMP,KAAK,GAAG,IAAIX,gBAAJ,CAAqBmB,SAArB,EAAgCZ,IAAhC,CAAd;IACAW,QAAQ,CAACC,SAAS,CAACP,OAAX,CAAR,CAA4BQ,gBAA5B,IAAgDT,KAAhD;IACA,OAAOO,QAAP;EACD,CATW,EASTjB,UAAU,EATD,CAAZ;EAWAI,SAAS,CAACW,cAAD,CAAT,GAA4BN,GAA5B;EACA,OAAOA,GAAP;AACD,C,CAED;;;AAUA,OAAO,SAASY,WAAT,GAAiC;EAAA;;EACtC,IAAMC,KAAK,GAAGhC,WAAW,CAAuC,UAAAiC,KAAK;IAAA,OAAIA,KAAK,CAACD,KAAN,CAAYE,KAAhB;EAAA,CAA5C,CAAzB;EACA,IAAMC,cAAc,GAAGhC,WAAW,CAAC6B,KAAD,EAAQ,IAAR,CAAlC;EACA,OAAOG,cAAP;AACD;;GAJeJ,W;UACA/B,W,EACSG,W;;;AAIzB,OAAO,SAASiC,oBAAT,GAOL;EAAA;;EACA,0BAAoBlC,kBAAkB,EAAtC;EAAA,IAAQmB,OAAR,uBAAQA,OAAR;;EAEA,IAAMgB,QAAQ,GAAGN,WAAW,EAA5B;EAEA,IAAMO,aAOL,GAAG,EAPJ;EASA,IAAMN,KAAK,GAAGO,MAAM,CAACC,IAAP,CAAYH,QAAZ,EACXI,MADW,CACJ,UAAAzB,IAAI;IAAA;;IAAA,gCAAIqB,QAAQ,CAACrB,IAAD,CAAR,CAAe0B,OAAnB,oFAAI,gDAAwBzB,MAAxB,EAA+B0B,IAAnC,2DAAI,oDAAsC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACvB,OAAF,KAAcA,OAAlB;IAAA,CAAvC,CAAJ;EAAA,CADA,EAEXV,MAFW,CAEJ,UAACkC,GAAD,EAAMC,GAAN,EAAc;IACpBD,GAAG,CAACC,GAAD,CAAH,GAAWT,QAAQ,CAACS,GAAD,CAAnB;IACA,OAAOD,GAAP;EACD,CALW,EAKTP,aALS,CAAd;EAOA,OAAON,KAAP;AACD;;IA7BeI,oB;UAQMlC,kB,EAEH6B,W;;;AAqBnB,SAASgB,YAAT,CAAsBC,IAAtB,EAA6CC,IAA7C,EAAqF;EACnF,IAAMC,QAAQ,GAAG,mBAAI,IAAIC,GAAJ,8BAAYZ,MAAM,CAACC,IAAP,CAAYQ,IAAZ,CAAZ,sBAAkCT,MAAM,CAACC,IAAP,CAAYS,IAAZ,CAAlC,GAAJ,EAA2D9B,GAA3D,CAA+D,UAAAiC,EAAE;IAAA,OAAIC,QAAQ,CAACD,EAAD,CAAZ;EAAA,CAAjE,CAAjB;;EAEA,OAAOF,QAAQ,CAACvC,MAAT,CAA0C,UAAC2C,IAAD,EAAOjC,OAAP,EAAmB;IAClEiC,IAAI,CAACjC,OAAD,CAAJ,mCACK4B,IAAI,CAAC5B,OAAD,CADT,GAGK2B,IAAI,CAAC3B,OAAD,CAHT;IAKA,OAAOiC,IAAP;EACD,CAPM,EAOJ,EAPI,CAAP;AAQD;;AAED,SAASC,mBAAT,CAA6BC,IAA7B,EAA8E;EAC5E,IAAIA,IAAI,CAACC,MAAL,KAAgB,CAApB,EAAuB,OAAO,IAAP;EACvB,IAAID,IAAI,CAACC,MAAL,KAAgB,CAApB,EAAuB,OAAOD,IAAI,CAAC,CAAD,CAAX;EACvB,IAAME,UAAU,GAAG,IAAIP,GAAJ,EAAnB;EACAK,IAAI,CAACG,OAAL,CAAa,UAAAxC,GAAG;IAAA,OAAIoB,MAAM,CAACC,IAAP,CAAYrB,GAAZ,EAAiBwC,OAAjB,CAAyB,UAAAtC,OAAO;MAAA,OAAIqC,UAAU,CAACE,GAAX,CAAevC,OAAf,CAAJ;IAAA,CAAhC,CAAJ;EAAA,CAAhB;;EACA,IAAM6B,QAAmB,GAAG,mBAAIQ,UAAJ,EAAgBvC,GAAhB,CAAoB0C,MAApB,CAA5B;;EAEA,OAAOX,QAAQ,CAACvC,MAAT,CAA0C,UAAC2C,IAAD,EAAOjC,OAAP,EAAmB;IAClEiC,IAAI,CAACjC,OAAD,CAAJ,GAAgB,EAAhB;IACAmC,IAAI,CAACM,OAAL,GAAeH,OAAf,CAAuB,UAAAxC,GAAG;MAAA,OAAIoB,MAAM,CAACwB,MAAP,CAAcT,IAAI,CAACjC,OAAD,CAAlB,EAA6BF,GAAG,CAACE,OAAD,CAAhC,CAAJ;IAAA,CAA1B;IACA,OAAOiC,IAAP;EACD,CAJM,EAIJ,EAJI,CAAP;AAKD,C,CAED;;;AACA,SAASU,2BAAT,CAAqCC,IAArC,EAAkF;EAAA;;EAChF,IAAMjC,KAAK,GAAGD,WAAW,EAAzB;EACA,IAAMmC,YAAY,GAAGnE,OAAO,CAC1B;IAAA,OACEkE,IADF,aACEA,IADF,uBACEA,IAAI,CACAxB,MADJ,CACW,UAAA0B,GAAG;MAAA;;MAAA,qBAAInC,KAAK,CAACmC,GAAD,CAAT,+CAAI,WAAYzB,OAAhB;IAAA,CADd,EAEE;IAFF,CAGG0B,IAHH,CAGQ/D,kBAHR,CADF;EAAA,CAD0B,EAM1B,CAAC2B,KAAD,EAAQiC,IAAR,CAN0B,CAA5B;EASA,OAAOlE,OAAO,CAAC,YAAM;IACnB,IAAI,CAACmE,YAAL,EAAmB,OAAOxD,UAAU,EAAjB,CADA,CAEnB;IACA;;IACA,OAAO6C,mBAAmB,EAAE7C,UAAU,EAAZ,4BAAmBwD,YAAY,CAAC/C,GAAb,CAAiB,UAAAgD,GAAG;MAAA;;MAAA,OAAI3C,cAAc,gBAACQ,KAAK,CAACmC,GAAD,CAAN,gDAAC,YAAYzB,OAAb,CAAlB;IAAA,CAApB,CAAnB,GAA1B;EACD,CALa,EAKX,CAACwB,YAAD,EAAelC,KAAf,CALW,CAAd;AAMD,C,CAED;;;IAnBSgC,2B;UACOjC,W;;;AAmBhB,OAAO,SAASsC,iBAAT,GAAmD;EAAA;;EACxD,IAAMC,cAAc,GAAGtE,WAAW,CAAgD,UAAAiC,KAAK;IAAA,OAAIA,KAAK,CAACD,KAAN,CAAYsC,cAAhB;EAAA,CAArD,CAAlC;EAEA,OAAOvE,OAAO,CAAC,YAAM;IACnB,OAAOuE,cAAP,aAAOA,cAAP,uBAAOA,cAAc,CAAE7B,MAAhB,CAAuB,UAAC0B,GAAD;MAAA,OAAiB,CAAC5D,qBAAqB,CAACgE,QAAtB,CAA+BJ,GAA/B,CAAlB;IAAA,CAAvB,CAAP;EACD,CAFa,EAEX,CAACG,cAAD,CAFW,CAAd;AAGD;;IANeD,iB;UACSrE,W;;;AAOzB,OAAO,SAASwE,mBAAT,GAAyC;EAAA;;EAC9C,IAAMxC,KAAK,GAAGD,WAAW,EAAzB;EACA,IAAM0C,iBAAiB,GAAGJ,iBAAiB,EAA3C;EAEA,OAAOtE,OAAO,CACZ;IAAA,OAAMwC,MAAM,CAACC,IAAP,CAAYR,KAAZ,EAAmBS,MAAnB,CAA0B,UAAA0B,GAAG;MAAA,OAAI,EAACM,iBAAD,aAACA,iBAAD,eAACA,iBAAiB,CAAEF,QAAnB,CAA4BJ,GAA5B,CAAD,KAAqC,CAAC5D,qBAAqB,CAACgE,QAAtB,CAA+BJ,GAA/B,CAA1C;IAAA,CAA7B,CAAN;EAAA,CADY,EAEZ,CAACnC,KAAD,EAAQyC,iBAAR,CAFY,CAAd;AAID;;IAReD,mB;UACAzC,W,EACYsC,iB;;;AAQ5B,OAAO,SAASK,qBAAT,GAAkD;EAAA;;EACvD,IAAMJ,cAAc,GAAGD,iBAAiB,EAAxC;EACA,IAAMM,YAAY,GAAGX,2BAA2B,CAACM,cAAD,CAAhD;EAEA,OAAOK,YAAP;AACD,C,CAED;;IAPgBD,qB;UACSL,iB,EACFL,2B;;;AAMvB,OAAO,SAASY,uBAAT,GAAoD;EAAA;;EACzD;EACA,IAAMC,uBAAuB,GAAGrD,cAAc,CAAChB,sBAAD,CAA9C,CAFyD,CAIzD;;EACA,IAAMsE,wBAAwB,GAAGd,2BAA2B,CAACzD,qBAAD,CAA5D,CALyD,CAOzD;;EACA,OAAOR,OAAO,CAAC,YAAM;IACnB,OAAOgD,YAAY,CAAC8B,uBAAD,EAA0BC,wBAA1B,CAAnB;EACD,CAFa,EAEX,CAACD,uBAAD,EAA0BC,wBAA1B,CAFW,CAAd;AAGD;;IAXeF,uB;UAKmBZ,2B;;;AAQnC,OAAO,SAASe,eAAT,CAAyBZ,GAAzB,EAA+C;EAAA;;EACpD,IAAMG,cAAc,GAAGD,iBAAiB,EAAxC;EAEA,OAAOW,OAAO,CAACV,cAAD,aAACA,cAAD,uBAACA,cAAc,CAAEC,QAAhB,CAAyBJ,GAAzB,CAAD,CAAd;AACD;;IAJeY,e;UACSV,iB"},"metadata":{},"sourceType":"module"}