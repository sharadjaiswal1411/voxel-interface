{"ast":null,"code":"import _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/pages/ProAmmPools/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { ChevronDown, ChevronUp } from 'react-feather';\nimport { useMedia } from 'react-use';\nimport { Flex, Text } from 'rebass';\nimport styled from 'styled-components';\nimport { DividerDash } from 'components/Divider';\nimport InfoHelper from 'components/InfoHelper';\nimport LocalLoader from 'components/LocalLoader';\nimport Pagination from 'components/Pagination';\nimport { Input as PaginationInput } from 'components/Pagination/PaginationInputOnMobile';\nimport ShareModal from 'components/ShareModal';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { STABLE_COINS_ADDRESS } from 'constants/tokens';\nimport { useActiveWeb3React } from 'hooks';\nimport { SelectPairInstructionWrapper } from 'pages/Pools/styleds';\nimport { ApplicationModal } from 'state/application/actions';\nimport { useModalOpen, useOpenModal } from 'state/application/hooks';\nimport { useProMMFarms } from 'state/farms/promm/hooks';\nimport { Field } from 'state/mint/proamm/actions';\nimport { usePoolDatas, useTopPoolAddresses, useUserProMMPositions } from 'state/prommPools/hooks';\nimport ProAmmPoolCardItem from './CardItem';\nimport ProAmmPoolListItem from './ListItem';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar PageWrapper = styled.div.withConfig({\n  displayName: \"ProAmmPools__PageWrapper\",\n  componentId: \"sc-1x5xtxe-0\"\n})([\"overflow:'hidden';&[data-above1000='true']{background:\", \";border-radius:20px;}\", \"{background:\", \";}\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.background;\n}, PaginationInput, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.background;\n});\n_c = PageWrapper;\nvar TableHeader = styled.div.withConfig({\n  displayName: \"ProAmmPools__TableHeader\",\n  componentId: \"sc-1x5xtxe-1\"\n})([\"display:grid;grid-gap:1rem;grid-template-columns:1.5fr 1.5fr 1.5fr 0.75fr 1fr 1fr 1.2fr 1.5fr;padding:16px 20px;font-size:12px;align-items:center;height:fit-content;position:relative;background-color:\", \";border-top-left-radius:20px;border-top-right-radius:20px;z-index:1;border-bottom:\", \";\"], function (_ref3) {\n  var theme = _ref3.theme;\n  return theme.tableHeader;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return \"1px solid \".concat(theme.border);\n});\n_c2 = TableHeader;\nvar ClickableText = styled(Text).withConfig({\n  displayName: \"ProAmmPools__ClickableText\",\n  componentId: \"sc-1x5xtxe-2\"\n})([\"display:flex;align-items:center;color:\", \";&:hover{cursor:pointer;opacity:0.6;}user-select:none;text-transform:uppercase;\"], function (_ref5) {\n  var theme = _ref5.theme;\n  return theme.subText;\n});\n_c3 = ClickableText;\nvar SORT_FIELD = {\n  TVL: 0,\n  VOL: 1,\n  FEES: 2,\n  APR: 3\n};\nexport default function ProAmmPoolList(_ref6) {\n  _s();\n\n  var _currencies$Field$CUR,\n      _currencies$Field$CUR2,\n      _this = this;\n\n  var currencies = _ref6.currencies,\n      searchValue = _ref6.searchValue,\n      isShowOnlyActiveFarmPools = _ref6.isShowOnlyActiveFarmPools,\n      onlyShowStable = _ref6.onlyShowStable,\n      shouldShowLowTVLPools = _ref6.shouldShowLowTVLPools;\n  var above1000 = useMedia('(min-width: 1000px)');\n\n  var _useProMMFarms = useProMMFarms(),\n      farms = _useProMMFarms.data;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      sortDirection = _useState2[0],\n      setSortDirection = _useState2[1];\n\n  var _useState3 = useState(SORT_FIELD.TVL),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sortedColumn = _useState4[0],\n      setSortedColumn = _useState4[1];\n\n  var caId = (_currencies$Field$CUR = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR === void 0 ? void 0 : _currencies$Field$CUR.wrapped.address.toLowerCase();\n  var cbId = (_currencies$Field$CUR2 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR2 === void 0 ? void 0 : _currencies$Field$CUR2.wrapped.address.toLowerCase();\n\n  var _useTopPoolAddresses = useTopPoolAddresses(),\n      loading = _useTopPoolAddresses.loading,\n      addresses = _useTopPoolAddresses.addresses;\n\n  var _usePoolDatas = usePoolDatas(addresses || []),\n      poolDataLoading = _usePoolDatas.loading,\n      poolDatas = _usePoolDatas.data;\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId,\n      account = _useActiveWeb3React.account;\n\n  var userLiquidityPositionsQueryResult = useUserProMMPositions();\n  var loadingUserPositions = !account ? false : userLiquidityPositionsQueryResult.loading;\n  var userPositions = !account ? {} : userLiquidityPositionsQueryResult.userLiquidityUsdByPool;\n  var listComparator = useCallback(function (poolA, poolB) {\n    switch (sortedColumn) {\n      case SORT_FIELD.TVL:\n        return poolA.tvlUSD > poolB.tvlUSD ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1;\n\n      case SORT_FIELD.VOL:\n        return poolA.volumeUSD > poolB.volumeUSD ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1;\n\n      case SORT_FIELD.FEES:\n        return poolA.volumeUSD * poolA.feeTier > poolB.volumeUSD * poolB.feeTier ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1;\n\n      case SORT_FIELD.APR:\n        var a = poolA.apr;\n        var b = poolB.apr;\n        return a > b ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1;\n\n      default:\n        break;\n    }\n\n    return 0;\n  }, [sortDirection, sortedColumn]);\n  var anyLoading = loading || poolDataLoading || loadingUserPositions;\n  var pairDatas = useMemo(function () {\n    var initPairs = {};\n    var filteredPools = Object.values(poolDatas || []).filter(function (pool) {\n      return pool.address.toLowerCase() === searchValue || pool.token0.name.toLowerCase().includes(searchValue) || pool.token0.symbol.toLowerCase().includes(searchValue) || pool.token1.name.toLowerCase().includes(searchValue) || pool.token1.symbol.toLowerCase().includes(searchValue);\n    });\n\n    if (isShowOnlyActiveFarmPools) {\n      var activePoolFarmAddress = Object.values(farms).flat().filter(function (item) {\n        return item.endTime > +new Date() / 1000;\n      }).map(function (item) {\n        return item.poolAddress.toLowerCase();\n      });\n      filteredPools = filteredPools.filter(function (pool) {\n        return activePoolFarmAddress.includes(pool.address.toLowerCase());\n      });\n    }\n\n    if (!shouldShowLowTVLPools) {\n      filteredPools = filteredPools.filter(function (pool) {\n        return pool.tvlUSD > 1;\n      });\n    }\n\n    if (caId && cbId && caId === cbId) filteredPools = [];else {\n      if (caId) filteredPools = filteredPools.filter(function (pool) {\n        return pool.token0.address === caId || pool.token1.address === caId;\n      });\n      if (cbId) filteredPools = filteredPools.filter(function (pool) {\n        return pool.token0.address === cbId || pool.token1.address === cbId;\n      });\n    }\n\n    if (onlyShowStable) {\n      var _STABLE_COINS_ADDRESS;\n\n      var stableList = chainId ? ((_STABLE_COINS_ADDRESS = STABLE_COINS_ADDRESS[chainId]) === null || _STABLE_COINS_ADDRESS === void 0 ? void 0 : _STABLE_COINS_ADDRESS.map(function (item) {\n        return item.toLowerCase();\n      })) || [] : [];\n      filteredPools = filteredPools.filter(function (poolData) {\n        return stableList.includes(poolData.token0.address.toLowerCase()) && stableList.includes(poolData.token1.address.toLowerCase());\n      });\n    }\n\n    var poolsGroupByPair = filteredPools.reduce(function (pairs, pool) {\n      var pairId = pool.token0.address + '_' + pool.token1.address;\n      return _objectSpread(_objectSpread({}, pairs), {}, _defineProperty({}, pairId, [].concat(_toConsumableArray(pairs[pairId] || []), [pool]).sort(function (a, b) {\n        return b.tvlUSD - a.tvlUSD;\n      })));\n    }, initPairs);\n    return Object.values(poolsGroupByPair).sort(function (a, b) {\n      return listComparator(a[0], b[0]);\n    });\n  }, [poolDatas, isShowOnlyActiveFarmPools, shouldShowLowTVLPools, caId, cbId, onlyShowStable, searchValue, farms, chainId, listComparator]);\n\n  var renderHeader = function renderHeader() {\n    return above1000 ? /*#__PURE__*/_jsxDEV(TableHeader, {\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Token Pair\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(ClickableText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Pool | Fee\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(InfoHelper, {\n          text:\n          /*i18n*/\n          i18n._(\"A token pair can have multiple pools, each with a different swap fee. Your swap fee earnings will be automatically reinvested in your pool\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          style: {\n            textAlign: 'right'\n          },\n          onClick: function onClick() {\n            setSortedColumn(SORT_FIELD.TVL);\n            setSortDirection(sortedColumn !== SORT_FIELD.TVL ? true : !sortDirection);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"TVL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, _this), sortedColumn === SORT_FIELD.TVL ? !sortDirection ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, _this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          onClick: function onClick() {\n            setSortedColumn(SORT_FIELD.APR);\n            setSortDirection(sortedColumn !== SORT_FIELD.APR ? true : !sortDirection);\n          },\n          style: {\n            paddingRight: '20px' // leave some space for the money bag in the value rows\n\n          },\n          children: [/*#__PURE__*/_jsxDEV(Trans, {\n            id: \"APR\"\n          }, void 0, false, void 0, _this), sortedColumn === SORT_FIELD.APR ? !sortDirection ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, _this) : '', /*#__PURE__*/_jsxDEV(InfoHelper, {\n            text:\n            /*i18n*/\n            i18n._(\"Average estimated return based on yearly trading fees from the pool & additional bonus rewards if you participate in the farm\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          onClick: function onClick() {\n            setSortedColumn(SORT_FIELD.VOL);\n            setSortDirection(sortedColumn !== SORT_FIELD.VOL ? true : !sortDirection);\n          },\n          children: [/*#__PURE__*/_jsxDEV(Trans, {\n            id: \"VOLUME (24H)\"\n          }, void 0, false, void 0, _this), sortedColumn === SORT_FIELD.VOL ? !sortDirection ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, _this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          onClick: function onClick() {\n            setSortedColumn(SORT_FIELD.FEES);\n            setSortDirection(sortedColumn !== SORT_FIELD.FEES ? true : !sortDirection);\n          },\n          children: [/*#__PURE__*/_jsxDEV(Trans, {\n            id: \"FEES (24H)\"\n          }, void 0, false, void 0, _this), sortedColumn === SORT_FIELD.FEES ? !sortDirection ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n            size: \"14\",\n            style: {\n              marginLeft: '2px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, _this) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"YOUR LIQUIDITY\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(ClickableText, {\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"ACTIONS\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, _this) : null;\n  };\n\n  var ITEM_PER_PAGE = 8;\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      page = _useState6[0],\n      setPage = _useState6[1];\n\n  useEffect(function () {\n    setPage(1);\n  }, [currencies, searchValue, onlyShowStable]);\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      sharedPoolId = _useState8[0],\n      setSharedPoolId = _useState8[1];\n\n  var openShareModal = useOpenModal(ApplicationModal.SHARE);\n  var isShareModalOpen = useModalOpen(ApplicationModal.SHARE);\n  var chainRoute = NETWORKS_INFO[chainId].route;\n  var shareUrl = sharedPoolId ? window.location.origin + '/pools?search=' + sharedPoolId + '&networkId=' + chainRoute : undefined;\n  useEffect(function () {\n    if (sharedPoolId) {\n      openShareModal();\n    }\n  }, [openShareModal, sharedPoolId]);\n  useEffect(function () {\n    if (!isShareModalOpen) {\n      setSharedPoolId('');\n    }\n  }, [isShareModalOpen, setSharedPoolId]);\n  var pageData = pairDatas.slice((page - 1) * ITEM_PER_PAGE, page * ITEM_PER_PAGE);\n  if (!anyLoading && !Object.keys(pairDatas).length) return /*#__PURE__*/_jsxDEV(SelectPairInstructionWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '1rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"There are no pools for this token pair.\"\n      }, void 0, false, void 0, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Create a new pool or select another pair of tokens to view the available pools.\"\n      }, void 0, false, void 0, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 343,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(PageWrapper, {\n    \"data-above1000\": above1000,\n    children: [renderHeader(), anyLoading && !Object.keys(pairDatas).length && /*#__PURE__*/_jsxDEV(LocalLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 56\n    }, this), pageData.map(function (p, index) {\n      return above1000 ? /*#__PURE__*/_jsxDEV(ProAmmPoolListItem, {\n        pair: p,\n        noBorderBottom: pairDatas.length <= pageData.length && index === pageData.length - 1,\n        idx: index,\n        onShared: setSharedPoolId,\n        userPositions: userPositions\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ProAmmPoolCardItem, {\n          pair: p,\n          idx: index,\n          onShared: setSharedPoolId,\n          userPositions: userPositions\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, _this), index !== pageData.length - 1 && /*#__PURE__*/_jsxDEV(DividerDash, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 47\n        }, _this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, _this);\n    }), !!pairDatas.length && /*#__PURE__*/_jsxDEV(Pagination, {\n      onPageChange: setPage,\n      totalCount: pairDatas.length,\n      currentPage: page,\n      pageSize: ITEM_PER_PAGE,\n      haveBg: above1000\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ShareModal, {\n      url: shareUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 354,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProAmmPoolList, \"dDT4x01vmpEKXZYvSwnNwUXVSeQ=\", false, function () {\n  return [useMedia, useProMMFarms, useTopPoolAddresses, usePoolDatas, useActiveWeb3React, useUserProMMPositions, useOpenModal, useModalOpen];\n});\n\n_c4 = ProAmmPoolList;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"PageWrapper\");\n$RefreshReg$(_c2, \"TableHeader\");\n$RefreshReg$(_c3, \"ClickableText\");\n$RefreshReg$(_c4, \"ProAmmPoolList\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","ChevronDown","ChevronUp","useMedia","Flex","Text","styled","DividerDash","InfoHelper","LocalLoader","Pagination","Input","PaginationInput","ShareModal","NETWORKS_INFO","STABLE_COINS_ADDRESS","useActiveWeb3React","SelectPairInstructionWrapper","ApplicationModal","useModalOpen","useOpenModal","useProMMFarms","Field","usePoolDatas","useTopPoolAddresses","useUserProMMPositions","ProAmmPoolCardItem","ProAmmPoolListItem","PageWrapper","div","theme","background","TableHeader","tableHeader","border","ClickableText","subText","SORT_FIELD","TVL","VOL","FEES","APR","ProAmmPoolList","currencies","searchValue","isShowOnlyActiveFarmPools","onlyShowStable","shouldShowLowTVLPools","above1000","farms","data","sortDirection","setSortDirection","sortedColumn","setSortedColumn","caId","CURRENCY_A","wrapped","address","toLowerCase","cbId","CURRENCY_B","loading","addresses","poolDataLoading","poolDatas","chainId","account","userLiquidityPositionsQueryResult","loadingUserPositions","userPositions","userLiquidityUsdByPool","listComparator","poolA","poolB","tvlUSD","volumeUSD","feeTier","a","apr","b","anyLoading","pairDatas","initPairs","filteredPools","Object","values","filter","pool","token0","name","includes","symbol","token1","activePoolFarmAddress","flat","item","endTime","Date","map","poolAddress","stableList","poolData","poolsGroupByPair","reduce","pairs","pairId","sort","renderHeader","textAlign","marginLeft","paddingRight","ITEM_PER_PAGE","page","setPage","sharedPoolId","setSharedPoolId","openShareModal","SHARE","isShareModalOpen","chainRoute","route","shareUrl","window","location","origin","undefined","pageData","slice","keys","length","marginBottom","p","index"],"sources":["/Applications/XAMPP/voxel-interface/src/pages/ProAmmPools/index.tsx"],"sourcesContent":["import { ChainId, Currency } from '@kyberswap/ks-sdk-core'\nimport { Trans, t } from '@lingui/macro'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { ChevronDown, ChevronUp } from 'react-feather'\nimport { useMedia } from 'react-use'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { DividerDash } from 'components/Divider'\nimport InfoHelper from 'components/InfoHelper'\nimport LocalLoader from 'components/LocalLoader'\nimport Pagination from 'components/Pagination'\nimport { Input as PaginationInput } from 'components/Pagination/PaginationInputOnMobile'\nimport ShareModal from 'components/ShareModal'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { STABLE_COINS_ADDRESS } from 'constants/tokens'\nimport { useActiveWeb3React } from 'hooks'\nimport { SelectPairInstructionWrapper } from 'pages/Pools/styleds'\nimport { ApplicationModal } from 'state/application/actions'\nimport { useModalOpen, useOpenModal } from 'state/application/hooks'\nimport { useProMMFarms } from 'state/farms/promm/hooks'\nimport { Field } from 'state/mint/proamm/actions'\nimport { ProMMPoolData, usePoolDatas, useTopPoolAddresses, useUserProMMPositions } from 'state/prommPools/hooks'\n\nimport ProAmmPoolCardItem from './CardItem'\nimport ProAmmPoolListItem from './ListItem'\n\ntype PoolListProps = {\n  currencies: { [field in Field]?: Currency }\n  searchValue: string\n  isShowOnlyActiveFarmPools: boolean\n  onlyShowStable: boolean\n  shouldShowLowTVLPools: boolean\n}\n\nconst PageWrapper = styled.div`\n  overflow: 'hidden';\n  &[data-above1000='true'] {\n    background: ${({ theme }) => theme.background};\n    border-radius: 20px;\n  }\n\n  ${PaginationInput} {\n    background: ${({ theme }) => theme.background};\n  }\n`\n\nconst TableHeader = styled.div`\n  display: grid;\n  grid-gap: 1rem;\n  grid-template-columns: 1.5fr 1.5fr 1.5fr 0.75fr 1fr 1fr 1.2fr 1.5fr;\n  padding: 16px 20px;\n  font-size: 12px;\n  align-items: center;\n  height: fit-content;\n  position: relative;\n  background-color: ${({ theme }) => theme.tableHeader};\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  z-index: 1;\n  border-bottom: ${({ theme }) => `1px solid ${theme.border}`};\n`\n\nconst ClickableText = styled(Text)`\n  display: flex;\n  align-items: center;\n  color: ${({ theme }) => theme.subText};\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n\n  user-select: none;\n  text-transform: uppercase;\n`\n\nconst SORT_FIELD = {\n  TVL: 0,\n  VOL: 1,\n  FEES: 2,\n  APR: 3,\n}\n\nexport default function ProAmmPoolList({\n  currencies,\n  searchValue,\n  isShowOnlyActiveFarmPools,\n  onlyShowStable,\n  shouldShowLowTVLPools,\n}: PoolListProps) {\n  const above1000 = useMedia('(min-width: 1000px)')\n\n  const { data: farms } = useProMMFarms()\n\n  const [sortDirection, setSortDirection] = useState(true)\n  const [sortedColumn, setSortedColumn] = useState(SORT_FIELD.TVL)\n\n  const caId = currencies[Field.CURRENCY_A]?.wrapped.address.toLowerCase()\n  const cbId = currencies[Field.CURRENCY_B]?.wrapped.address.toLowerCase()\n\n  const { loading, addresses } = useTopPoolAddresses()\n  const { loading: poolDataLoading, data: poolDatas } = usePoolDatas(addresses || [])\n\n  const { chainId, account } = useActiveWeb3React()\n  const userLiquidityPositionsQueryResult = useUserProMMPositions()\n  const loadingUserPositions = !account ? false : userLiquidityPositionsQueryResult.loading\n  const userPositions = !account ? {} : userLiquidityPositionsQueryResult.userLiquidityUsdByPool\n  const listComparator = useCallback(\n    (poolA: ProMMPoolData, poolB: ProMMPoolData): number => {\n      switch (sortedColumn) {\n        case SORT_FIELD.TVL:\n          return poolA.tvlUSD > poolB.tvlUSD ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1\n        case SORT_FIELD.VOL:\n          return poolA.volumeUSD > poolB.volumeUSD ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1\n        case SORT_FIELD.FEES:\n          return poolA.volumeUSD * poolA.feeTier > poolB.volumeUSD * poolB.feeTier\n            ? (sortDirection ? -1 : 1) * 1\n            : (sortDirection ? -1 : 1) * -1\n        case SORT_FIELD.APR:\n          const a = poolA.apr\n          const b = poolB.apr\n          return a > b ? (sortDirection ? -1 : 1) * 1 : (sortDirection ? -1 : 1) * -1\n        default:\n          break\n      }\n\n      return 0\n    },\n    [sortDirection, sortedColumn],\n  )\n\n  const anyLoading = loading || poolDataLoading || loadingUserPositions\n  const pairDatas = useMemo(() => {\n    const initPairs: { [pairId: string]: ProMMPoolData[] } = {}\n\n    let filteredPools = Object.values(poolDatas || []).filter(\n      pool =>\n        pool.address.toLowerCase() === searchValue ||\n        pool.token0.name.toLowerCase().includes(searchValue) ||\n        pool.token0.symbol.toLowerCase().includes(searchValue) ||\n        pool.token1.name.toLowerCase().includes(searchValue) ||\n        pool.token1.symbol.toLowerCase().includes(searchValue),\n    )\n   \n    if (isShowOnlyActiveFarmPools) {\n      const activePoolFarmAddress = Object.values(farms)\n        .flat()\n        .filter(item => item.endTime > +new Date() / 1000)\n        .map(item => item.poolAddress.toLowerCase())\n      filteredPools = filteredPools.filter(pool => activePoolFarmAddress.includes(pool.address.toLowerCase()))\n    }\n\n\n    if (!shouldShowLowTVLPools) {\n      filteredPools = filteredPools.filter(pool => pool.tvlUSD > 1)\n    }\n    \n    if (caId && cbId && caId === cbId) filteredPools = []\n    else {\n      if (caId)\n        filteredPools = filteredPools.filter(pool => pool.token0.address === caId || pool.token1.address === caId)\n      if (cbId)\n        filteredPools = filteredPools.filter(pool => pool.token0.address === cbId || pool.token1.address === cbId)\n    }\n\n    if (onlyShowStable) {\n      const stableList = chainId ? STABLE_COINS_ADDRESS[chainId]?.map(item => item.toLowerCase()) || [] : []\n      filteredPools = filteredPools.filter(poolData => {\n        return (\n          stableList.includes(poolData.token0.address.toLowerCase()) &&\n          stableList.includes(poolData.token1.address.toLowerCase())\n        )\n      })\n    }\n\n    const poolsGroupByPair = filteredPools.reduce((pairs, pool) => {\n      const pairId = pool.token0.address + '_' + pool.token1.address\n      return {\n        ...pairs,\n        [pairId]: [...(pairs[pairId] || []), pool].sort((a, b) => b.tvlUSD - a.tvlUSD),\n      }\n    }, initPairs)\n\n    return Object.values(poolsGroupByPair).sort((a, b) => listComparator(a[0], b[0]))\n  }, [\n    poolDatas,\n    isShowOnlyActiveFarmPools,\n    shouldShowLowTVLPools,\n    caId,\n    cbId,\n    onlyShowStable,\n    searchValue,\n    farms,\n    chainId,\n    listComparator,\n  ])\n\n  const renderHeader = () => {\n    return above1000 ? (\n      <TableHeader>\n        <Flex alignItems=\"center\">\n          <ClickableText>\n            <Trans>Token Pair</Trans>\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\">\n          <ClickableText>\n            <Trans>Pool | Fee</Trans>\n          </ClickableText>\n          <InfoHelper\n            text={t`A token pair can have multiple pools, each with a different swap fee. Your swap fee earnings will be automatically reinvested in your pool`}\n          />\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-start\">\n          <ClickableText\n            style={{ textAlign: 'right' }}\n            onClick={() => {\n              setSortedColumn(SORT_FIELD.TVL)\n              setSortDirection(sortedColumn !== SORT_FIELD.TVL ? true : !sortDirection)\n            }}\n          >\n            <span>TVL</span>\n            {sortedColumn === SORT_FIELD.TVL ? (\n              !sortDirection ? (\n                <ChevronUp size=\"14\" style={{ marginLeft: '2px' }} />\n              ) : (\n                <ChevronDown size=\"14\" style={{ marginLeft: '2px' }} />\n              )\n            ) : (\n              ''\n            )}\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <ClickableText\n            onClick={() => {\n              setSortedColumn(SORT_FIELD.APR)\n              setSortDirection(sortedColumn !== SORT_FIELD.APR ? true : !sortDirection)\n            }}\n            style={{\n              paddingRight: '20px', // leave some space for the money bag in the value rows\n            }}\n          >\n            <Trans>APR</Trans>\n            {sortedColumn === SORT_FIELD.APR ? (\n              !sortDirection ? (\n                <ChevronUp size=\"14\" style={{ marginLeft: '2px' }} />\n              ) : (\n                <ChevronDown size=\"14\" style={{ marginLeft: '2px' }} />\n              )\n            ) : (\n              ''\n            )}\n\n            <InfoHelper\n              text={t`Average estimated return based on yearly trading fees from the pool & additional bonus rewards if you participate in the farm`}\n            />\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <ClickableText\n            onClick={() => {\n              setSortedColumn(SORT_FIELD.VOL)\n              setSortDirection(sortedColumn !== SORT_FIELD.VOL ? true : !sortDirection)\n            }}\n          >\n            <Trans>VOLUME (24H)</Trans>\n            {sortedColumn === SORT_FIELD.VOL ? (\n              !sortDirection ? (\n                <ChevronUp size=\"14\" style={{ marginLeft: '2px' }} />\n              ) : (\n                <ChevronDown size=\"14\" style={{ marginLeft: '2px' }} />\n              )\n            ) : (\n              ''\n            )}\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <ClickableText\n            onClick={() => {\n              setSortedColumn(SORT_FIELD.FEES)\n              setSortDirection(sortedColumn !== SORT_FIELD.FEES ? true : !sortDirection)\n            }}\n          >\n            <Trans>FEES (24H)</Trans>\n            {sortedColumn === SORT_FIELD.FEES ? (\n              !sortDirection ? (\n                <ChevronUp size=\"14\" style={{ marginLeft: '2px' }} />\n              ) : (\n                <ChevronDown size=\"14\" style={{ marginLeft: '2px' }} />\n              )\n            ) : (\n              ''\n            )}\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <ClickableText>\n            <Trans>YOUR LIQUIDITY</Trans>\n          </ClickableText>\n        </Flex>\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <ClickableText>\n            <Trans>ACTIONS</Trans>\n          </ClickableText>\n        </Flex>\n      </TableHeader>\n    ) : null\n  }\n\n  const ITEM_PER_PAGE = 8\n  const [page, setPage] = useState(1)\n  useEffect(() => {\n    setPage(1)\n  }, [currencies, searchValue, onlyShowStable])\n\n  const [sharedPoolId, setSharedPoolId] = useState('')\n  const openShareModal = useOpenModal(ApplicationModal.SHARE)\n  const isShareModalOpen = useModalOpen(ApplicationModal.SHARE)\n\n  const chainRoute = NETWORKS_INFO[chainId as ChainId].route\n  const shareUrl = sharedPoolId\n    ? window.location.origin + '/pools?search=' + sharedPoolId + '&networkId=' + chainRoute\n    : undefined\n\n  useEffect(() => {\n    if (sharedPoolId) {\n      openShareModal()\n    }\n  }, [openShareModal, sharedPoolId])\n\n  useEffect(() => {\n    if (!isShareModalOpen) {\n      setSharedPoolId('')\n    }\n  }, [isShareModalOpen, setSharedPoolId])\n  const pageData = pairDatas.slice((page - 1) * ITEM_PER_PAGE, page * ITEM_PER_PAGE)\n\n  if (!anyLoading && !Object.keys(pairDatas).length)\n    return (\n      <SelectPairInstructionWrapper>\n        <div style={{ marginBottom: '1rem' }}>\n          <Trans>There are no pools for this token pair.</Trans>\n        </div>\n        <div>\n          <Trans>Create a new pool or select another pair of tokens to view the available pools.</Trans>\n        </div>\n      </SelectPairInstructionWrapper>\n    )\n\n  return (\n    <PageWrapper data-above1000={above1000}>\n      {renderHeader()}\n      {anyLoading && !Object.keys(pairDatas).length && <LocalLoader />}\n      {pageData.map((p, index) =>\n        above1000 ? (\n          <ProAmmPoolListItem\n            key={index}\n            pair={p}\n            noBorderBottom={pairDatas.length <= pageData.length && index === pageData.length - 1}\n            idx={index}\n            onShared={setSharedPoolId}\n            userPositions={userPositions}\n          />\n        ) : (\n          <React.Fragment key={index}>\n            <ProAmmPoolCardItem pair={p} idx={index} onShared={setSharedPoolId} userPositions={userPositions} />\n            {index !== pageData.length - 1 && <DividerDash />}\n          </React.Fragment>\n        ),\n      )}\n\n      {!!pairDatas.length && (\n        <Pagination\n          onPageChange={setPage}\n          totalCount={pairDatas.length}\n          currentPage={page}\n          pageSize={ITEM_PER_PAGE}\n          haveBg={above1000}\n        />\n      )}\n      <ShareModal url={shareUrl} />\n    </PageWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}