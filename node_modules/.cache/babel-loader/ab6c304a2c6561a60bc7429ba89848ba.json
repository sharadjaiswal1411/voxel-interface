{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/pages/AddLiquidity/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { Fraction, WETH } from '@kyberswap/ks-sdk-core';\nimport JSBI from 'jsbi';\nimport React, { useEffect, useState } from 'react';\nimport LiquidityProviderMode from 'components/LiquidityProviderMode';\nimport { AddRemoveTabs, LiquidityAction } from 'components/NavigationTabs';\nimport { MinimalPositionCard } from 'components/PositionCard';\nimport { TutorialType } from 'components/Tutorial';\nimport { PairState } from 'data/Reserves';\nimport { useActiveWeb3React } from 'hooks';\nimport { useCurrency } from 'hooks/Tokens';\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel';\nimport { useDerivedMintInfo } from 'state/mint/hooks';\nimport { useCurrencyConvertedToNative } from 'utils/dmm';\nimport TokenPair from './TokenPair';\nimport ZapIn from './ZapIn';\nimport { Container, LiquidityProviderModeWrapper, PageWrapper, PoolName, TopBar } from './styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddLiquidity(_ref) {\n  _s();\n\n  var _ref$match$params = _ref.match.params,\n      currencyIdA = _ref$match$params.currencyIdA,\n      currencyIdB = _ref$match$params.currencyIdB,\n      pairAddress = _ref$match$params.pairAddress;\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var currencyA = useCurrency(currencyIdA);\n  var currencyB = useCurrency(currencyIdB);\n  var nativeA = useCurrencyConvertedToNative(currencyA || undefined);\n  var nativeB = useCurrencyConvertedToNative(currencyB || undefined);\n  var currencyAIsWETH = !!(chainId && currencyA && currencyA.equals(WETH[chainId]));\n  var currencyBIsWETH = !!(chainId && currencyB && currencyB.equals(WETH[chainId]));\n  var oneCurrencyIsWETH = currencyBIsWETH || currencyAIsWETH;\n\n  var _useDerivedMintInfo = useDerivedMintInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined, pairAddress),\n      pair = _useDerivedMintInfo.pair,\n      pairState = _useDerivedMintInfo.pairState,\n      noLiquidity = _useDerivedMintInfo.noLiquidity;\n\n  var amp = (pair === null || pair === void 0 ? void 0 : pair.amp) || JSBI.BigInt(0);\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      activeTab = _useState2[0],\n      setActiveTab = _useState2[1];\n\n  var _useMixpanel = useMixpanel(),\n      mixpanelHandler = _useMixpanel.mixpanelHandler;\n\n  useEffect(function () {\n    mixpanelHandler(MIXPANEL_TYPE.ADD_LIQUIDITY_INITIATED, {\n      token_1: nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol,\n      token_2: nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol,\n      amp: new Fraction(amp).divide(JSBI.BigInt(10000)).toSignificant(5)\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PageWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(AddRemoveTabs, {\n          action: LiquidityAction.ADD,\n          tutorialType: TutorialType.CLASSIC_ADD_LIQUIDITY\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TopBar, {\n          children: [/*#__PURE__*/_jsxDEV(LiquidityProviderModeWrapper, {\n            children: /*#__PURE__*/_jsxDEV(LiquidityProviderMode, {\n              activeTab: activeTab,\n              setActiveTab: setActiveTab,\n              singleTokenInfo:\n              /*i18n*/\n              i18n._(\"Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PoolName, {\n            children: [nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol, \" - \", nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol, \" \", /*#__PURE__*/_jsxDEV(Trans, {\n              id: \"pool\"\n            }, void 0, false, void 0, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), activeTab === 0 ? /*#__PURE__*/_jsxDEV(TokenPair, {\n          currencyIdA: currencyIdA,\n          currencyIdB: currencyIdB,\n          pairAddress: pairAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ZapIn, {\n          currencyIdA: currencyIdA,\n          currencyIdB: currencyIdB,\n          pairAddress: pairAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), pair && !noLiquidity && pairState !== PairState.INVALID ? /*#__PURE__*/_jsxDEV(Container, {\n        style: {\n          marginTop: '24px',\n          padding: '0'\n        },\n        children: /*#__PURE__*/_jsxDEV(MinimalPositionCard, {\n          showUnwrapped: oneCurrencyIsWETH,\n          pair: pair\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(AddLiquidity, \"UMNV+TvdZEWlAnIHn7eqDtLDKPk=\", false, function () {\n  return [useActiveWeb3React, useCurrency, useCurrency, useCurrencyConvertedToNative, useCurrencyConvertedToNative, useDerivedMintInfo, useMixpanel];\n});\n\n_c = AddLiquidity;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddLiquidity\");","map":{"version":3,"names":["Fraction","WETH","JSBI","React","useEffect","useState","LiquidityProviderMode","AddRemoveTabs","LiquidityAction","MinimalPositionCard","TutorialType","PairState","useActiveWeb3React","useCurrency","useMixpanel","MIXPANEL_TYPE","useDerivedMintInfo","useCurrencyConvertedToNative","TokenPair","ZapIn","Container","LiquidityProviderModeWrapper","PageWrapper","PoolName","TopBar","AddLiquidity","match","params","currencyIdA","currencyIdB","pairAddress","chainId","currencyA","currencyB","nativeA","undefined","nativeB","currencyAIsWETH","equals","currencyBIsWETH","oneCurrencyIsWETH","pair","pairState","noLiquidity","amp","BigInt","activeTab","setActiveTab","mixpanelHandler","ADD_LIQUIDITY_INITIATED","token_1","symbol","token_2","divide","toSignificant","ADD","CLASSIC_ADD_LIQUIDITY","INVALID","marginTop","padding"],"sources":["/Applications/XAMPP/voxel-interface/src/pages/AddLiquidity/index.tsx"],"sourcesContent":["import { Fraction, WETH } from '@kyberswap/ks-sdk-core'\nimport { Trans, t } from '@lingui/macro'\nimport JSBI from 'jsbi'\nimport React, { useEffect, useState } from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\n\nimport LiquidityProviderMode from 'components/LiquidityProviderMode'\nimport { AddRemoveTabs, LiquidityAction } from 'components/NavigationTabs'\nimport { MinimalPositionCard } from 'components/PositionCard'\nimport { TutorialType } from 'components/Tutorial'\nimport { PairState } from 'data/Reserves'\nimport { useActiveWeb3React } from 'hooks'\nimport { useCurrency } from 'hooks/Tokens'\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\nimport { useDerivedMintInfo } from 'state/mint/hooks'\nimport { useCurrencyConvertedToNative } from 'utils/dmm'\n\nimport TokenPair from './TokenPair'\nimport ZapIn from './ZapIn'\nimport { Container, LiquidityProviderModeWrapper, PageWrapper, PoolName, TopBar } from './styled'\n\nexport default function AddLiquidity({\n  match: {\n    params: { currencyIdA, currencyIdB, pairAddress },\n  },\n}: RouteComponentProps<{ currencyIdA: string; currencyIdB: string; pairAddress: string }>) {\n  const { chainId } = useActiveWeb3React()\n  const currencyA = useCurrency(currencyIdA)\n  const currencyB = useCurrency(currencyIdB)\n\n  const nativeA = useCurrencyConvertedToNative(currencyA || undefined)\n  const nativeB = useCurrencyConvertedToNative(currencyB || undefined)\n\n  const currencyAIsWETH = !!(chainId && currencyA && currencyA.equals(WETH[chainId]))\n  const currencyBIsWETH = !!(chainId && currencyB && currencyB.equals(WETH[chainId]))\n\n  const oneCurrencyIsWETH = currencyBIsWETH || currencyAIsWETH\n\n  const { pair, pairState, noLiquidity } = useDerivedMintInfo(\n    currencyA ?? undefined,\n    currencyB ?? undefined,\n    pairAddress,\n  )\n  const amp = pair?.amp || JSBI.BigInt(0)\n  const [activeTab, setActiveTab] = useState(0)\n\n  const { mixpanelHandler } = useMixpanel()\n  useEffect(() => {\n    mixpanelHandler(MIXPANEL_TYPE.ADD_LIQUIDITY_INITIATED, {\n      token_1: nativeA?.symbol,\n      token_2: nativeB?.symbol,\n      amp: new Fraction(amp).divide(JSBI.BigInt(10000)).toSignificant(5),\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  return (\n    <>\n      <PageWrapper>\n        <Container>\n          <AddRemoveTabs action={LiquidityAction.ADD} tutorialType={TutorialType.CLASSIC_ADD_LIQUIDITY} />\n\n          <TopBar>\n            <LiquidityProviderModeWrapper>\n              <LiquidityProviderMode\n                activeTab={activeTab}\n                setActiveTab={setActiveTab}\n                singleTokenInfo={t`Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction`}\n              />\n            </LiquidityProviderModeWrapper>\n            <PoolName>\n              {nativeA?.symbol} - {nativeB?.symbol} <Trans>pool</Trans>\n            </PoolName>\n          </TopBar>\n\n          {activeTab === 0 ? (\n            <TokenPair currencyIdA={currencyIdA} currencyIdB={currencyIdB} pairAddress={pairAddress} />\n          ) : (\n            <ZapIn currencyIdA={currencyIdA} currencyIdB={currencyIdB} pairAddress={pairAddress} />\n          )}\n        </Container>\n\n        {pair && !noLiquidity && pairState !== PairState.INVALID ? (\n          <Container style={{ marginTop: '24px', padding: '0' }}>\n            <MinimalPositionCard showUnwrapped={oneCurrencyIsWETH} pair={pair} />\n          </Container>\n        ) : null}\n      </PageWrapper>\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}