{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/pages/CreatePool/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { Fraction, WETH } from '@kyberswap/ks-sdk-core';\nimport { parseUnits } from 'ethers/lib/utils';\nimport JSBI from 'jsbi';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { AlertTriangle, Plus } from 'react-feather';\nimport { Link } from 'react-router-dom';\nimport { Flex, Text } from 'rebass';\nimport { ConfirmAddModalBottom } from 'components/ConfirmAddModalBottom';\nimport Loader from 'components/Loader';\nimport { PoolPriceBar, PoolPriceRangeBarToggle } from 'components/PoolPriceBar';\nimport QuestionHelper from 'components/QuestionHelper';\nimport { TutorialType } from 'components/Tutorial';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { nativeOnChain } from 'constants/tokens';\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel';\nimport useTheme from 'hooks/useTheme';\nimport useTokensMarketPrice from 'hooks/useTokensMarketPrice';\nimport { useDerivedPairInfo } from 'state/pair/hooks';\nimport { feeRangeCalc, useCurrencyConvertedToNative } from 'utils/dmm';\nimport isZero from 'utils/isZero';\nimport { ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button';\nimport { BlueCard, LightCard } from '../../components/Card';\nimport { AutoColumn, ColumnCenter } from '../../components/Column';\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel';\nimport { AddRemoveTabs, LiquidityAction } from '../../components/NavigationTabs';\nimport Row, { AutoRow, RowBetween, RowFlat } from '../../components/Row';\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal';\nimport { CREATE_POOL_AMP_HINT, ONLY_DYNAMIC_FEE_CHAINS, ONLY_STATIC_FEE_CHAINS, STATIC_FEE_OPTIONS } from '../../constants';\nimport { PairState } from '../../data/Reserves';\nimport { useActiveWeb3React } from '../../hooks';\nimport { useCurrency } from '../../hooks/Tokens';\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback';\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline';\nimport { useTokensPrice, useWalletModalToggle } from '../../state/application/hooks';\nimport { Field } from '../../state/mint/actions';\nimport { useDerivedMintInfo, useMintActionHandlers, useMintState } from '../../state/mint/hooks';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport { useIsExpertMode, usePairAdderByTokens, useUserSlippageTolerance } from '../../state/user/hooks';\nimport { StyledInternalLink, TYPE } from '../../theme';\nimport { calculateGasMargin, calculateSlippageAmount, formattedNum, getDynamicFeeRouterContract, getStaticFeeRouterContract } from '../../utils';\nimport { currencyId } from '../../utils/currencyId';\nimport { maxAmountSpend } from '../../utils/maxAmountSpend';\nimport { Dots, Wrapper } from '../Pool/styleds';\nimport FeeTypeSelector from './FeeTypeSelector';\nimport StaticFeeSelector from './StaticFeeSelector';\nimport { AMPColumn, ActiveText, Container, GridColumn, NumericalInput2, PageWrapper, Section, TokenColumn, USDPrice, Warning } from './styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var FEE_TYPE;\n\n(function (FEE_TYPE) {\n  FEE_TYPE[\"STATIC\"] = \"static\";\n  FEE_TYPE[\"DYNAMIC\"] = \"dynamic\";\n})(FEE_TYPE || (FEE_TYPE = {}));\n\nexport default function CreatePool(_ref) {\n  _s();\n\n  var _STATIC_FEE_OPTIONS,\n      _parsedAmounts$depend,\n      _parsedAmounts$depend2,\n      _formattedAmounts,\n      _this = this,\n      _parsedAmounts$Field$,\n      _parsedAmounts$Field$2,\n      _STATIC_FEE_OPTIONS$c2,\n      _STATIC_FEE_OPTIONS$c3,\n      _currencies$Field$CUR,\n      _currencies$Field$CUR2,\n      _currencies$Field$CUR3,\n      _currencies$Field$CUR4;\n\n  var _ref$match$params = _ref.match.params,\n      currencyIdA = _ref$match$params.currencyIdA,\n      currencyIdB = _ref$match$params.currencyIdB,\n      history = _ref.history;\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      account = _useActiveWeb3React.account,\n      chainId = _useActiveWeb3React.chainId,\n      library = _useActiveWeb3React.library;\n\n  var theme = useTheme();\n  var currencyA = useCurrency(currencyIdA);\n  var currencyB = useCurrency(currencyIdB);\n\n  var _useState = useState((_STATIC_FEE_OPTIONS = STATIC_FEE_OPTIONS[chainId]) === null || _STATIC_FEE_OPTIONS === void 0 ? void 0 : _STATIC_FEE_OPTIONS[0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedFee = _useState2[0],\n      setSelectedFee = _useState2[1];\n\n  var onlyStaticFee = !!chainId && ONLY_STATIC_FEE_CHAINS.includes(chainId);\n  var onlyDynamicFee = !!chainId && ONLY_DYNAMIC_FEE_CHAINS.includes(chainId);\n\n  var _useDerivedPairInfo = useDerivedPairInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined),\n      pairs = _useDerivedPairInfo.pairs;\n\n  var currencyAIsETHER = !!(chainId && currencyA && currencyA.isNative);\n  var currencyAIsWETH = !!(chainId && currencyA && currencyA.equals(WETH[chainId]));\n  var currencyBIsETHER = !!(chainId && currencyB && currencyB.isNative);\n  var currencyBIsWETH = !!(chainId && currencyB && currencyB.equals(WETH[chainId]));\n  var toggleWalletModal = useWalletModalToggle(); // toggle wallet when disconnected\n\n  var expertMode = useIsExpertMode(); // fee types\n\n  var _useState3 = useState(FEE_TYPE.STATIC),\n      _useState4 = _slicedToArray(_useState3, 2),\n      feeType = _useState4[0],\n      setFeeType = _useState4[1]; // mint state\n\n\n  var _useMintState = useMintState(),\n      independentField = _useMintState.independentField,\n      typedValue = _useMintState.typedValue,\n      otherTypedValue = _useMintState.otherTypedValue;\n\n  var _useDerivedMintInfo = useDerivedMintInfo(currencyA !== null && currencyA !== void 0 ? currencyA : undefined, currencyB !== null && currencyB !== void 0 ? currencyB : undefined, undefined, !onlyDynamicFee && feeType === FEE_TYPE.STATIC),\n      dependentField = _useDerivedMintInfo.dependentField,\n      currencies = _useDerivedMintInfo.currencies,\n      pair = _useDerivedMintInfo.pair,\n      pairState = _useDerivedMintInfo.pairState,\n      currencyBalances = _useDerivedMintInfo.currencyBalances,\n      parsedAmounts = _useDerivedMintInfo.parsedAmounts,\n      price = _useDerivedMintInfo.price,\n      noLiquidity = _useDerivedMintInfo.noLiquidity,\n      poolTokenPercentage = _useDerivedMintInfo.poolTokenPercentage,\n      error = _useDerivedMintInfo.error,\n      unAmplifiedPairAddress = _useDerivedMintInfo.unAmplifiedPairAddress;\n\n  var nativeA = useCurrencyConvertedToNative(currencies[Field.CURRENCY_A]);\n  var nativeB = useCurrencyConvertedToNative(currencies[Field.CURRENCY_B]);\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      amp = _useState6[0],\n      setAmp = _useState6[1];\n\n  var onAmpChange = function onAmpChange(e) {\n    if (e.toString().length < 20) setAmp(e);\n  };\n\n  var poolsList = useMemo(function () {\n    return pairs.map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          pair = _ref3[1];\n\n      return pair;\n    }).filter(function (pair) {\n      return pair !== null;\n    });\n  }, [pairs]);\n  var isPoolExisted = poolsList.length > 0;\n  var ampConvertedInBps = !!amp.toString() ? new Fraction(JSBI.BigInt(parseUnits(amp.toString() || '1', 20)), JSBI.BigInt(parseUnits('1', 16))) : undefined;\n  var linkToUnamplifiedPool = !!ampConvertedInBps && ampConvertedInBps.equalTo(JSBI.BigInt(10000)) && !!unAmplifiedPairAddress && !isZero(unAmplifiedPairAddress);\n\n  var _useMintActionHandler = useMintActionHandlers(noLiquidity),\n      onFieldAInput = _useMintActionHandler.onFieldAInput,\n      onFieldBInput = _useMintActionHandler.onFieldBInput;\n\n  var isValid = !(error || (+amp < 1 ? 'Enter amp (>=1)' : '')); // modal and loading\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showConfirm = _useState8[0],\n      setShowConfirm = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      attemptingTxn = _useState10[0],\n      setAttemptingTxn = _useState10[1]; // clicked confirm\n  // txn values\n\n\n  var deadline = useTransactionDeadline(); // custom from users settings\n\n  var _useUserSlippageToler = useUserSlippageTolerance(),\n      _useUserSlippageToler2 = _slicedToArray(_useUserSlippageToler, 1),\n      allowedSlippage = _useUserSlippageToler2[0]; // custom from users\n\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      txHash = _useState12[0],\n      setTxHash = _useState12[1]; // get formatted amounts\n\n\n  var formattedAmounts = (_formattedAmounts = {}, _defineProperty(_formattedAmounts, independentField, typedValue), _defineProperty(_formattedAmounts, dependentField, noLiquidity ? otherTypedValue : (_parsedAmounts$depend = (_parsedAmounts$depend2 = parsedAmounts[dependentField]) === null || _parsedAmounts$depend2 === void 0 ? void 0 : _parsedAmounts$depend2.toSignificant(6)) !== null && _parsedAmounts$depend !== void 0 ? _parsedAmounts$depend : ''), _formattedAmounts); // get the max amounts user can add\n\n  var maxAmounts = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(function (accumulator, field) {\n    return _objectSpread(_objectSpread({}, accumulator), {}, _defineProperty({}, field, maxAmountSpend(currencyBalances[field])));\n  }, {});\n  var routerAddress = useMemo(function () {\n    var _NETWORKS_INFO$chainI;\n\n    if (!chainId) return;\n    if (ONLY_STATIC_FEE_CHAINS.includes(chainId)) return NETWORKS_INFO[chainId].classic.static.router;\n    if (ONLY_DYNAMIC_FEE_CHAINS.includes(chainId)) return (_NETWORKS_INFO$chainI = NETWORKS_INFO[chainId].classic.dynamic) === null || _NETWORKS_INFO$chainI === void 0 ? void 0 : _NETWORKS_INFO$chainI.router;\n\n    if (feeType === FEE_TYPE.STATIC) {\n      return NETWORKS_INFO[chainId].classic.static.router;\n    } else {\n      var _NETWORKS_INFO$chainI2;\n\n      return (_NETWORKS_INFO$chainI2 = NETWORKS_INFO[chainId].classic.dynamic) === null || _NETWORKS_INFO$chainI2 === void 0 ? void 0 : _NETWORKS_INFO$chainI2.router;\n    }\n  }, [chainId, feeType]); // check whether the user has approved the router on the tokens\n\n  var _useApproveCallback = useApproveCallback(parsedAmounts[Field.CURRENCY_A], routerAddress),\n      _useApproveCallback2 = _slicedToArray(_useApproveCallback, 2),\n      approvalA = _useApproveCallback2[0],\n      approveACallback = _useApproveCallback2[1];\n\n  var _useApproveCallback3 = useApproveCallback(parsedAmounts[Field.CURRENCY_B], routerAddress),\n      _useApproveCallback4 = _slicedToArray(_useApproveCallback3, 2),\n      approvalB = _useApproveCallback4[0],\n      approveBCallback = _useApproveCallback4[1];\n\n  var addTransactionWithType = useTransactionAdder();\n  var addPair = usePairAdderByTokens();\n\n  function onAdd() {\n    return _onAdd.apply(this, arguments);\n  }\n\n  function _onAdd() {\n    _onAdd = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _amountsMin;\n\n      var router, parsedAmountA, parsedAmountB, amountsMin, estimate, method, args, value, _address, _selectedFee$toString, tokenBIsETH, _currencyA$wrapped$ad, _currencyB$wrapped$ad, _selectedFee$toString2;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!chainId || !library || !account)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              router = feeType === FEE_TYPE.STATIC && !onlyDynamicFee ? getStaticFeeRouterContract(chainId, library, account) : getDynamicFeeRouterContract(chainId, library, account);\n              parsedAmountA = parsedAmounts[Field.CURRENCY_A], parsedAmountB = parsedAmounts[Field.CURRENCY_B];\n\n              if (!(!parsedAmountA || !parsedAmountB || !currencyA || !currencyB || !deadline)) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 6:\n              amountsMin = (_amountsMin = {}, _defineProperty(_amountsMin, Field.CURRENCY_A, calculateSlippageAmount(parsedAmountA, noLiquidity ? 0 : allowedSlippage)[0]), _defineProperty(_amountsMin, Field.CURRENCY_B, calculateSlippageAmount(parsedAmountB, noLiquidity ? 0 : allowedSlippage)[0]), _amountsMin);\n\n              if (ampConvertedInBps) {\n                _context.next = 9;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 9:\n              if (currencyA.isNative || currencyB.isNative) {\n                tokenBIsETH = currencyB.isNative;\n                estimate = router.estimateGas.addLiquidityNewPoolETH;\n                method = router.addLiquidityNewPoolETH;\n                args = [(_address = (tokenBIsETH ? currencyA === null || currencyA === void 0 ? void 0 : currencyA.wrapped : currencyB === null || currencyB === void 0 ? void 0 : currencyB.wrapped).address) !== null && _address !== void 0 ? _address : '', // token\n                feeType === FEE_TYPE.STATIC && !onlyDynamicFee ? [ampConvertedInBps.toSignificant(5), (_selectedFee$toString = selectedFee === null || selectedFee === void 0 ? void 0 : selectedFee.toString()) !== null && _selectedFee$toString !== void 0 ? _selectedFee$toString : ''] : ampConvertedInBps.toSignificant(5), //ampBps\n                (tokenBIsETH ? parsedAmountA : parsedAmountB).quotient.toString(), // token desired\n                amountsMin[tokenBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), // token min\n                amountsMin[tokenBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), // eth min\n                account, deadline.toHexString()];\n                value = BigNumber.from((tokenBIsETH ? parsedAmountB : parsedAmountA).quotient.toString());\n              } else {\n                estimate = router.estimateGas.addLiquidityNewPool;\n                method = router.addLiquidityNewPool;\n                args = [(_currencyA$wrapped$ad = currencyA === null || currencyA === void 0 ? void 0 : currencyA.wrapped.address) !== null && _currencyA$wrapped$ad !== void 0 ? _currencyA$wrapped$ad : '', (_currencyB$wrapped$ad = currencyB === null || currencyB === void 0 ? void 0 : currencyB.wrapped.address) !== null && _currencyB$wrapped$ad !== void 0 ? _currencyB$wrapped$ad : '', feeType === FEE_TYPE.STATIC && !onlyDynamicFee ? [ampConvertedInBps.toSignificant(5), (_selectedFee$toString2 = selectedFee === null || selectedFee === void 0 ? void 0 : selectedFee.toString()) !== null && _selectedFee$toString2 !== void 0 ? _selectedFee$toString2 : ''] : ampConvertedInBps.toSignificant(5), //ampBps\n                parsedAmountA.quotient.toString(), parsedAmountB.quotient.toString(), amountsMin[Field.CURRENCY_A].toString(), amountsMin[Field.CURRENCY_B].toString(), account, deadline.toHexString()];\n                value = null;\n              }\n\n              console.log(args);\n              setAttemptingTxn(true);\n              _context.next = 14;\n              return estimate.apply(void 0, _toConsumableArray(args).concat([value ? {\n                value: value\n              } : {}])).then(function (estimatedGasLimit) {\n                method.apply(void 0, _toConsumableArray(args).concat([_objectSpread(_objectSpread({}, value ? {\n                  value: value\n                } : {}), {}, {\n                  gasLimit: calculateGasMargin(estimatedGasLimit)\n                })])).then(function (response) {\n                  var cA = currencies[Field.CURRENCY_A];\n                  var cB = currencies[Field.CURRENCY_B];\n\n                  if (!!cA && !!cB) {\n                    var _parsedAmounts$Field$3, _parsedAmounts$Field$4;\n\n                    setAttemptingTxn(false);\n                    addTransactionWithType(response, {\n                      type: 'Create pool',\n                      summary: ((_parsedAmounts$Field$3 = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$3 === void 0 ? void 0 : _parsedAmounts$Field$3.toSignificant(6)) + ' ' + cA.symbol + ' and ' + ((_parsedAmounts$Field$4 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$4 === void 0 ? void 0 : _parsedAmounts$Field$4.toSignificant(6)) + ' ' + cB.symbol,\n                      arbitrary: {\n                        token_1: cA.symbol,\n                        token_2: cB.symbol,\n                        amp: amp\n                      }\n                    });\n                    setTxHash(response.hash);\n                    var tA = cA.wrapped;\n                    var tB = cB.wrapped;\n\n                    if (!!tA && !!tB) {\n                      // In case subgraph sync is slow, doing this will show the pool in \"My Pools\" page.\n                      addPair(tA, tB);\n                    }\n                  }\n                }).catch(function (error) {\n                  setAttemptingTxn(false);\n                  setShowConfirm(false); // we only care if the error is something _other_ than the user rejected the tx\n\n                  if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n                    console.error(error);\n                  }\n                });\n              }).catch(function (error) {\n                setAttemptingTxn(false);\n                setShowConfirm(false); // we only care if the error is something _other_ than the user rejected the tx\n\n                if ((error === null || error === void 0 ? void 0 : error.code) !== 4001) {\n                  console.error(error);\n                }\n              });\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _onAdd.apply(this, arguments);\n  }\n\n  var modalHeader = function modalHeader() {\n    return /*#__PURE__*/_jsxDEV(AutoColumn, {\n      gap: \"5px\",\n      children: /*#__PURE__*/_jsxDEV(RowFlat, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"24px\",\n          fontWeight: 500,\n          lineHeight: \"42px\",\n          marginRight: 10,\n          children: (nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol) + '/' + (nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var modalBottom = function modalBottom() {\n    return /*#__PURE__*/_jsxDEV(ConfirmAddModalBottom, {\n      pair: pair,\n      price: price,\n      currencies: currencies,\n      parsedAmounts: parsedAmounts,\n      noLiquidity: true,\n      onAdd: onAdd,\n      poolTokenPercentage: poolTokenPercentage,\n      amplification: ampConvertedInBps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var pendingText = \"Supplying \".concat((_parsedAmounts$Field$ = parsedAmounts[Field.CURRENCY_A]) === null || _parsedAmounts$Field$ === void 0 ? void 0 : _parsedAmounts$Field$.toSignificant(6), \" \").concat(nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol, \" and \").concat((_parsedAmounts$Field$2 = parsedAmounts[Field.CURRENCY_B]) === null || _parsedAmounts$Field$2 === void 0 ? void 0 : _parsedAmounts$Field$2.toSignificant(6), \" \").concat(nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol);\n  var isWrappedTokenInPool = useCallback(function (currency, selectedCurrency) {\n    return chainId && currency && (currency.isNative && selectedCurrency.equals(WETH[chainId]) || currency.equals(WETH[chainId]) && selectedCurrency.isNative);\n  }, [chainId]);\n  var handleCurrencyASelect = useCallback(function (selectedCurrencyA) {\n    var newCurrencyIdA = currencyId(selectedCurrencyA, chainId); // support WETH\n\n    if (isWrappedTokenInPool(currencyA, selectedCurrencyA)) {\n      history.push(\"/create/\".concat(newCurrencyIdA, \"/\").concat(currencyIdB));\n    } else if (newCurrencyIdA === currencyIdB) {\n      history.push(\"/create/\".concat(currencyIdB, \"/\").concat(currencyIdA));\n    } else {\n      history.push(\"/create/\".concat(newCurrencyIdA, \"/\").concat(currencyIdB));\n    }\n  }, [currencyIdB, history, currencyIdA, isWrappedTokenInPool, currencyA, chainId]);\n  var handleCurrencyBSelect = useCallback(function (selectedCurrencyB) {\n    var newCurrencyIdB = currencyId(selectedCurrencyB, chainId);\n\n    if (isWrappedTokenInPool(currencyB, selectedCurrencyB)) {\n      history.push(\"/create/\".concat(currencyIdA, \"/\").concat(newCurrencyIdB));\n    } else if (newCurrencyIdB === currencyIdA) {\n      if (currencyIdB) {\n        history.push(\"/create/\".concat(currencyIdB, \"/\").concat(currencyIdA));\n      } else {\n        history.push(\"/create/\".concat(newCurrencyIdB));\n      }\n    } else {\n      history.push(\"/create/\".concat(currencyIdA ? currencyIdA : 'ETH', \"/\").concat(newCurrencyIdB));\n    }\n  }, [currencyIdA, history, currencyIdB, isWrappedTokenInPool, currencyB, chainId]);\n  var handleDismissConfirmation = useCallback(function () {\n    setShowConfirm(false);\n    setAmp(''); // if there was a tx hash, we want to clear the input\n\n    if (txHash) {\n      onFieldAInput('');\n    }\n\n    setTxHash('');\n  }, [onFieldAInput, txHash]); // const realPercentToken0 = pair\n  //   ? pair.reserve0\n  //       .divide(pair.virtualReserve0)\n  //       .multiply('100')\n  //       .divide(pair.reserve0.divide(pair.virtualReserve0).add(pair.reserve1.divide(pair.virtualReserve1)))\n  //   : new Fraction(JSBI.BigInt(50))\n  // const realPercentToken1 = new Fraction(JSBI.BigInt(100), JSBI.BigInt(1)).subtract(realPercentToken0 as Fraction)\n  // const percentToken0 = realPercentToken0.toSignificant(4)\n  // const percentToken1 = realPercentToken1.toSignificant(4)\n\n  var tokens = useMemo(function () {\n    return [currencies[Field.CURRENCY_A], currencies[Field.CURRENCY_B]].map(function (currency) {\n      return currency === null || currency === void 0 ? void 0 : currency.wrapped;\n    });\n  }, [currencies]);\n  var usdPrices = useTokensPrice(tokens);\n  var marketPrices = useTokensMarketPrice(tokens);\n  var poolRatio = Number(price === null || price === void 0 ? void 0 : price.toSignificant(6));\n  var marketRatio = marketPrices[1] && marketPrices[0] / marketPrices[1];\n  var showSanityPriceWarning = !!(poolRatio && marketRatio && Math.abs(poolRatio - marketRatio) / marketRatio > 0.05);\n\n  var _useMixpanel = useMixpanel(),\n      mixpanelHandler = _useMixpanel.mixpanelHandler;\n\n  useEffect(function () {\n    if (chainId) {\n      var _STATIC_FEE_OPTIONS$c;\n\n      setSelectedFee((_STATIC_FEE_OPTIONS$c = STATIC_FEE_OPTIONS[chainId]) === null || _STATIC_FEE_OPTIONS$c === void 0 ? void 0 : _STATIC_FEE_OPTIONS$c[0]);\n    }\n  }, [chainId]);\n  return /*#__PURE__*/_jsxDEV(PageWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(AddRemoveTabs, {\n        tutorialType: TutorialType.CLASSIC_CREATE_POOL,\n        action: LiquidityAction.CREATE,\n        onShared: function onShared() {\n          mixpanelHandler(MIXPANEL_TYPE.CREATE_POOL_LINK_SHARED, {\n            token_1: nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol,\n            token_2: nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n          isOpen: showConfirm,\n          onDismiss: handleDismissConfirmation,\n          attemptingTxn: attemptingTxn,\n          hash: txHash,\n          content: function content() {\n            return !linkToUnamplifiedPool ? /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n              title:\n              /*i18n*/\n              i18n._(\"You are creating a pool\"),\n              onDismiss: handleDismissConfirmation,\n              topContent: modalHeader,\n              bottomContent: modalBottom\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, _this) : /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n              title:\n              /*i18n*/\n              i18n._(\"Unamplified Pool existed\"),\n              onDismiss: handleDismissConfirmation,\n              topContent: function topContent() {\n                return null;\n              },\n              bottomContent: function bottomContent() {\n                return /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\"Please use the link below if you want to add liquidity to Unamplified Pool\", /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                    onClick: handleDismissConfirmation,\n                    id: \"unamplified-pool-link\",\n                    to: \"/add/\".concat(currencyIdA, \"/\").concat(currencyIdB, \"/\").concat(unAmplifiedPairAddress),\n                    children: \"Go to unamplified pool\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, _this);\n          },\n          pendingText: pendingText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n          gap: \"20px\",\n          children: [/*#__PURE__*/_jsxDEV(ColumnCenter, {\n            children: /*#__PURE__*/_jsxDEV(BlueCard, {\n              children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: \"10px\",\n                children: [isPoolExisted && /*#__PURE__*/_jsxDEV(TYPE.link, {\n                  fontSize: \"14px\",\n                  lineHeight: \"22px\",\n                  color: 'text1',\n                  fontWeight: \"normal\",\n                  children: [/*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"Note: There are existing pools for this token pair. Please check\"\n                  }, void 0, false, void 0, this), ' ', /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/pools/\".concat(currencyIdA, \"/\").concat(currencyIdB),\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"here\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TYPE.link, {\n                  fontSize: \"14px\",\n                  lineHeight: \"22px\",\n                  color: theme.text,\n                  fontWeight: \"normal\",\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"You are creating a new pool and will be the first liquidity provider. The ratio of tokens you supply below will set the initial price of this pool. Once you are satisfied with the rate, proceed to supply liquidity.\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GridColumn, {\n            children: [/*#__PURE__*/_jsxDEV(TokenColumn, {\n              gap: \"20px\",\n              children: [/*#__PURE__*/_jsxDEV(ActiveText, {\n                children: \"Token\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                  positionMax: \"top\",\n                  value: formattedAmounts[Field.CURRENCY_A],\n                  onUserInput: onFieldAInput,\n                  onMax: function onMax() {\n                    var _maxAmounts$Field$CUR, _maxAmounts$Field$CUR2;\n\n                    onFieldAInput((_maxAmounts$Field$CUR = (_maxAmounts$Field$CUR2 = maxAmounts[Field.CURRENCY_A]) === null || _maxAmounts$Field$CUR2 === void 0 ? void 0 : _maxAmounts$Field$CUR2.toExact()) !== null && _maxAmounts$Field$CUR !== void 0 ? _maxAmounts$Field$CUR : '');\n                  },\n                  onHalf: function onHalf() {\n                    var _currencyBalances$Fie, _currencyBalances$Fie2;\n\n                    onFieldAInput((_currencyBalances$Fie = (_currencyBalances$Fie2 = currencyBalances[Field.CURRENCY_A]) === null || _currencyBalances$Fie2 === void 0 ? void 0 : _currencyBalances$Fie2.divide(2).toExact()) !== null && _currencyBalances$Fie !== void 0 ? _currencyBalances$Fie : '');\n                  },\n                  onCurrencySelect: handleCurrencyASelect,\n                  showMaxButton: true,\n                  currency: currencies[Field.CURRENCY_A],\n                  id: \"create-pool-input-tokena\",\n                  disableCurrencySelect: false,\n                  showCommonBases: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  marginTop: \"0.5rem\",\n                  children: [/*#__PURE__*/_jsxDEV(USDPrice, {\n                    children: usdPrices[0] ? \"1 \".concat(nativeA === null || nativeA === void 0 ? void 0 : nativeA.symbol, \" = \").concat(formattedNum(usdPrices[0].toString(), true)) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 532,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 21\n                  }, this), chainId && (currencyAIsWETH || currencyAIsETHER) && /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                    replace: true,\n                    to: \"/create/\".concat(currencyAIsETHER ? currencyId(WETH[chainId], chainId) : currencyId(nativeOnChain(chainId), chainId), \"/\").concat(currencyIdB),\n                    children: currencyAIsETHER ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Use Wrapped Token\"\n                    }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Use Native Token\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ColumnCenter, {\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  size: \"16\",\n                  color: theme.text2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(CurrencyInputPanel, {\n                  positionMax: \"top\",\n                  value: formattedAmounts[Field.CURRENCY_B],\n                  onUserInput: onFieldBInput,\n                  onCurrencySelect: handleCurrencyBSelect,\n                  onMax: function onMax() {\n                    var _maxAmounts$Field$CUR3, _maxAmounts$Field$CUR4;\n\n                    onFieldBInput((_maxAmounts$Field$CUR3 = (_maxAmounts$Field$CUR4 = maxAmounts[Field.CURRENCY_B]) === null || _maxAmounts$Field$CUR4 === void 0 ? void 0 : _maxAmounts$Field$CUR4.toExact()) !== null && _maxAmounts$Field$CUR3 !== void 0 ? _maxAmounts$Field$CUR3 : '');\n                  },\n                  onHalf: function onHalf() {\n                    var _currencyBalances$Fie3, _currencyBalances$Fie4;\n\n                    onFieldBInput((_currencyBalances$Fie3 = (_currencyBalances$Fie4 = currencyBalances[Field.CURRENCY_B]) === null || _currencyBalances$Fie4 === void 0 ? void 0 : _currencyBalances$Fie4.divide(2).toExact()) !== null && _currencyBalances$Fie3 !== void 0 ? _currencyBalances$Fie3 : '');\n                  },\n                  showMaxButton: true,\n                  currency: currencies[Field.CURRENCY_B],\n                  disableCurrencySelect: false,\n                  id: \"create-pool-input-tokenb\",\n                  showCommonBases: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Flex, {\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  marginTop: \"0.5rem\",\n                  children: [/*#__PURE__*/_jsxDEV(USDPrice, {\n                    children: usdPrices[1] ? \"1 \".concat(nativeB === null || nativeB === void 0 ? void 0 : nativeB.symbol, \" = \").concat(formattedNum(usdPrices[1].toString(), true)) : /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 576,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 21\n                  }, this), chainId && (currencyBIsWETH || currencyBIsETHER) && /*#__PURE__*/_jsxDEV(StyledInternalLink, {\n                    replace: true,\n                    to: \"/create/\".concat(currencyIdA, \"/\").concat(currencyBIsETHER ? currencyId(WETH[chainId], chainId) : currencyId(nativeOnChain(chainId), chainId)),\n                    children: currencyBIsETHER ? /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Use Wrapped Token\"\n                    }, void 0, false, void 0, this) : /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Use Native Token\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 17\n              }, this), currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && /*#__PURE__*/_jsxDEV(Section, {\n                padding: \"0px\",\n                borderRadius: '20px',\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  padding: \"0 0 1rem 0\",\n                  children: /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n                    fontWeight: 500,\n                    fontSize: 14,\n                    color: theme.subText,\n                    children: /*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Prices and Pool share\"\n                    }, void 0, false, void 0, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(PoolPriceBar, {\n                  currencies: currencies,\n                  poolTokenPercentage: poolTokenPercentage,\n                  noLiquidity: noLiquidity,\n                  price: price,\n                  pair: pair\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AMPColumn, {\n              gap: \"20px\",\n              style: {\n                height: 'fit-content'\n              },\n              children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n                children: [/*#__PURE__*/_jsxDEV(ActiveText, {\n                  children: [\"AMP\", !!pair ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [\"\\xA0=\\xA0\", new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5)]\n                  }, void 0, true) : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n                  text: CREATE_POOL_AMP_HINT\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LightCard, {\n                padding: \"0 0.75rem\",\n                borderRadius: '10px',\n                style: {\n                  background: theme.buttonBlack\n                },\n                children: /*#__PURE__*/_jsxDEV(NumericalInput2, {\n                  className: \"token-amount-input\",\n                  value: amp,\n                  onUserInput: onAmpChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 17\n              }, this), currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && /*#__PURE__*/_jsxDEV(PoolPriceRangeBarToggle, {\n                pair: pair,\n                currencies: currencies,\n                price: price,\n                amplification: ampConvertedInBps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), chainId && (onlyStaticFee ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(AutoRow, {\n                  children: [/*#__PURE__*/_jsxDEV(ActiveText, {\n                    children: \"Fee\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 653,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n                    text:\n                    /*i18n*/\n                    i18n._(\"You can select the appropriate fee tier for your pool. For each trade that uses this liquidity pool, liquidity providers will earn this trading fee.\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(StaticFeeSelector, {\n                  active: selectedFee,\n                  onChange: function onChange(name) {\n                    return setSelectedFee(name);\n                  },\n                  options: ((_STATIC_FEE_OPTIONS$c2 = STATIC_FEE_OPTIONS[chainId]) === null || _STATIC_FEE_OPTIONS$c2 === void 0 ? void 0 : _STATIC_FEE_OPTIONS$c2.map(function (fee) {\n                    return {\n                      name: fee,\n                      title: (fee / 1000).toString() + '%'\n                    };\n                  })) || []\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : onlyDynamicFee ? /*#__PURE__*/_jsxDEV(Section, {\n                children: /*#__PURE__*/_jsxDEV(AutoRow, {\n                  children: [/*#__PURE__*/_jsxDEV(Text, {\n                    fontWeight: 500,\n                    fontSize: 14,\n                    color: theme.subText,\n                    children: [/*#__PURE__*/_jsxDEV(Trans, {\n                      id: \"Dynamic Fee Range\"\n                    }, void 0, false, void 0, this), \":\", ' ', currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && +amp >= 1 ? feeRangeCalc(!!(pair !== null && pair !== void 0 && pair.amp) ? +new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5) : +amp) : '-']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n                    text:\n                    /*i18n*/\n                    i18n._(\"Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers.\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(FeeTypeSelector, {\n                  active: feeType,\n                  onChange: function onChange(type) {\n                    return setFeeType(type);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 23\n                }, this), feeType === FEE_TYPE.STATIC ? /*#__PURE__*/_jsxDEV(StaticFeeSelector, {\n                  active: selectedFee,\n                  onChange: function onChange(name) {\n                    return setSelectedFee(name);\n                  },\n                  options: ((_STATIC_FEE_OPTIONS$c3 = STATIC_FEE_OPTIONS[chainId]) === null || _STATIC_FEE_OPTIONS$c3 === void 0 ? void 0 : _STATIC_FEE_OPTIONS$c3.map(function (fee) {\n                    return {\n                      name: fee,\n                      title: (fee / 1000).toString() + '%'\n                    };\n                  })) || []\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Section, {\n                  children: /*#__PURE__*/_jsxDEV(AutoRow, {\n                    children: [/*#__PURE__*/_jsxDEV(Text, {\n                      fontWeight: 500,\n                      fontSize: 14,\n                      color: theme.subText,\n                      children: [/*#__PURE__*/_jsxDEV(Trans, {\n                        id: \"Dynamic Fee Range\"\n                      }, void 0, false, void 0, this), \":\", ' ', currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && +amp >= 1 ? feeRangeCalc(!!(pair !== null && pair !== void 0 && pair.amp) ? +new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5) : +amp) : '-']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 705,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n                      text:\n                      /*i18n*/\n                      i18n._(\"Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers.\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 718,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true)), showSanityPriceWarning && /*#__PURE__*/_jsxDEV(Warning, {\n                children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                  color: theme.yellow2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Text, {\n                  fontSize: \"0.75rem\",\n                  marginLeft: \"0.75rem\",\n                  children: /*#__PURE__*/_jsxDEV(Trans, {\n                    id: \"The price is deviating quite a lot from that market price, please be careful!\"\n                  }, void 0, false, void 0, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 19\n              }, this), !account ? /*#__PURE__*/_jsxDEV(ButtonLight, {\n                onClick: toggleWalletModal,\n                children: /*#__PURE__*/_jsxDEV(Trans, {\n                  id: \"Connect Wallet\"\n                }, void 0, false, void 0, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(AutoColumn, {\n                gap: 'md',\n                children: [(approvalA === ApprovalState.NOT_APPROVED || approvalA === ApprovalState.PENDING || approvalB === ApprovalState.NOT_APPROVED || approvalB === ApprovalState.PENDING) && isValid && /*#__PURE__*/_jsxDEV(RowBetween, {\n                  children: [approvalA !== ApprovalState.APPROVED && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                    onClick: approveACallback,\n                    disabled: approvalA === ApprovalState.PENDING,\n                    width: approvalB !== ApprovalState.APPROVED ? '48%' : '100%',\n                    children: approvalA === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n                      children: [\"Approving \", (_currencies$Field$CUR = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR === void 0 ? void 0 : _currencies$Field$CUR.symbol]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 755,\n                      columnNumber: 33\n                    }, this) : 'Approve ' + ((_currencies$Field$CUR2 = currencies[Field.CURRENCY_A]) === null || _currencies$Field$CUR2 === void 0 ? void 0 : _currencies$Field$CUR2.symbol)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 29\n                  }, this), approvalB !== ApprovalState.APPROVED && /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                    onClick: approveBCallback,\n                    disabled: approvalB === ApprovalState.PENDING,\n                    width: approvalA !== ApprovalState.APPROVED ? '48%' : '100%',\n                    children: approvalB === ApprovalState.PENDING ? /*#__PURE__*/_jsxDEV(Dots, {\n                      children: [\"Approving \", (_currencies$Field$CUR3 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR3 === void 0 ? void 0 : _currencies$Field$CUR3.symbol]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 768,\n                      columnNumber: 33\n                    }, this) : 'Approve ' + ((_currencies$Field$CUR4 = currencies[Field.CURRENCY_B]) === null || _currencies$Field$CUR4 === void 0 ? void 0 : _currencies$Field$CUR4.symbol)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 762,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(ButtonError, {\n                  onClick: function onClick() {\n                    expertMode && !linkToUnamplifiedPool ? onAdd() : setShowConfirm(true);\n                  },\n                  disabled: !isValid || approvalA !== ApprovalState.APPROVED || approvalB !== ApprovalState.APPROVED || (feeType === FEE_TYPE.STATIC ? !selectedFee : false),\n                  error: !isValid && !!parsedAmounts[Field.CURRENCY_A] && !!parsedAmounts[Field.CURRENCY_B] && !!(+amp < 1),\n                  children: /*#__PURE__*/_jsxDEV(Text, {\n                    fontSize: 16,\n                    fontWeight: 500,\n                    children: error !== null && error !== void 0 ? error : +amp < 1 ?\n                    /*i18n*/\n                    i18n._(\"Enter amp (>=1)\") : feeType === FEE_TYPE.STATIC && !selectedFee ?\n                    /*i18n*/\n                    i18n._(\"Please select fee\") :\n                    /*i18n*/\n                    i18n._(\"Create\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 794,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 430,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreatePool, \"mQQqUWB+vt83Aks/jxhHMMs0RJU=\", false, function () {\n  return [useActiveWeb3React, useTheme, useCurrency, useCurrency, useDerivedPairInfo, useWalletModalToggle, useIsExpertMode, useMintState, useDerivedMintInfo, useCurrencyConvertedToNative, useCurrencyConvertedToNative, useMintActionHandlers, useTransactionDeadline, useUserSlippageTolerance, useApproveCallback, useApproveCallback, useTransactionAdder, usePairAdderByTokens, useTokensPrice, useTokensMarketPrice, useMixpanel];\n});\n\n_c = CreatePool;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePool\");","map":{"version":3,"names":["BigNumber","Fraction","WETH","parseUnits","JSBI","React","useCallback","useEffect","useMemo","useState","AlertTriangle","Plus","Link","Flex","Text","ConfirmAddModalBottom","Loader","PoolPriceBar","PoolPriceRangeBarToggle","QuestionHelper","TutorialType","NETWORKS_INFO","nativeOnChain","useMixpanel","MIXPANEL_TYPE","useTheme","useTokensMarketPrice","useDerivedPairInfo","feeRangeCalc","useCurrencyConvertedToNative","isZero","ButtonError","ButtonLight","ButtonPrimary","BlueCard","LightCard","AutoColumn","ColumnCenter","CurrencyInputPanel","AddRemoveTabs","LiquidityAction","Row","AutoRow","RowBetween","RowFlat","TransactionConfirmationModal","ConfirmationModalContent","CREATE_POOL_AMP_HINT","ONLY_DYNAMIC_FEE_CHAINS","ONLY_STATIC_FEE_CHAINS","STATIC_FEE_OPTIONS","PairState","useActiveWeb3React","useCurrency","ApprovalState","useApproveCallback","useTransactionDeadline","useTokensPrice","useWalletModalToggle","Field","useDerivedMintInfo","useMintActionHandlers","useMintState","useTransactionAdder","useIsExpertMode","usePairAdderByTokens","useUserSlippageTolerance","StyledInternalLink","TYPE","calculateGasMargin","calculateSlippageAmount","formattedNum","getDynamicFeeRouterContract","getStaticFeeRouterContract","currencyId","maxAmountSpend","Dots","Wrapper","FeeTypeSelector","StaticFeeSelector","AMPColumn","ActiveText","Container","GridColumn","NumericalInput2","PageWrapper","Section","TokenColumn","USDPrice","Warning","FEE_TYPE","CreatePool","match","params","currencyIdA","currencyIdB","history","account","chainId","library","theme","currencyA","currencyB","selectedFee","setSelectedFee","onlyStaticFee","includes","onlyDynamicFee","undefined","pairs","currencyAIsETHER","isNative","currencyAIsWETH","equals","currencyBIsETHER","currencyBIsWETH","toggleWalletModal","expertMode","STATIC","feeType","setFeeType","independentField","typedValue","otherTypedValue","dependentField","currencies","pair","pairState","currencyBalances","parsedAmounts","price","noLiquidity","poolTokenPercentage","error","unAmplifiedPairAddress","nativeA","CURRENCY_A","nativeB","CURRENCY_B","amp","setAmp","onAmpChange","e","toString","length","poolsList","map","filter","isPoolExisted","ampConvertedInBps","BigInt","linkToUnamplifiedPool","equalTo","onFieldAInput","onFieldBInput","isValid","showConfirm","setShowConfirm","attemptingTxn","setAttemptingTxn","deadline","allowedSlippage","txHash","setTxHash","formattedAmounts","toSignificant","maxAmounts","reduce","accumulator","field","routerAddress","classic","static","router","dynamic","approvalA","approveACallback","approvalB","approveBCallback","addTransactionWithType","addPair","onAdd","parsedAmountA","parsedAmountB","amountsMin","tokenBIsETH","estimate","estimateGas","addLiquidityNewPoolETH","method","args","wrapped","address","quotient","toHexString","value","from","addLiquidityNewPool","console","log","then","estimatedGasLimit","gasLimit","response","cA","cB","type","summary","symbol","arbitrary","token_1","token_2","hash","tA","tB","catch","code","modalHeader","modalBottom","pendingText","isWrappedTokenInPool","currency","selectedCurrency","handleCurrencyASelect","selectedCurrencyA","newCurrencyIdA","push","handleCurrencyBSelect","selectedCurrencyB","newCurrencyIdB","handleDismissConfirmation","tokens","usdPrices","marketPrices","poolRatio","Number","marketRatio","showSanityPriceWarning","Math","abs","mixpanelHandler","CLASSIC_CREATE_POOL","CREATE","CREATE_POOL_LINK_SHARED","text","toExact","divide","text2","INVALID","subText","height","background","buttonBlack","name","fee","title","yellow2","NOT_APPROVED","PENDING","APPROVED"],"sources":["/Applications/XAMPP/voxel-interface/src/pages/CreatePool/index.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { TransactionResponse } from '@ethersproject/providers'\nimport { ChainId, Currency, Fraction, TokenAmount, WETH } from '@kyberswap/ks-sdk-core'\nimport { Trans, t } from '@lingui/macro'\nimport { parseUnits } from 'ethers/lib/utils'\nimport JSBI from 'jsbi'\nimport React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { AlertTriangle, Plus } from 'react-feather'\nimport { Link, RouteComponentProps } from 'react-router-dom'\nimport { Flex, Text } from 'rebass'\n\nimport { ConfirmAddModalBottom } from 'components/ConfirmAddModalBottom'\nimport Loader from 'components/Loader'\nimport { PoolPriceBar, PoolPriceRangeBarToggle } from 'components/PoolPriceBar'\nimport QuestionHelper from 'components/QuestionHelper'\nimport { TutorialType } from 'components/Tutorial'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { nativeOnChain } from 'constants/tokens'\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\nimport useTheme from 'hooks/useTheme'\nimport useTokensMarketPrice from 'hooks/useTokensMarketPrice'\nimport { useDerivedPairInfo } from 'state/pair/hooks'\nimport { feeRangeCalc, useCurrencyConvertedToNative } from 'utils/dmm'\nimport isZero from 'utils/isZero'\n\nimport { ButtonError, ButtonLight, ButtonPrimary } from '../../components/Button'\nimport { BlueCard, LightCard } from '../../components/Card'\nimport { AutoColumn, ColumnCenter } from '../../components/Column'\nimport CurrencyInputPanel from '../../components/CurrencyInputPanel'\nimport { AddRemoveTabs, LiquidityAction } from '../../components/NavigationTabs'\nimport Row, { AutoRow, RowBetween, RowFlat } from '../../components/Row'\nimport TransactionConfirmationModal, { ConfirmationModalContent } from '../../components/TransactionConfirmationModal'\nimport {\n  CREATE_POOL_AMP_HINT,\n  ONLY_DYNAMIC_FEE_CHAINS,\n  ONLY_STATIC_FEE_CHAINS,\n  STATIC_FEE_OPTIONS,\n} from '../../constants'\nimport { PairState } from '../../data/Reserves'\nimport { useActiveWeb3React } from '../../hooks'\nimport { useCurrency } from '../../hooks/Tokens'\nimport { ApprovalState, useApproveCallback } from '../../hooks/useApproveCallback'\nimport useTransactionDeadline from '../../hooks/useTransactionDeadline'\nimport { useTokensPrice, useWalletModalToggle } from '../../state/application/hooks'\nimport { Field } from '../../state/mint/actions'\nimport { useDerivedMintInfo, useMintActionHandlers, useMintState } from '../../state/mint/hooks'\nimport { useTransactionAdder } from '../../state/transactions/hooks'\nimport { useIsExpertMode, usePairAdderByTokens, useUserSlippageTolerance } from '../../state/user/hooks'\nimport { StyledInternalLink, TYPE } from '../../theme'\nimport {\n  calculateGasMargin,\n  calculateSlippageAmount,\n  formattedNum,\n  getDynamicFeeRouterContract,\n  getStaticFeeRouterContract,\n} from '../../utils'\nimport { currencyId } from '../../utils/currencyId'\nimport { maxAmountSpend } from '../../utils/maxAmountSpend'\nimport { Dots, Wrapper } from '../Pool/styleds'\nimport FeeTypeSelector from './FeeTypeSelector'\nimport StaticFeeSelector from './StaticFeeSelector'\nimport {\n  AMPColumn,\n  ActiveText,\n  Container,\n  GridColumn,\n  NumericalInput2,\n  PageWrapper,\n  Section,\n  TokenColumn,\n  USDPrice,\n  Warning,\n} from './styled'\n\nexport enum FEE_TYPE {\n  STATIC = 'static',\n  DYNAMIC = 'dynamic',\n}\n\nexport default function CreatePool({\n  match: {\n    params: { currencyIdA, currencyIdB },\n  },\n  history,\n}: RouteComponentProps<{ currencyIdA?: string; currencyIdB?: string }>) {\n  const { account, chainId, library } = useActiveWeb3React()\n  const theme = useTheme()\n  const currencyA = useCurrency(currencyIdA)\n  const currencyB = useCurrency(currencyIdB)\n  const [selectedFee, setSelectedFee] = useState(STATIC_FEE_OPTIONS[chainId as ChainId]?.[0])\n\n  const onlyStaticFee = !!chainId && ONLY_STATIC_FEE_CHAINS.includes(chainId)\n  const onlyDynamicFee = !!chainId && ONLY_DYNAMIC_FEE_CHAINS.includes(chainId)\n\n  const { pairs } = useDerivedPairInfo(currencyA ?? undefined, currencyB ?? undefined)\n\n  const currencyAIsETHER = !!(chainId && currencyA && currencyA.isNative)\n  const currencyAIsWETH = !!(chainId && currencyA && currencyA.equals(WETH[chainId]))\n  const currencyBIsETHER = !!(chainId && currencyB && currencyB.isNative)\n  const currencyBIsWETH = !!(chainId && currencyB && currencyB.equals(WETH[chainId]))\n\n  const toggleWalletModal = useWalletModalToggle() // toggle wallet when disconnected\n\n  const expertMode = useIsExpertMode()\n\n  // fee types\n  const [feeType, setFeeType] = useState<string>(FEE_TYPE.STATIC)\n\n  // mint state\n  const { independentField, typedValue, otherTypedValue } = useMintState()\n  const {\n    dependentField,\n    currencies,\n    pair,\n    pairState,\n    currencyBalances,\n    parsedAmounts,\n    price,\n    noLiquidity,\n    poolTokenPercentage,\n    error,\n    unAmplifiedPairAddress,\n  } = useDerivedMintInfo(\n    currencyA ?? undefined,\n    currencyB ?? undefined,\n    undefined,\n    !onlyDynamicFee && feeType === FEE_TYPE.STATIC,\n  )\n  const nativeA = useCurrencyConvertedToNative(currencies[Field.CURRENCY_A])\n  const nativeB = useCurrencyConvertedToNative(currencies[Field.CURRENCY_B])\n\n  const [amp, setAmp] = useState('')\n  const onAmpChange = (e: any) => {\n    if (e.toString().length < 20) setAmp(e)\n  }\n\n  const poolsList = useMemo(() => pairs.map(([, pair]) => pair).filter(pair => pair !== null), [pairs])\n  const isPoolExisted = poolsList.length > 0\n\n  const ampConvertedInBps = !!amp.toString()\n    ? new Fraction(JSBI.BigInt(parseUnits(amp.toString() || '1', 20)), JSBI.BigInt(parseUnits('1', 16)))\n    : undefined\n\n  const linkToUnamplifiedPool =\n    !!ampConvertedInBps &&\n    ampConvertedInBps.equalTo(JSBI.BigInt(10000)) &&\n    !!unAmplifiedPairAddress &&\n    !isZero(unAmplifiedPairAddress)\n  const { onFieldAInput, onFieldBInput } = useMintActionHandlers(noLiquidity)\n\n  const isValid = !(error || (+amp < 1 ? 'Enter amp (>=1)' : ''))\n\n  // modal and loading\n  const [showConfirm, setShowConfirm] = useState<boolean>(false)\n  const [attemptingTxn, setAttemptingTxn] = useState<boolean>(false) // clicked confirm\n  // txn values\n  const deadline = useTransactionDeadline() // custom from users settings\n  const [allowedSlippage] = useUserSlippageTolerance() // custom from users\n  const [txHash, setTxHash] = useState<string>('')\n\n  // get formatted amounts\n  const formattedAmounts = {\n    [independentField]: typedValue,\n    [dependentField]: noLiquidity ? otherTypedValue : parsedAmounts[dependentField]?.toSignificant(6) ?? '',\n  }\n\n  // get the max amounts user can add\n  const maxAmounts: { [field in Field]?: TokenAmount } = [Field.CURRENCY_A, Field.CURRENCY_B].reduce(\n    (accumulator, field) => {\n      return {\n        ...accumulator,\n        [field]: maxAmountSpend(currencyBalances[field]),\n      }\n    },\n    {},\n  )\n\n  const routerAddress = useMemo(() => {\n    if (!chainId) return\n    if (ONLY_STATIC_FEE_CHAINS.includes(chainId)) return NETWORKS_INFO[chainId].classic.static.router\n    if (ONLY_DYNAMIC_FEE_CHAINS.includes(chainId)) return NETWORKS_INFO[chainId].classic.dynamic?.router\n    if (feeType === FEE_TYPE.STATIC) {\n      return NETWORKS_INFO[chainId].classic.static.router\n    } else {\n      return NETWORKS_INFO[chainId].classic.dynamic?.router\n    }\n  }, [chainId, feeType])\n\n  // check whether the user has approved the router on the tokens\n  const [approvalA, approveACallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_A], routerAddress)\n  const [approvalB, approveBCallback] = useApproveCallback(parsedAmounts[Field.CURRENCY_B], routerAddress)\n\n  const addTransactionWithType = useTransactionAdder()\n  const addPair = usePairAdderByTokens()\n\n  async function onAdd() {\n    // if (!pair) return\n    if (!chainId || !library || !account) return\n\n    const router =\n      feeType === FEE_TYPE.STATIC && !onlyDynamicFee\n        ? getStaticFeeRouterContract(chainId, library, account)\n        : getDynamicFeeRouterContract(chainId, library, account)\n\n    const { [Field.CURRENCY_A]: parsedAmountA, [Field.CURRENCY_B]: parsedAmountB } = parsedAmounts\n    if (!parsedAmountA || !parsedAmountB || !currencyA || !currencyB || !deadline) {\n      return\n    }\n\n    const amountsMin = {\n      [Field.CURRENCY_A]: calculateSlippageAmount(parsedAmountA, noLiquidity ? 0 : allowedSlippage)[0],\n      [Field.CURRENCY_B]: calculateSlippageAmount(parsedAmountB, noLiquidity ? 0 : allowedSlippage)[0],\n    }\n    let estimate,\n      method: (...args: any) => Promise<TransactionResponse>,\n      args: Array<string | string[] | number>,\n      value: BigNumber | null\n\n    if (!ampConvertedInBps) return\n    if (currencyA.isNative || currencyB.isNative) {\n      const tokenBIsETH = currencyB.isNative\n      estimate = router.estimateGas.addLiquidityNewPoolETH\n      method = router.addLiquidityNewPoolETH\n      args = [\n        (tokenBIsETH ? currencyA?.wrapped : currencyB?.wrapped).address ?? '', // token\n        feeType === FEE_TYPE.STATIC && !onlyDynamicFee\n          ? [ampConvertedInBps.toSignificant(5), selectedFee?.toString() ?? '']\n          : ampConvertedInBps.toSignificant(5), //ampBps\n        (tokenBIsETH ? parsedAmountA : parsedAmountB).quotient.toString(), // token desired\n        amountsMin[tokenBIsETH ? Field.CURRENCY_A : Field.CURRENCY_B].toString(), // token min\n        amountsMin[tokenBIsETH ? Field.CURRENCY_B : Field.CURRENCY_A].toString(), // eth min\n        account,\n        deadline.toHexString(),\n      ]\n      value = BigNumber.from((tokenBIsETH ? parsedAmountB : parsedAmountA).quotient.toString())\n    } else {\n      estimate = router.estimateGas.addLiquidityNewPool\n      method = router.addLiquidityNewPool\n      args = [\n        currencyA?.wrapped.address ?? '',\n        currencyB?.wrapped.address ?? '',\n        feeType === FEE_TYPE.STATIC && !onlyDynamicFee\n          ? [ampConvertedInBps.toSignificant(5), selectedFee?.toString() ?? '']\n          : ampConvertedInBps.toSignificant(5), //ampBps\n        parsedAmountA.quotient.toString(),\n        parsedAmountB.quotient.toString(),\n        amountsMin[Field.CURRENCY_A].toString(),\n        amountsMin[Field.CURRENCY_B].toString(),\n        account,\n        deadline.toHexString(),\n      ]\n      value = null\n    }\n    console.log(args)\n    setAttemptingTxn(true)\n    await estimate(...args, value ? { value } : {})\n      .then(estimatedGasLimit => {\n        method(...args, {\n          ...(value ? { value } : {}),\n          gasLimit: calculateGasMargin(estimatedGasLimit),\n        })\n          .then(response => {\n            const cA = currencies[Field.CURRENCY_A]\n            const cB = currencies[Field.CURRENCY_B]\n            if (!!cA && !!cB) {\n              setAttemptingTxn(false)\n              addTransactionWithType(response, {\n                type: 'Create pool',\n                summary:\n                  parsedAmounts[Field.CURRENCY_A]?.toSignificant(6) +\n                  ' ' +\n                  cA.symbol +\n                  ' and ' +\n                  parsedAmounts[Field.CURRENCY_B]?.toSignificant(6) +\n                  ' ' +\n                  cB.symbol,\n                arbitrary: {\n                  token_1: cA.symbol,\n                  token_2: cB.symbol,\n                  amp,\n                },\n              })\n              setTxHash(response.hash)\n              const tA = cA.wrapped\n              const tB = cB.wrapped\n              if (!!tA && !!tB) {\n                // In case subgraph sync is slow, doing this will show the pool in \"My Pools\" page.\n                addPair(tA, tB)\n              }\n            }\n          })\n          .catch(error => {\n            setAttemptingTxn(false)\n            setShowConfirm(false)\n            // we only care if the error is something _other_ than the user rejected the tx\n            if (error?.code !== 4001) {\n              console.error(error)\n            }\n          })\n      })\n      .catch(error => {\n        setAttemptingTxn(false)\n        setShowConfirm(false)\n        // we only care if the error is something _other_ than the user rejected the tx\n        if (error?.code !== 4001) {\n          console.error(error)\n        }\n      })\n  }\n\n  const modalHeader = () => {\n    return (\n      <AutoColumn gap=\"5px\">\n        <RowFlat>\n          <Text fontSize=\"24px\" fontWeight={500} lineHeight=\"42px\" marginRight={10}>\n            {nativeA?.symbol + '/' + nativeB?.symbol}\n          </Text>\n        </RowFlat>\n      </AutoColumn>\n    )\n  }\n\n  const modalBottom = () => {\n    return (\n      <ConfirmAddModalBottom\n        pair={pair}\n        price={price}\n        currencies={currencies}\n        parsedAmounts={parsedAmounts}\n        noLiquidity={true}\n        onAdd={onAdd}\n        poolTokenPercentage={poolTokenPercentage}\n        amplification={ampConvertedInBps}\n      />\n    )\n  }\n\n  const pendingText = `Supplying ${parsedAmounts[Field.CURRENCY_A]?.toSignificant(6)} ${\n    nativeA?.symbol\n  } and ${parsedAmounts[Field.CURRENCY_B]?.toSignificant(6)} ${nativeB?.symbol}`\n\n  const isWrappedTokenInPool = useCallback(\n    (currency: Currency | null | undefined, selectedCurrency: Currency) => {\n      return (\n        chainId &&\n        currency &&\n        ((currency.isNative && selectedCurrency.equals(WETH[chainId])) ||\n          (currency.equals(WETH[chainId]) && selectedCurrency.isNative))\n      )\n    },\n    [chainId],\n  )\n  const handleCurrencyASelect = useCallback(\n    (selectedCurrencyA: Currency) => {\n      const newCurrencyIdA = currencyId(selectedCurrencyA, chainId)\n\n      // support WETH\n      if (isWrappedTokenInPool(currencyA, selectedCurrencyA)) {\n        history.push(`/create/${newCurrencyIdA}/${currencyIdB}`)\n      } else if (newCurrencyIdA === currencyIdB) {\n        history.push(`/create/${currencyIdB}/${currencyIdA}`)\n      } else {\n        history.push(`/create/${newCurrencyIdA}/${currencyIdB}`)\n      }\n    },\n    [currencyIdB, history, currencyIdA, isWrappedTokenInPool, currencyA, chainId],\n  )\n  const handleCurrencyBSelect = useCallback(\n    (selectedCurrencyB: Currency) => {\n      const newCurrencyIdB = currencyId(selectedCurrencyB, chainId)\n\n      if (isWrappedTokenInPool(currencyB, selectedCurrencyB)) {\n        history.push(`/create/${currencyIdA}/${newCurrencyIdB}`)\n      } else if (newCurrencyIdB === currencyIdA) {\n        if (currencyIdB) {\n          history.push(`/create/${currencyIdB}/${currencyIdA}`)\n        } else {\n          history.push(`/create/${newCurrencyIdB}`)\n        }\n      } else {\n        history.push(`/create/${currencyIdA ? currencyIdA : 'ETH'}/${newCurrencyIdB}`)\n      }\n    },\n    [currencyIdA, history, currencyIdB, isWrappedTokenInPool, currencyB, chainId],\n  )\n\n  const handleDismissConfirmation = useCallback(() => {\n    setShowConfirm(false)\n    setAmp('')\n    // if there was a tx hash, we want to clear the input\n    if (txHash) {\n      onFieldAInput('')\n    }\n    setTxHash('')\n  }, [onFieldAInput, txHash])\n\n  // const realPercentToken0 = pair\n  //   ? pair.reserve0\n  //       .divide(pair.virtualReserve0)\n  //       .multiply('100')\n  //       .divide(pair.reserve0.divide(pair.virtualReserve0).add(pair.reserve1.divide(pair.virtualReserve1)))\n  //   : new Fraction(JSBI.BigInt(50))\n\n  // const realPercentToken1 = new Fraction(JSBI.BigInt(100), JSBI.BigInt(1)).subtract(realPercentToken0 as Fraction)\n\n  // const percentToken0 = realPercentToken0.toSignificant(4)\n  // const percentToken1 = realPercentToken1.toSignificant(4)\n\n  const tokens = useMemo(\n    () => [currencies[Field.CURRENCY_A], currencies[Field.CURRENCY_B]].map(currency => currency?.wrapped),\n    [currencies],\n  )\n\n  const usdPrices = useTokensPrice(tokens)\n  const marketPrices = useTokensMarketPrice(tokens)\n\n  const poolRatio = Number(price?.toSignificant(6))\n  const marketRatio = marketPrices[1] && marketPrices[0] / marketPrices[1]\n\n  const showSanityPriceWarning = !!(poolRatio && marketRatio && Math.abs(poolRatio - marketRatio) / marketRatio > 0.05)\n  const { mixpanelHandler } = useMixpanel()\n\n  useEffect(() => {\n    if (chainId) {\n      setSelectedFee(STATIC_FEE_OPTIONS[chainId]?.[0])\n    }\n  }, [chainId])\n\n  return (\n    <PageWrapper>\n      <Container>\n        <AddRemoveTabs\n          tutorialType={TutorialType.CLASSIC_CREATE_POOL}\n          action={LiquidityAction.CREATE}\n          onShared={() => {\n            mixpanelHandler(MIXPANEL_TYPE.CREATE_POOL_LINK_SHARED, {\n              token_1: nativeA?.symbol,\n              token_2: nativeB?.symbol,\n            })\n          }}\n        />\n        <Wrapper>\n          <TransactionConfirmationModal\n            isOpen={showConfirm}\n            onDismiss={handleDismissConfirmation}\n            attemptingTxn={attemptingTxn}\n            hash={txHash}\n            content={() =>\n              !linkToUnamplifiedPool ? (\n                <ConfirmationModalContent\n                  title={t`You are creating a pool`}\n                  onDismiss={handleDismissConfirmation}\n                  topContent={modalHeader}\n                  bottomContent={modalBottom}\n                />\n              ) : (\n                <ConfirmationModalContent\n                  title={t`Unamplified Pool existed`}\n                  onDismiss={handleDismissConfirmation}\n                  topContent={() => {\n                    return null\n                  }}\n                  bottomContent={() => {\n                    return (\n                      <>\n                        Please use the link below if you want to add liquidity to Unamplified Pool\n                        <StyledInternalLink\n                          onClick={handleDismissConfirmation}\n                          id=\"unamplified-pool-link\"\n                          to={`/add/${currencyIdA}/${currencyIdB}/${unAmplifiedPairAddress}`}\n                        >\n                          Go to unamplified pool\n                        </StyledInternalLink>\n                      </>\n                    )\n                  }}\n                />\n              )\n            }\n            pendingText={pendingText}\n          />\n          <AutoColumn gap=\"20px\">\n            <ColumnCenter>\n              <BlueCard>\n                <AutoColumn gap=\"10px\">\n                  {isPoolExisted && (\n                    <TYPE.link fontSize=\"14px\" lineHeight=\"22px\" color={'text1'} fontWeight=\"normal\">\n                      <Trans>Note: There are existing pools for this token pair. Please check</Trans>{' '}\n                      <Link to={`/pools/${currencyIdA}/${currencyIdB}`}>\n                        <Trans>here</Trans>\n                      </Link>\n                    </TYPE.link>\n                  )}\n                  <TYPE.link fontSize=\"14px\" lineHeight=\"22px\" color={theme.text} fontWeight=\"normal\">\n                    <Trans>\n                      You are creating a new pool and will be the first liquidity provider. The ratio of tokens you\n                      supply below will set the initial price of this pool. Once you are satisfied with the rate,\n                      proceed to supply liquidity.\n                    </Trans>\n                  </TYPE.link>\n                </AutoColumn>\n              </BlueCard>\n            </ColumnCenter>\n\n            <GridColumn>\n              <TokenColumn gap=\"20px\">\n                <ActiveText>Token</ActiveText>\n\n                <div>\n                  <CurrencyInputPanel\n                    positionMax=\"top\"\n                    value={formattedAmounts[Field.CURRENCY_A]}\n                    onUserInput={onFieldAInput}\n                    onMax={() => {\n                      onFieldAInput(maxAmounts[Field.CURRENCY_A]?.toExact() ?? '')\n                    }}\n                    onHalf={() => {\n                      onFieldAInput(currencyBalances[Field.CURRENCY_A]?.divide(2).toExact() ?? '')\n                    }}\n                    onCurrencySelect={handleCurrencyASelect}\n                    showMaxButton={true}\n                    currency={currencies[Field.CURRENCY_A]}\n                    id=\"create-pool-input-tokena\"\n                    disableCurrencySelect={false}\n                    showCommonBases\n                  />\n                  <Flex justifyContent=\"space-between\" alignItems=\"center\" marginTop=\"0.5rem\">\n                    <USDPrice>\n                      {usdPrices[0] ? (\n                        `1 ${nativeA?.symbol} = ${formattedNum(usdPrices[0].toString(), true)}`\n                      ) : (\n                        <Loader />\n                      )}\n                    </USDPrice>\n\n                    {chainId && (currencyAIsWETH || currencyAIsETHER) && (\n                      <StyledInternalLink\n                        replace\n                        to={`/create/${\n                          currencyAIsETHER\n                            ? currencyId(WETH[chainId], chainId)\n                            : currencyId(nativeOnChain(chainId), chainId)\n                        }/${currencyIdB}`}\n                      >\n                        {currencyAIsETHER ? <Trans>Use Wrapped Token</Trans> : <Trans>Use Native Token</Trans>}\n                      </StyledInternalLink>\n                    )}\n                  </Flex>\n                </div>\n                <ColumnCenter>\n                  <Plus size=\"16\" color={theme.text2} />\n                </ColumnCenter>\n                <div>\n                  <CurrencyInputPanel\n                    positionMax=\"top\"\n                    value={formattedAmounts[Field.CURRENCY_B]}\n                    onUserInput={onFieldBInput}\n                    onCurrencySelect={handleCurrencyBSelect}\n                    onMax={() => {\n                      onFieldBInput(maxAmounts[Field.CURRENCY_B]?.toExact() ?? '')\n                    }}\n                    onHalf={() => {\n                      onFieldBInput(currencyBalances[Field.CURRENCY_B]?.divide(2).toExact() ?? '')\n                    }}\n                    showMaxButton={true}\n                    currency={currencies[Field.CURRENCY_B]}\n                    disableCurrencySelect={false}\n                    id=\"create-pool-input-tokenb\"\n                    showCommonBases\n                  />\n                  <Flex justifyContent=\"space-between\" alignItems=\"center\" marginTop=\"0.5rem\">\n                    <USDPrice>\n                      {usdPrices[1] ? (\n                        `1 ${nativeB?.symbol} = ${formattedNum(usdPrices[1].toString(), true)}`\n                      ) : (\n                        <Loader />\n                      )}\n                    </USDPrice>\n\n                    {chainId && (currencyBIsWETH || currencyBIsETHER) && (\n                      <StyledInternalLink\n                        replace\n                        to={`/create/${currencyIdA}/${\n                          currencyBIsETHER\n                            ? currencyId(WETH[chainId], chainId)\n                            : currencyId(nativeOnChain(chainId), chainId)\n                        }`}\n                      >\n                        {currencyBIsETHER ? <Trans>Use Wrapped Token</Trans> : <Trans>Use Native Token</Trans>}\n                      </StyledInternalLink>\n                    )}\n                  </Flex>\n                </div>\n\n                {currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && (\n                  <Section padding=\"0px\" borderRadius={'20px'}>\n                    <Row padding=\"0 0 1rem 0\">\n                      <TYPE.subHeader fontWeight={500} fontSize={14} color={theme.subText}>\n                        <Trans>Prices and Pool share</Trans>\n                      </TYPE.subHeader>\n                    </Row>\n\n                    <PoolPriceBar\n                      currencies={currencies}\n                      poolTokenPercentage={poolTokenPercentage}\n                      noLiquidity={noLiquidity}\n                      price={price}\n                      pair={pair}\n                    />\n                  </Section>\n                )}\n              </TokenColumn>\n\n              <AMPColumn gap=\"20px\" style={{ height: 'fit-content' }}>\n                <AutoRow>\n                  <ActiveText>\n                    AMP\n                    {!!pair ? (\n                      <>\n                        &nbsp;=&nbsp;{new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5)}\n                      </>\n                    ) : (\n                      ''\n                    )}\n                  </ActiveText>\n                  <QuestionHelper text={CREATE_POOL_AMP_HINT} />\n                </AutoRow>\n\n                <LightCard padding=\"0 0.75rem\" borderRadius={'10px'} style={{ background: theme.buttonBlack }}>\n                  <NumericalInput2 className=\"token-amount-input\" value={amp} onUserInput={onAmpChange} />\n                </LightCard>\n\n                {currencies[Field.CURRENCY_A] && currencies[Field.CURRENCY_B] && pairState !== PairState.INVALID && (\n                  <PoolPriceRangeBarToggle\n                    pair={pair}\n                    currencies={currencies}\n                    price={price}\n                    amplification={ampConvertedInBps}\n                  />\n                )}\n                {/* <StaticFeeSelector\n                      active={staticFee.toString()}\n                      onChange={(name: string) => setStaticFee(name)}\n                      options={FEE_OPTIONS[chainId].map((fee: number) => {\n                        return { name: fee.toString(), title: (fee / 100).toString() + '%' }\n                      })}\n                    /> */}\n\n                {chainId &&\n                  (onlyStaticFee ? (\n                    <>\n                      <AutoRow>\n                        <ActiveText>Fee</ActiveText>\n                        <QuestionHelper\n                          text={t`You can select the appropriate fee tier for your pool. For each trade that uses this liquidity pool, liquidity providers will earn this trading fee.`}\n                        />\n                      </AutoRow>\n                      <StaticFeeSelector\n                        active={selectedFee}\n                        onChange={(name: number) => setSelectedFee(name)}\n                        options={\n                          STATIC_FEE_OPTIONS[chainId]?.map((fee: number) => {\n                            return { name: fee, title: (fee / 1000).toString() + '%' }\n                          }) || []\n                        }\n                      />\n                    </>\n                  ) : onlyDynamicFee ? (\n                    <Section>\n                      <AutoRow>\n                        <Text fontWeight={500} fontSize={14} color={theme.subText}>\n                          <Trans>Dynamic Fee Range</Trans>:{' '}\n                          {currencies[Field.CURRENCY_A] &&\n                          currencies[Field.CURRENCY_B] &&\n                          pairState !== PairState.INVALID &&\n                          +amp >= 1\n                            ? feeRangeCalc(\n                                !!pair?.amp\n                                  ? +new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5)\n                                  : +amp,\n                              )\n                            : '-'}\n                        </Text>\n                        <QuestionHelper\n                          text={t`Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers.`}\n                        />\n                      </AutoRow>\n                    </Section>\n                  ) : (\n                    <>\n                      <FeeTypeSelector active={feeType} onChange={(type: string) => setFeeType(type)} />\n                      {feeType === FEE_TYPE.STATIC ? (\n                        <StaticFeeSelector\n                          active={selectedFee}\n                          onChange={(name: number) => setSelectedFee(name)}\n                          options={\n                            STATIC_FEE_OPTIONS[chainId]?.map((fee: number) => {\n                              return { name: fee, title: (fee / 1000).toString() + '%' }\n                            }) || []\n                          }\n                        />\n                      ) : (\n                        <Section>\n                          <AutoRow>\n                            <Text fontWeight={500} fontSize={14} color={theme.subText}>\n                              <Trans>Dynamic Fee Range</Trans>:{' '}\n                              {currencies[Field.CURRENCY_A] &&\n                              currencies[Field.CURRENCY_B] &&\n                              pairState !== PairState.INVALID &&\n                              +amp >= 1\n                                ? feeRangeCalc(\n                                    !!pair?.amp\n                                      ? +new Fraction(JSBI.BigInt(pair.amp)).divide(JSBI.BigInt(10000)).toSignificant(5)\n                                      : +amp,\n                                  )\n                                : '-'}\n                            </Text>\n                            <QuestionHelper\n                              text={t`Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers.`}\n                            />\n                          </AutoRow>\n                        </Section>\n                      )}\n                    </>\n                  ))}\n\n                {showSanityPriceWarning && (\n                  <Warning>\n                    <AlertTriangle color={theme.yellow2} />\n                    <Text fontSize=\"0.75rem\" marginLeft=\"0.75rem\">\n                      <Trans>The price is deviating quite a lot from that market price, please be careful!</Trans>\n                    </Text>\n                  </Warning>\n                )}\n\n                {!account ? (\n                  <ButtonLight onClick={toggleWalletModal}>\n                    <Trans>Connect Wallet</Trans>\n                  </ButtonLight>\n                ) : (\n                  <AutoColumn gap={'md'}>\n                    {(approvalA === ApprovalState.NOT_APPROVED ||\n                      approvalA === ApprovalState.PENDING ||\n                      approvalB === ApprovalState.NOT_APPROVED ||\n                      approvalB === ApprovalState.PENDING) &&\n                      isValid && (\n                        <RowBetween>\n                          {approvalA !== ApprovalState.APPROVED && (\n                            <ButtonPrimary\n                              onClick={approveACallback}\n                              disabled={approvalA === ApprovalState.PENDING}\n                              width={approvalB !== ApprovalState.APPROVED ? '48%' : '100%'}\n                            >\n                              {approvalA === ApprovalState.PENDING ? (\n                                <Dots>Approving {currencies[Field.CURRENCY_A]?.symbol}</Dots>\n                              ) : (\n                                'Approve ' + currencies[Field.CURRENCY_A]?.symbol\n                              )}\n                            </ButtonPrimary>\n                          )}\n                          {approvalB !== ApprovalState.APPROVED && (\n                            <ButtonPrimary\n                              onClick={approveBCallback}\n                              disabled={approvalB === ApprovalState.PENDING}\n                              width={approvalA !== ApprovalState.APPROVED ? '48%' : '100%'}\n                            >\n                              {approvalB === ApprovalState.PENDING ? (\n                                <Dots>Approving {currencies[Field.CURRENCY_B]?.symbol}</Dots>\n                              ) : (\n                                'Approve ' + currencies[Field.CURRENCY_B]?.symbol\n                              )}\n                            </ButtonPrimary>\n                          )}\n                        </RowBetween>\n                      )}\n\n                    <ButtonError\n                      onClick={() => {\n                        expertMode && !linkToUnamplifiedPool ? onAdd() : setShowConfirm(true)\n                      }}\n                      disabled={\n                        !isValid ||\n                        approvalA !== ApprovalState.APPROVED ||\n                        approvalB !== ApprovalState.APPROVED ||\n                        (feeType === FEE_TYPE.STATIC ? !selectedFee : false)\n                      }\n                      error={\n                        !isValid &&\n                        !!parsedAmounts[Field.CURRENCY_A] &&\n                        !!parsedAmounts[Field.CURRENCY_B] &&\n                        !!(+amp < 1)\n                      }\n                    >\n                      <Text fontSize={16} fontWeight={500}>\n                        {error ??\n                          (+amp < 1\n                            ? t`Enter amp (>=1)`\n                            : feeType === FEE_TYPE.STATIC && !selectedFee\n                            ? t`Please select fee`\n                            : t`Create`)}\n                      </Text>\n                    </ButtonError>\n                  </AutoColumn>\n                )}\n              </AMPColumn>\n            </GridColumn>\n          </AutoColumn>\n        </Wrapper>\n      </Container>\n    </PageWrapper>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}