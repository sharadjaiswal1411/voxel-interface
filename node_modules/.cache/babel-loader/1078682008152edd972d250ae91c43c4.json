{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/PoolList/ItemCard/ItemCardGroup.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport React, { useState } from 'react';\nimport { ChevronDown } from 'react-feather';\nimport { Flex, Text } from 'rebass';\nimport DoubleCurrencyLogo from 'components/DoubleLogo';\nimport ItemCard from 'components/PoolList/ItemCard/index';\nimport { DashedDivider, ItemCardGroupContainer, TextShowMorePools } from 'components/PoolList/styled';\nimport { useActiveWeb3React } from 'hooks';\nimport useTheme from 'hooks/useTheme';\nimport { ButtonIcon } from 'pages/Pools/styleds';\nimport { parseSubgraphPoolData } from 'utils/dmm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ItemCardGroup = function ItemCardGroup(_ref) {\n  _s();\n\n  var _sortedFilteredSubgra;\n\n  var sortedFilteredSubgraphPoolsObject = _ref.sortedFilteredSubgraphPoolsObject,\n      poolData = _ref.poolData,\n      userLiquidityPositions = _ref.userLiquidityPositions,\n      expandedPoolKey = _ref.expandedPoolKey,\n      setExpandedPoolKey = _ref.setExpandedPoolKey;\n  var poolKey = poolData.token0.id + '-' + poolData.token1.id;\n  var isShowTwoPools = poolKey === expandedPoolKey;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isShowAllPools = _useState2[0],\n      setIsShowAllPools = _useState2[1];\n\n  var expandedPools = (_sortedFilteredSubgra = sortedFilteredSubgraphPoolsObject.get(poolKey)) !== null && _sortedFilteredSubgra !== void 0 ? _sortedFilteredSubgra : [];\n  var renderPools = isShowTwoPools ? isShowAllPools ? expandedPools : expandedPools.slice(0, 2) : [poolData];\n  var isDisableShowAllPools = expandedPools.length <= 1;\n\n  var onUpdateExpandedPoolKeyAndShowAllPools = function onUpdateExpandedPoolKeyAndShowAllPools() {\n    if (isDisableShowAllPools) return;\n    setExpandedPoolKey(function (prev) {\n      return prev === poolKey ? '' : poolKey;\n    });\n    setIsShowAllPools(function (prev) {\n      return !prev;\n    });\n  };\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var _parseSubgraphPoolDat = parseSubgraphPoolData(poolData, chainId),\n      currency0 = _parseSubgraphPoolDat.currency0,\n      currency1 = _parseSubgraphPoolDat.currency1;\n\n  var theme = useTheme();\n  return /*#__PURE__*/_jsxDEV(ItemCardGroupContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      justifyContent: \"space-between\",\n      onClick: onUpdateExpandedPoolKeyAndShowAllPools,\n      style: {\n        cursor: isDisableShowAllPools ? 'default' : 'pointer'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        children: [/*#__PURE__*/_jsxDEV(DoubleCurrencyLogo, {\n          currency0: currency0,\n          currency1: currency1,\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"20px\",\n          fontWeight: 500,\n          lineHeight: \"24px\",\n          children: [poolData.token0.symbol, \" - \", poolData.token1.symbol]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(ButtonIcon, {\n        disabled: isDisableShowAllPools,\n        children: /*#__PURE__*/_jsxDEV(ChevronDown, {\n          color: theme.subText,\n          style: {\n            transition: 'transform 0.2s',\n            transform: \"rotate(\".concat(isShowAllPools ? '-180deg' : 0, \")\")\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, _this), renderPools.map(function (poolData, index) {\n      return /*#__PURE__*/_jsxDEV(ItemCard, {\n        poolData: poolData,\n        myLiquidity: userLiquidityPositions[poolData.id],\n        isShowExpandedPools: isShowTwoPools,\n        isFirstPoolInGroup: index === 0,\n        isDisableShowTwoPools: isDisableShowAllPools\n      }, poolData.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this);\n    }), isShowAllPools && /*#__PURE__*/_jsxDEV(TextShowMorePools, {\n      disabled: isDisableShowAllPools,\n      onClick: onUpdateExpandedPoolKeyAndShowAllPools,\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Show less {0} - {1} pools\",\n        values: {\n          0: poolData.token0.symbol,\n          1: poolData.token1.symbol\n        }\n      }, void 0, false, void 0, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(DashedDivider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(ItemCardGroup, \"Inbs3iSoRg8EOjonCtXT9LFKTEg=\", false, function () {\n  return [useActiveWeb3React, useTheme];\n});\n\n_c = ItemCardGroup;\nexport default ItemCardGroup;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemCardGroup\");","map":{"version":3,"names":["React","useState","ChevronDown","Flex","Text","DoubleCurrencyLogo","ItemCard","DashedDivider","ItemCardGroupContainer","TextShowMorePools","useActiveWeb3React","useTheme","ButtonIcon","parseSubgraphPoolData","ItemCardGroup","sortedFilteredSubgraphPoolsObject","poolData","userLiquidityPositions","expandedPoolKey","setExpandedPoolKey","poolKey","token0","id","token1","isShowTwoPools","isShowAllPools","setIsShowAllPools","expandedPools","get","renderPools","slice","isDisableShowAllPools","length","onUpdateExpandedPoolKeyAndShowAllPools","prev","chainId","currency0","currency1","theme","cursor","symbol","subText","transition","transform","map","index"],"sources":["/Applications/XAMPP/voxel-interface/src/components/PoolList/ItemCard/ItemCardGroup.tsx"],"sourcesContent":["import { ChainId } from '@kyberswap/ks-sdk-core'\nimport { Trans } from '@lingui/macro'\nimport React, { useState } from 'react'\nimport { ChevronDown } from 'react-feather'\nimport { Flex, Text } from 'rebass'\n\nimport DoubleCurrencyLogo from 'components/DoubleLogo'\nimport ItemCard from 'components/PoolList/ItemCard/index'\nimport { ListItemGroupProps } from 'components/PoolList/ListItem'\nimport { DashedDivider, ItemCardGroupContainer, TextShowMorePools } from 'components/PoolList/styled'\nimport { useActiveWeb3React } from 'hooks'\nimport useTheme from 'hooks/useTheme'\nimport { ButtonIcon } from 'pages/Pools/styleds'\nimport { parseSubgraphPoolData } from 'utils/dmm'\n\nconst ItemCardGroup = ({\n  sortedFilteredSubgraphPoolsObject,\n  poolData,\n  userLiquidityPositions,\n  expandedPoolKey,\n  setExpandedPoolKey,\n}: ListItemGroupProps) => {\n  const poolKey = poolData.token0.id + '-' + poolData.token1.id\n\n  const isShowTwoPools = poolKey === expandedPoolKey\n\n  const [isShowAllPools, setIsShowAllPools] = useState(false)\n\n  const expandedPools = sortedFilteredSubgraphPoolsObject.get(poolKey) ?? []\n\n  const renderPools = isShowTwoPools ? (isShowAllPools ? expandedPools : expandedPools.slice(0, 2)) : [poolData]\n\n  const isDisableShowAllPools = expandedPools.length <= 1\n\n  const onUpdateExpandedPoolKeyAndShowAllPools = () => {\n    if (isDisableShowAllPools) return\n    setExpandedPoolKey(prev => (prev === poolKey ? '' : poolKey))\n    setIsShowAllPools(prev => !prev)\n  }\n\n  const { chainId } = useActiveWeb3React()\n\n  const { currency0, currency1 } = parseSubgraphPoolData(poolData, chainId as ChainId)\n\n  const theme = useTheme()\n\n  return (\n    <ItemCardGroupContainer>\n      <Flex\n        justifyContent=\"space-between\"\n        onClick={onUpdateExpandedPoolKeyAndShowAllPools}\n        style={{ cursor: isDisableShowAllPools ? 'default' : 'pointer' }}\n      >\n        <Flex>\n          <DoubleCurrencyLogo currency0={currency0} currency1={currency1} size={24} />\n          <Text fontSize=\"20px\" fontWeight={500} lineHeight=\"24px\">\n            {poolData.token0.symbol} - {poolData.token1.symbol}\n          </Text>\n        </Flex>\n\n        <ButtonIcon disabled={isDisableShowAllPools}>\n          <ChevronDown\n            color={theme.subText}\n            style={{ transition: 'transform 0.2s', transform: `rotate(${isShowAllPools ? '-180deg' : 0})` }}\n          />\n        </ButtonIcon>\n      </Flex>\n      {renderPools.map((poolData, index) => (\n        <ItemCard\n          key={poolData.id}\n          poolData={poolData}\n          myLiquidity={userLiquidityPositions[poolData.id]}\n          isShowExpandedPools={isShowTwoPools}\n          isFirstPoolInGroup={index === 0}\n          isDisableShowTwoPools={isDisableShowAllPools}\n        />\n      ))}\n      {isShowAllPools && (\n        <TextShowMorePools disabled={isDisableShowAllPools} onClick={onUpdateExpandedPoolKeyAndShowAllPools}>\n          <Trans>\n            Show less {poolData.token0.symbol} - {poolData.token1.symbol} pools\n          </Trans>\n        </TextShowMorePools>\n      )}\n      <DashedDivider />\n    </ItemCardGroupContainer>\n  )\n}\n\nexport default ItemCardGroup\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}