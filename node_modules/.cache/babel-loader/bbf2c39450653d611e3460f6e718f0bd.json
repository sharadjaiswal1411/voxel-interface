{"ast":null,"code":"import { useCallback, useEffect, useMemo, useRef } from 'react';\nexport default function useRafLoop(callback, initiallyActive) {\n  if (initiallyActive === void 0) {\n    initiallyActive = true;\n  }\n\n  var raf = useRef(null);\n  var rafActivity = useRef(false);\n  var rafCallback = useRef(callback);\n  rafCallback.current = callback;\n  var step = useCallback(function (time) {\n    if (rafActivity.current) {\n      rafCallback.current(time);\n      raf.current = requestAnimationFrame(step);\n    }\n  }, []);\n  var result = useMemo(function () {\n    return [function () {\n      // stop\n      if (rafActivity.current) {\n        rafActivity.current = false;\n        raf.current && cancelAnimationFrame(raf.current);\n      }\n    }, function () {\n      // start\n      if (!rafActivity.current) {\n        rafActivity.current = true;\n        raf.current = requestAnimationFrame(step);\n      }\n    }, function () {\n      return rafActivity.current;\n    }];\n  }, []);\n  useEffect(function () {\n    if (initiallyActive) {\n      result[1]();\n    }\n\n    return result[0]; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return result;\n}","map":null,"metadata":{},"sourceType":"module"}