{"ast":null,"code":"import _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$(),\n    _s8 = $RefreshSig$(),\n    _s9 = $RefreshSig$(),\n    _s10 = $RefreshSig$(),\n    _s11 = $RefreshSig$(),\n    _s12 = $RefreshSig$(),\n    _s13 = $RefreshSig$(),\n    _s14 = $RefreshSig$(),\n    _s15 = $RefreshSig$(),\n    _s16 = $RefreshSig$(),\n    _s17 = $RefreshSig$(),\n    _s18 = $RefreshSig$(),\n    _s19 = $RefreshSig$(),\n    _s20 = $RefreshSig$(),\n    _s21 = $RefreshSig$(),\n    _s22 = $RefreshSig$(),\n    _s23 = $RefreshSig$(),\n    _s24 = $RefreshSig$(),\n    _s25 = $RefreshSig$(),\n    _s26 = $RefreshSig$(),\n    _s27 = $RefreshSig$(),\n    _s28 = $RefreshSig$(),\n    _s29 = $RefreshSig$(),\n    _s30 = $RefreshSig$(),\n    _s31 = $RefreshSig$(),\n    _s32 = $RefreshSig$();\n\nimport { ChainId } from '@kyberswap/ks-sdk-core';\nimport dayjs from 'dayjs';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useDeepCompareEffect } from 'react-use';\nimport { ETH_PRICE, PROMM_ETH_PRICE, TOKEN_DERIVED_ETH } from 'apollo/queries';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { VERSION } from 'constants/v2';\nimport { getBlockFromTimestamp, getPercentChange } from 'utils';\nimport { KNC, OUTSITE_FARM_REWARDS_QUERY, ZERO_ADDRESS } from '../../constants';\nimport { useActiveWeb3React } from '../../hooks';\nimport { ApplicationModal, PopupType, addPopup, removePopup, setOpenModal, updateETHPrice, updateKNCPrice, updatePrommETHPrice } from './actions';\nexport function useBlockNumber() {\n  _s();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  return useSelector(function (state) {\n    return state.application.blockNumber[chainId !== null && chainId !== void 0 ? chainId : -1];\n  });\n}\n\n_s(useBlockNumber, \"C46/RZghgMHdh86Y84FTODgyC5k=\", false, function () {\n  return [useActiveWeb3React, useSelector];\n});\n\nexport function useModalOpen(modal) {\n  _s2();\n\n  var openModal = useSelector(function (state) {\n    return state.application.openModal;\n  });\n  return openModal === modal;\n}\n\n_s2(useModalOpen, \"lNw8PzNmspML00Mpnqc+IttixFg=\", false, function () {\n  return [useSelector];\n});\n\nexport function useToggleModal(modal) {\n  _s3();\n\n  var open = useModalOpen(modal);\n  var dispatch = useDispatch();\n  return useCallback(function () {\n    return dispatch(setOpenModal(open ? null : modal));\n  }, [dispatch, modal, open]);\n}\n\n_s3(useToggleModal, \"RwU3Pdh1/CQc2M8F2rzIAizlUl8=\", false, function () {\n  return [useModalOpen, useDispatch];\n});\n\nexport function useOpenModal(modal) {\n  _s4();\n\n  var dispatch = useDispatch();\n  return useCallback(function () {\n    return dispatch(setOpenModal(modal));\n  }, [dispatch, modal]);\n}\n\n_s4(useOpenModal, \"nhyv+fhSuBJ7yx/uYuCmtG3KTzU=\", false, function () {\n  return [useDispatch];\n});\n\nexport function useCloseModals() {\n  _s5();\n\n  var dispatch = useDispatch();\n  return useCallback(function () {\n    return dispatch(setOpenModal(null));\n  }, [dispatch]);\n}\n\n_s5(useCloseModals, \"nhyv+fhSuBJ7yx/uYuCmtG3KTzU=\", false, function () {\n  return [useDispatch];\n});\n\nexport function useNetworkModalToggle() {\n  _s6();\n\n  return useToggleModal(ApplicationModal.NETWORK);\n}\n\n_s6(useNetworkModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useWalletModalToggle() {\n  _s7();\n\n  return useToggleModal(ApplicationModal.WALLET);\n}\n\n_s7(useWalletModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleSettingsMenu() {\n  _s8();\n\n  return useToggleModal(ApplicationModal.SETTINGS);\n}\n\n_s8(useToggleSettingsMenu, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleTransactionSettingsMenu() {\n  _s9();\n\n  return useToggleModal(ApplicationModal.TRANSACTION_SETTINGS);\n}\n\n_s9(useToggleTransactionSettingsMenu, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useShowClaimPopup() {\n  _s10();\n\n  return useModalOpen(ApplicationModal.CLAIM_POPUP);\n}\n\n_s10(useShowClaimPopup, \"NCPTVo3XydqBS7V9yBAEVRBAx5w=\", false, function () {\n  return [useModalOpen];\n});\n\nexport function useToggleShowClaimPopup() {\n  _s11();\n\n  return useToggleModal(ApplicationModal.CLAIM_POPUP);\n}\n\n_s11(useToggleShowClaimPopup, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleSelfClaimModal() {\n  _s12();\n\n  return useToggleModal(ApplicationModal.SELF_CLAIM);\n}\n\n_s12(useToggleSelfClaimModal, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleDelegateModal() {\n  _s13();\n\n  return useToggleModal(ApplicationModal.DELEGATE);\n}\n\n_s13(useToggleDelegateModal, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleYourCampaignTransactionsModal() {\n  _s14();\n\n  return useToggleModal(ApplicationModal.YOUR_CAMPAIGN_TRANSACTIONS);\n}\n\n_s14(useToggleYourCampaignTransactionsModal, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleVoteModal() {\n  _s15();\n\n  return useToggleModal(ApplicationModal.VOTE);\n}\n\n_s15(useToggleVoteModal, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function usePoolDetailModalToggle() {\n  _s16();\n\n  return useToggleModal(ApplicationModal.POOL_DETAIL);\n}\n\n_s16(usePoolDetailModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useTrendingSoonSortingModalToggle() {\n  _s17();\n\n  return useToggleModal(ApplicationModal.TRENDING_SOON_SORTING);\n}\n\n_s17(useTrendingSoonSortingModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useSelectCampaignModalToggle() {\n  _s18();\n\n  return useToggleModal(ApplicationModal.SELECT_CAMPAIGN);\n}\n\n_s18(useSelectCampaignModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useRegisterCampaignCaptchaModalToggle() {\n  _s19();\n\n  return useToggleModal(ApplicationModal.REGISTER_CAMPAIGN_CAPTCHA);\n}\n\n_s19(useRegisterCampaignCaptchaModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useRegisterCampaignSuccessModalToggle() {\n  _s20();\n\n  return useToggleModal(ApplicationModal.REGISTER_CAMPAIGN_SUCCESS);\n}\n\n_s20(useRegisterCampaignSuccessModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useTrueSightNetworkModalToggle() {\n  _s21();\n\n  return useToggleModal(ApplicationModal.TRUESIGHT_NETWORK);\n}\n\n_s21(useTrueSightNetworkModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useTrendingSoonTokenDetailModalToggle() {\n  _s22();\n\n  return useToggleModal(ApplicationModal.TRENDING_SOON_TOKEN_DETAIL);\n}\n\n_s22(useTrendingSoonTokenDetailModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useTrueSightUnsubscribeModalToggle() {\n  _s23();\n\n  return useToggleModal(ApplicationModal.UNSUBSCRIBE_TRUESIGHT);\n}\n\n_s23(useTrueSightUnsubscribeModalToggle, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nexport function useToggleEthPowAckModal() {\n  _s24();\n\n  return useToggleModal(ApplicationModal.ETH_POW_ACK);\n} // returns a function that allows adding a popup\n\n_s24(useToggleEthPowAckModal, \"CunHD59oM6Hqt7aS0Nk/xoBmjcw=\", false, function () {\n  return [useToggleModal];\n});\n\nfunction useAddPopup() {\n  _s25();\n\n  var dispatch = useDispatch();\n  return useCallback(function (content, popupType, key, removeAfterMs) {\n    dispatch(addPopup({\n      content: content,\n      key: key,\n      popupType: popupType,\n      removeAfterMs: removeAfterMs\n    }));\n  }, [dispatch]);\n}\n\n_s25(useAddPopup, \"nhyv+fhSuBJ7yx/uYuCmtG3KTzU=\", false, function () {\n  return [useDispatch];\n});\n\nexport var NotificationType; // simple notify with text and description\n\n(function (NotificationType) {\n  NotificationType[NotificationType[\"SUCCESS\"] = 0] = \"SUCCESS\";\n  NotificationType[NotificationType[\"ERROR\"] = 1] = \"ERROR\";\n  NotificationType[NotificationType[\"WARNING\"] = 2] = \"WARNING\";\n})(NotificationType || (NotificationType = {}));\n\nexport var useNotify = function useNotify() {\n  _s26();\n\n  var addPopup = useAddPopup();\n  return useCallback(function (data) {\n    var removeAfterMs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 4000;\n    addPopup(data, PopupType.SIMPLE, data.title, removeAfterMs);\n  }, [addPopup]);\n}; // popup notify transaction\n\n_s26(useNotify, \"Q6Q+j44J9Avu2X98HAdAPsjXBU0=\", false, function () {\n  return [useAddPopup];\n});\n\nexport var useTransactionNotify = function useTransactionNotify() {\n  _s27();\n\n  var addPopup = useAddPopup();\n  return useCallback(function (data) {\n    addPopup(data, PopupType.TRANSACTION, data.hash);\n  }, [addPopup]);\n}; // returns a function that allows removing a popup via its key\n\n_s27(useTransactionNotify, \"Q6Q+j44J9Avu2X98HAdAPsjXBU0=\", false, function () {\n  return [useAddPopup];\n});\n\nexport function useRemovePopup() {\n  _s28();\n\n  var dispatch = useDispatch();\n  return useCallback(function (key) {\n    dispatch(removePopup({\n      key: key\n    }));\n  }, [dispatch]);\n} // get the list of active popups\n\n_s28(useRemovePopup, \"nhyv+fhSuBJ7yx/uYuCmtG3KTzU=\", false, function () {\n  return [useDispatch];\n});\n\nexport function useActivePopups() {\n  _s29();\n\n  var list = useSelector(function (state) {\n    return state.application.popupList;\n  });\n  return useMemo(function () {\n    return list.filter(function (item) {\n      return item.show;\n    });\n  }, [list]);\n}\n/**\n * Gets the current price  of ETH, 24 hour price, and % change between them\n */\n\n_s29(useActivePopups, \"t/LYxj5WXTmW6qHs0wQNFgTwv5Q=\", false, function () {\n  return [useSelector];\n});\n\nvar getEthPrice = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(chainId, apolloClient) {\n    var utcCurrentTime, utcOneDayBack, ethPrice, ethPriceOneDay, priceChangeETH, _result$data, _result$data$bundles$, _resultOneDay$data, _resultOneDay$data$bu, oneDayBlock, result, resultOneDay, currentPrice, oneDayBackPrice;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            utcCurrentTime = dayjs();\n            utcOneDayBack = utcCurrentTime.subtract(1, 'day').startOf('minute').unix();\n            ethPrice = 0;\n            ethPriceOneDay = 0;\n            priceChangeETH = 0;\n            _context.prev = 5;\n            _context.next = 8;\n            return getBlockFromTimestamp(utcOneDayBack, chainId);\n\n          case 8:\n            oneDayBlock = _context.sent;\n            _context.next = 11;\n            return apolloClient.query({\n              query: ETH_PRICE(),\n              fetchPolicy: 'network-only'\n            });\n\n          case 11:\n            result = _context.sent;\n            _context.next = 14;\n            return apolloClient.query({\n              query: ETH_PRICE(oneDayBlock),\n              fetchPolicy: 'network-only'\n            });\n\n          case 14:\n            resultOneDay = _context.sent;\n            currentPrice = result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : (_result$data$bundles$ = _result$data.bundles[0]) === null || _result$data$bundles$ === void 0 ? void 0 : _result$data$bundles$.ethPrice;\n            oneDayBackPrice = resultOneDay === null || resultOneDay === void 0 ? void 0 : (_resultOneDay$data = resultOneDay.data) === null || _resultOneDay$data === void 0 ? void 0 : (_resultOneDay$data$bu = _resultOneDay$data.bundles[0]) === null || _resultOneDay$data$bu === void 0 ? void 0 : _resultOneDay$data$bu.ethPrice;\n            priceChangeETH = getPercentChange(currentPrice, oneDayBackPrice);\n            ethPrice = currentPrice;\n            ethPriceOneDay = oneDayBackPrice;\n            _context.next = 25;\n            break;\n\n          case 22:\n            _context.prev = 22;\n            _context.t0 = _context[\"catch\"](5);\n            console.log(_context.t0);\n\n          case 25:\n            return _context.abrupt(\"return\", [ethPrice, ethPriceOneDay, priceChangeETH]);\n\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[5, 22]]);\n  }));\n\n  return function getEthPrice(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getPrommEthPrice = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(chainId, apolloClient) {\n    var utcCurrentTime, utcOneDayBack, ethPrice, ethPriceOneDay, priceChangeETH, _result$data2, _result$data2$bundles, _resultOneDay$data2, _resultOneDay$data2$b, oneDayBlock, result, resultOneDay, currentPrice, oneDayBackPrice;\n\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            utcCurrentTime = dayjs();\n            utcOneDayBack = utcCurrentTime.subtract(1, 'day').startOf('minute').unix();\n            ethPrice = 0;\n            ethPriceOneDay = 0;\n            priceChangeETH = 0;\n            _context2.prev = 5;\n            _context2.next = 8;\n            return getBlockFromTimestamp(utcOneDayBack, chainId);\n\n          case 8:\n            oneDayBlock = _context2.sent;\n            _context2.next = 11;\n            return apolloClient.query({\n              query: PROMM_ETH_PRICE(),\n              fetchPolicy: 'network-only'\n            });\n\n          case 11:\n            result = _context2.sent;\n            _context2.next = 14;\n            return apolloClient.query({\n              query: PROMM_ETH_PRICE(oneDayBlock),\n              fetchPolicy: 'network-only'\n            });\n\n          case 14:\n            resultOneDay = _context2.sent;\n            currentPrice = result === null || result === void 0 ? void 0 : (_result$data2 = result.data) === null || _result$data2 === void 0 ? void 0 : (_result$data2$bundles = _result$data2.bundles[0]) === null || _result$data2$bundles === void 0 ? void 0 : _result$data2$bundles.ethPriceUSD;\n            oneDayBackPrice = resultOneDay === null || resultOneDay === void 0 ? void 0 : (_resultOneDay$data2 = resultOneDay.data) === null || _resultOneDay$data2 === void 0 ? void 0 : (_resultOneDay$data2$b = _resultOneDay$data2.bundles[0]) === null || _resultOneDay$data2$b === void 0 ? void 0 : _resultOneDay$data2$b.ethPriceUSD;\n            priceChangeETH = getPercentChange(currentPrice, oneDayBackPrice);\n            ethPrice = currentPrice;\n            ethPriceOneDay = oneDayBackPrice;\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t0 = _context2[\"catch\"](5);\n            console.log(_context2.t0);\n\n          case 25:\n            return _context2.abrupt(\"return\", [ethPrice, ethPriceOneDay, priceChangeETH]);\n\n          case 26:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[5, 22]]);\n  }));\n\n  return function getPrommEthPrice(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport function useETHPrice() {\n  _s30();\n\n  var version = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : VERSION.CLASSIC;\n  var dispatch = useDispatch();\n\n  var _useActiveWeb3React2 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React2.chainId;\n\n  var apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient;\n  var ethPrice = useSelector(function (state) {\n    return version === VERSION.ELASTIC ? state.application.prommEthPrice : state.application.ethPrice;\n  });\n  useEffect(function () {\n    var apolloProMMClient = NETWORKS_INFO[chainId || ChainId.MAINNET].elasticClient;\n\n    function checkForEthPrice() {\n      return _checkForEthPrice.apply(this, arguments);\n    }\n\n    function _checkForEthPrice() {\n      _checkForEthPrice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _yield, _yield2, newPrice, oneDayBackPrice, pricePercentChange;\n\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return version === VERSION.ELASTIC && apolloProMMClient ? getPrommEthPrice(chainId, apolloProMMClient) : getEthPrice(chainId, apolloClient);\n\n              case 2:\n                _yield = _context3.sent;\n                _yield2 = _slicedToArray(_yield, 3);\n                newPrice = _yield2[0];\n                oneDayBackPrice = _yield2[1];\n                pricePercentChange = _yield2[2];\n                // if (!newPrice && apolloProMMClient) {\n                //   ;[newPrice, oneDayBackPrice, pricePercentChange] = await getPrommEthPrice(chainId as ChainId, apolloProMMClient)\n                // }\n                dispatch(version === VERSION.ELASTIC ? updatePrommETHPrice({\n                  currentPrice: (newPrice ? newPrice : 0).toString(),\n                  oneDayBackPrice: (oneDayBackPrice ? oneDayBackPrice : 0).toString(),\n                  pricePercentChange: pricePercentChange\n                }) : updateETHPrice({\n                  currentPrice: (newPrice ? newPrice : 0).toString(),\n                  oneDayBackPrice: (oneDayBackPrice ? oneDayBackPrice : 0).toString(),\n                  pricePercentChange: pricePercentChange\n                }));\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n      return _checkForEthPrice.apply(this, arguments);\n    }\n\n    checkForEthPrice();\n  }, [dispatch, chainId, apolloClient, version]);\n  return ethPrice;\n}\n/**\n * Gets the current price of KNC by ETH\n */\n\n_s30(useETHPrice, \"KPWa7zOuhdWIbkNw89CcI5cCWLY=\", false, function () {\n  return [useDispatch, useActiveWeb3React, useSelector];\n});\n\nvar getKNCPriceByETH = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(chainId, apolloClient) {\n    var kncPriceByETH, _result$data3, _result$data3$tokens$, result, derivedETH;\n\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            kncPriceByETH = 0;\n            _context4.prev = 1;\n            _context4.next = 4;\n            return apolloClient.query({\n              query: TOKEN_DERIVED_ETH(KNC[chainId].address),\n              fetchPolicy: 'no-cache'\n            });\n\n          case 4:\n            result = _context4.sent;\n            derivedETH = result === null || result === void 0 ? void 0 : (_result$data3 = result.data) === null || _result$data3 === void 0 ? void 0 : (_result$data3$tokens$ = _result$data3.tokens[0]) === null || _result$data3$tokens$ === void 0 ? void 0 : _result$data3$tokens$.derivedETH;\n            kncPriceByETH = parseFloat(derivedETH) || 0;\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4[\"catch\"](1);\n            console.log(_context4.t0);\n\n          case 12:\n            return _context4.abrupt(\"return\", kncPriceByETH);\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[1, 9]]);\n  }));\n\n  return function getKNCPriceByETH(_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport function useKNCPrice() {\n  _s31();\n\n  var dispatch = useDispatch();\n  var ethPrice = useETHPrice();\n\n  var _useActiveWeb3React3 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React3.chainId;\n\n  var blockNumber = useBlockNumber();\n  var apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient;\n  var kncPrice = useSelector(function (state) {\n    return state.application.kncPrice;\n  });\n  useEffect(function () {\n    function checkForKNCPrice() {\n      return _checkForKNCPrice.apply(this, arguments);\n    }\n\n    function _checkForKNCPrice() {\n      _checkForKNCPrice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var kncPriceByETH, kncPrice;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return getKNCPriceByETH(chainId, apolloClient);\n\n              case 2:\n                kncPriceByETH = _context5.sent;\n                kncPrice = ethPrice.currentPrice && kncPriceByETH * parseFloat(ethPrice.currentPrice);\n                dispatch(updateKNCPrice(kncPrice === null || kncPrice === void 0 ? void 0 : kncPrice.toString()));\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n      return _checkForKNCPrice.apply(this, arguments);\n    }\n\n    checkForKNCPrice();\n  }, [kncPrice, dispatch, ethPrice.currentPrice, chainId, blockNumber, apolloClient]);\n  return kncPrice;\n}\n/**\n * Gets the current price of KNC by ETH\n */\n\n_s31(useKNCPrice, \"z29fHvOYELq+Ufd2NJxZvfx/p28=\", false, function () {\n  return [useDispatch, useETHPrice, useActiveWeb3React, useBlockNumber, useSelector];\n});\n\nvar getTokenPriceByETH = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(tokenAddress, apolloClient) {\n    var tokenPriceByETH, _result$data4, _result$data4$tokens$, result, derivedETH, temp, _res$data, _res$data$tokens$, res, _derivedETH;\n\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            tokenPriceByETH = 0;\n            _context6.prev = 1;\n            _context6.next = 4;\n            return apolloClient.query({\n              query: TOKEN_DERIVED_ETH(tokenAddress),\n              fetchPolicy: 'no-cache'\n            });\n\n          case 4:\n            result = _context6.sent;\n            derivedETH = result === null || result === void 0 ? void 0 : (_result$data4 = result.data) === null || _result$data4 === void 0 ? void 0 : (_result$data4$tokens$ = _result$data4.tokens[0]) === null || _result$data4$tokens$ === void 0 ? void 0 : _result$data4$tokens$.derivedETH;\n            tokenPriceByETH = parseFloat(derivedETH);\n            temp = OUTSITE_FARM_REWARDS_QUERY[tokenAddress];\n\n            if (!temp) {\n              _context6.next = 14;\n              break;\n            }\n\n            _context6.next = 11;\n            return fetch(temp.subgraphAPI, {\n              method: 'POST',\n              body: JSON.stringify({\n                query: temp.query\n              })\n            }).then(function (res) {\n              return res.json();\n            });\n\n          case 11:\n            res = _context6.sent;\n            _derivedETH = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$tokens$ = _res$data.tokens[0]) === null || _res$data$tokens$ === void 0 ? void 0 : _res$data$tokens$.derivedBNB;\n            tokenPriceByETH = parseFloat(_derivedETH);\n\n          case 14:\n            _context6.next = 19;\n            break;\n\n          case 16:\n            _context6.prev = 16;\n            _context6.t0 = _context6[\"catch\"](1);\n            console.log(_context6.t0);\n\n          case 19:\n            return _context6.abrupt(\"return\", tokenPriceByETH);\n\n          case 20:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[1, 16]]);\n  }));\n\n  return function getTokenPriceByETH(_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar cache = {};\nexport function useTokensPrice(tokens, version) {\n  _s32();\n\n  var ethPrice = useETHPrice(version);\n\n  var _useActiveWeb3React4 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React4.chainId;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      prices = _useState2[0],\n      setPrices = _useState2[1];\n\n  var apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient;\n  var client = version !== VERSION.ELASTIC ? apolloClient : NETWORKS_INFO[chainId || ChainId.MAINNET].elasticClient;\n  useDeepCompareEffect(function () {\n    function checkForTokenPrice() {\n      return _checkForTokenPrice.apply(this, arguments);\n    }\n\n    function _checkForTokenPrice() {\n      _checkForTokenPrice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        var tokensPrice, result;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                tokensPrice = tokens.map( /*#__PURE__*/function () {\n                  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(token) {\n                    var key, tokenPriceByETH, tokenPrice;\n                    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n                      while (1) {\n                        switch (_context7.prev = _context7.next) {\n                          case 0:\n                            if (token) {\n                              _context7.next = 2;\n                              break;\n                            }\n\n                            return _context7.abrupt(\"return\", 0);\n\n                          case 2:\n                            if (ethPrice !== null && ethPrice !== void 0 && ethPrice.currentPrice) {\n                              _context7.next = 4;\n                              break;\n                            }\n\n                            return _context7.abrupt(\"return\", 0);\n\n                          case 4:\n                            if (!(token.isNative || (token === null || token === void 0 ? void 0 : token.address) === ZERO_ADDRESS)) {\n                              _context7.next = 6;\n                              break;\n                            }\n\n                            return _context7.abrupt(\"return\", parseFloat(ethPrice.currentPrice));\n\n                          case 6:\n                            key = \"\".concat(token.address, \"_\").concat(chainId, \"_\").concat(version);\n\n                            if (!cache[key]) {\n                              _context7.next = 9;\n                              break;\n                            }\n\n                            return _context7.abrupt(\"return\", cache[key]);\n\n                          case 9:\n                            _context7.next = 11;\n                            return getTokenPriceByETH(token === null || token === void 0 ? void 0 : token.address, client);\n\n                          case 11:\n                            tokenPriceByETH = _context7.sent;\n                            tokenPrice = tokenPriceByETH * parseFloat(ethPrice.currentPrice);\n                            if (tokenPrice) cache[key] = tokenPrice;\n                            return _context7.abrupt(\"return\", tokenPrice || 0);\n\n                          case 15:\n                          case \"end\":\n                            return _context7.stop();\n                        }\n                      }\n                    }, _callee7);\n                  }));\n\n                  return function (_x9) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }());\n                _context8.next = 3;\n                return Promise.all(tokensPrice);\n\n              case 3:\n                result = _context8.sent;\n                setPrices(result);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n      return _checkForTokenPrice.apply(this, arguments);\n    }\n\n    checkForTokenPrice();\n  }, [ethPrice.currentPrice, chainId, tokens, version]);\n  return prices;\n}\n\n_s32(useTokensPrice, \"pymOX0hwDrzeJ/XTeQZ/aZj6RZQ=\", false, function () {\n  return [useETHPrice, useActiveWeb3React, useDeepCompareEffect];\n});","map":{"version":3,"names":["ChainId","dayjs","useCallback","useEffect","useMemo","useState","useDispatch","useSelector","useDeepCompareEffect","ETH_PRICE","PROMM_ETH_PRICE","TOKEN_DERIVED_ETH","NETWORKS_INFO","VERSION","getBlockFromTimestamp","getPercentChange","KNC","OUTSITE_FARM_REWARDS_QUERY","ZERO_ADDRESS","useActiveWeb3React","ApplicationModal","PopupType","addPopup","removePopup","setOpenModal","updateETHPrice","updateKNCPrice","updatePrommETHPrice","useBlockNumber","chainId","state","application","blockNumber","useModalOpen","modal","openModal","useToggleModal","open","dispatch","useOpenModal","useCloseModals","useNetworkModalToggle","NETWORK","useWalletModalToggle","WALLET","useToggleSettingsMenu","SETTINGS","useToggleTransactionSettingsMenu","TRANSACTION_SETTINGS","useShowClaimPopup","CLAIM_POPUP","useToggleShowClaimPopup","useToggleSelfClaimModal","SELF_CLAIM","useToggleDelegateModal","DELEGATE","useToggleYourCampaignTransactionsModal","YOUR_CAMPAIGN_TRANSACTIONS","useToggleVoteModal","VOTE","usePoolDetailModalToggle","POOL_DETAIL","useTrendingSoonSortingModalToggle","TRENDING_SOON_SORTING","useSelectCampaignModalToggle","SELECT_CAMPAIGN","useRegisterCampaignCaptchaModalToggle","REGISTER_CAMPAIGN_CAPTCHA","useRegisterCampaignSuccessModalToggle","REGISTER_CAMPAIGN_SUCCESS","useTrueSightNetworkModalToggle","TRUESIGHT_NETWORK","useTrendingSoonTokenDetailModalToggle","TRENDING_SOON_TOKEN_DETAIL","useTrueSightUnsubscribeModalToggle","UNSUBSCRIBE_TRUESIGHT","useToggleEthPowAckModal","ETH_POW_ACK","useAddPopup","content","popupType","key","removeAfterMs","NotificationType","useNotify","data","SIMPLE","title","useTransactionNotify","TRANSACTION","hash","useRemovePopup","useActivePopups","list","popupList","filter","item","show","getEthPrice","apolloClient","utcCurrentTime","utcOneDayBack","subtract","startOf","unix","ethPrice","ethPriceOneDay","priceChangeETH","oneDayBlock","query","fetchPolicy","result","resultOneDay","currentPrice","bundles","oneDayBackPrice","console","log","getPrommEthPrice","ethPriceUSD","useETHPrice","version","CLASSIC","MAINNET","classicClient","ELASTIC","prommEthPrice","apolloProMMClient","elasticClient","checkForEthPrice","newPrice","pricePercentChange","toString","getKNCPriceByETH","kncPriceByETH","address","derivedETH","tokens","parseFloat","useKNCPrice","kncPrice","checkForKNCPrice","getTokenPriceByETH","tokenAddress","tokenPriceByETH","temp","fetch","subgraphAPI","method","body","JSON","stringify","then","res","json","derivedBNB","cache","useTokensPrice","prices","setPrices","client","checkForTokenPrice","tokensPrice","map","token","isNative","tokenPrice","Promise","all"],"sources":["/Applications/XAMPP/voxel-interface/src/state/application/hooks.ts"],"sourcesContent":["import { ApolloClient, NormalizedCacheObject } from '@apollo/client'\nimport { ChainId, NativeCurrency, Token } from '@kyberswap/ks-sdk-core'\nimport dayjs from 'dayjs'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useDeepCompareEffect } from 'react-use'\n\nimport { ETH_PRICE, PROMM_ETH_PRICE, TOKEN_DERIVED_ETH } from 'apollo/queries'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { VERSION } from 'constants/v2'\nimport { getBlockFromTimestamp, getPercentChange } from 'utils'\n\nimport { KNC, OUTSITE_FARM_REWARDS_QUERY, ZERO_ADDRESS } from '../../constants'\nimport { useActiveWeb3React } from '../../hooks'\nimport { AppDispatch, AppState } from '../index'\nimport {\n  ApplicationModal,\n  PopupContent,\n  PopupContentSimple,\n  PopupContentTxn,\n  PopupType,\n  addPopup,\n  removePopup,\n  setOpenModal,\n  updateETHPrice,\n  updateKNCPrice,\n  updatePrommETHPrice,\n} from './actions'\n\nexport function useBlockNumber(): number | undefined {\n  const { chainId } = useActiveWeb3React()\n\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1])\n}\n\nexport function useModalOpen(modal: ApplicationModal): boolean {\n  const openModal = useSelector((state: AppState) => state.application.openModal)\n  return openModal === modal\n}\n\nexport function useToggleModal(modal: ApplicationModal): () => void {\n  const open = useModalOpen(modal)\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(open ? null : modal)), [dispatch, modal, open])\n}\n\nexport function useOpenModal(modal: ApplicationModal): () => void {\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(modal)), [dispatch, modal])\n}\n\nexport function useCloseModals(): () => void {\n  const dispatch = useDispatch<AppDispatch>()\n  return useCallback(() => dispatch(setOpenModal(null)), [dispatch])\n}\n\nexport function useNetworkModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.NETWORK)\n}\n\nexport function useWalletModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.WALLET)\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  return useToggleModal(ApplicationModal.SETTINGS)\n}\n\nexport function useToggleTransactionSettingsMenu(): () => void {\n  return useToggleModal(ApplicationModal.TRANSACTION_SETTINGS)\n}\n\nexport function useShowClaimPopup(): boolean {\n  return useModalOpen(ApplicationModal.CLAIM_POPUP)\n}\n\nexport function useToggleShowClaimPopup(): () => void {\n  return useToggleModal(ApplicationModal.CLAIM_POPUP)\n}\n\nexport function useToggleSelfClaimModal(): () => void {\n  return useToggleModal(ApplicationModal.SELF_CLAIM)\n}\n\nexport function useToggleDelegateModal(): () => void {\n  return useToggleModal(ApplicationModal.DELEGATE)\n}\n\nexport function useToggleYourCampaignTransactionsModal(): () => void {\n  return useToggleModal(ApplicationModal.YOUR_CAMPAIGN_TRANSACTIONS)\n}\n\nexport function useToggleVoteModal(): () => void {\n  return useToggleModal(ApplicationModal.VOTE)\n}\n\nexport function usePoolDetailModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.POOL_DETAIL)\n}\n\nexport function useTrendingSoonSortingModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.TRENDING_SOON_SORTING)\n}\n\nexport function useSelectCampaignModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.SELECT_CAMPAIGN)\n}\n\nexport function useRegisterCampaignCaptchaModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.REGISTER_CAMPAIGN_CAPTCHA)\n}\n\nexport function useRegisterCampaignSuccessModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.REGISTER_CAMPAIGN_SUCCESS)\n}\n\nexport function useTrueSightNetworkModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.TRUESIGHT_NETWORK)\n}\n\nexport function useTrendingSoonTokenDetailModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.TRENDING_SOON_TOKEN_DETAIL)\n}\n\nexport function useTrueSightUnsubscribeModalToggle(): () => void {\n  return useToggleModal(ApplicationModal.UNSUBSCRIBE_TRUESIGHT)\n}\n\nexport function useToggleEthPowAckModal(): () => void {\n  return useToggleModal(ApplicationModal.ETH_POW_ACK)\n}\n\n// returns a function that allows adding a popup\nfunction useAddPopup(): (\n  content: PopupContent,\n  popupType: PopupType,\n  key?: string,\n  removeAfterMs?: number | null,\n) => void {\n  const dispatch = useDispatch()\n\n  return useCallback(\n    (content: PopupContent, popupType: PopupType, key?: string, removeAfterMs?: number | null) => {\n      dispatch(addPopup({ content, key, popupType, removeAfterMs }))\n    },\n    [dispatch],\n  )\n}\n\nexport enum NotificationType {\n  SUCCESS,\n  ERROR,\n  WARNING,\n}\n// simple notify with text and description\nexport const useNotify = () => {\n  const addPopup = useAddPopup()\n  return useCallback(\n    (data: PopupContentSimple, removeAfterMs = 4000) => {\n      addPopup(data, PopupType.SIMPLE, data.title, removeAfterMs)\n    },\n    [addPopup],\n  )\n}\n\n// popup notify transaction\nexport const useTransactionNotify = () => {\n  const addPopup = useAddPopup()\n  return useCallback(\n    (data: PopupContentTxn) => {\n      addPopup(data, PopupType.TRANSACTION, data.hash)\n    },\n    [addPopup],\n  )\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup(): (key: string) => void {\n  const dispatch = useDispatch()\n  return useCallback(\n    (key: string) => {\n      dispatch(removePopup({ key }))\n    },\n    [dispatch],\n  )\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useSelector((state: AppState) => state.application.popupList)\n  return useMemo(() => list.filter(item => item.show), [list])\n}\n\n/**\n * Gets the current price  of ETH, 24 hour price, and % change between them\n */\nconst getEthPrice = async (chainId: ChainId, apolloClient: ApolloClient<NormalizedCacheObject>) => {\n  const utcCurrentTime = dayjs()\n  const utcOneDayBack = utcCurrentTime.subtract(1, 'day').startOf('minute').unix()\n\n  let ethPrice = 0\n  let ethPriceOneDay = 0\n  let priceChangeETH = 0\n\n  try {\n    const oneDayBlock = await getBlockFromTimestamp(utcOneDayBack, chainId)\n    const result = await apolloClient.query({\n      query: ETH_PRICE(),\n      fetchPolicy: 'network-only',\n    })\n\n    const resultOneDay = await apolloClient.query({\n      query: ETH_PRICE(oneDayBlock),\n      fetchPolicy: 'network-only',\n    })\n    const currentPrice = result?.data?.bundles[0]?.ethPrice\n    const oneDayBackPrice = resultOneDay?.data?.bundles[0]?.ethPrice\n\n    priceChangeETH = getPercentChange(currentPrice, oneDayBackPrice)\n    ethPrice = currentPrice\n    ethPriceOneDay = oneDayBackPrice\n  } catch (e) {\n    console.log(e)\n  }\n\n  return [ethPrice, ethPriceOneDay, priceChangeETH]\n}\n\nconst getPrommEthPrice = async (chainId: ChainId, apolloClient: ApolloClient<NormalizedCacheObject>) => {\n  const utcCurrentTime = dayjs()\n  const utcOneDayBack = utcCurrentTime.subtract(1, 'day').startOf('minute').unix()\n\n  let ethPrice = 0\n  let ethPriceOneDay = 0\n  let priceChangeETH = 0\n\n  try {\n    const oneDayBlock = await getBlockFromTimestamp(utcOneDayBack, chainId)\n    const result = await apolloClient.query({\n      query: PROMM_ETH_PRICE(),\n      fetchPolicy: 'network-only',\n    })\n\n    const resultOneDay = await apolloClient.query({\n      query: PROMM_ETH_PRICE(oneDayBlock),\n      fetchPolicy: 'network-only',\n    })\n    const currentPrice = result?.data?.bundles[0]?.ethPriceUSD\n    const oneDayBackPrice = resultOneDay?.data?.bundles[0]?.ethPriceUSD\n\n    priceChangeETH = getPercentChange(currentPrice, oneDayBackPrice)\n    ethPrice = currentPrice\n    ethPriceOneDay = oneDayBackPrice\n  } catch (e) {\n    console.log(e)\n  }\n\n  return [ethPrice, ethPriceOneDay, priceChangeETH]\n}\n\nexport function useETHPrice(version: string = VERSION.CLASSIC): AppState['application']['ethPrice'] {\n  const dispatch = useDispatch()\n  const { chainId } = useActiveWeb3React()\n  const apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient\n\n  const ethPrice = useSelector((state: AppState) =>\n    version === VERSION.ELASTIC ? state.application.prommEthPrice : state.application.ethPrice,\n  )\n\n  useEffect(() => {\n    const apolloProMMClient = NETWORKS_INFO[chainId || ChainId.MAINNET].elasticClient\n\n    async function checkForEthPrice() {\n      const [newPrice, oneDayBackPrice, pricePercentChange] = await (version === VERSION.ELASTIC && apolloProMMClient\n        ? getPrommEthPrice(chainId as ChainId, apolloProMMClient)\n        : getEthPrice(chainId as ChainId, apolloClient))\n\n      // if (!newPrice && apolloProMMClient) {\n      //   ;[newPrice, oneDayBackPrice, pricePercentChange] = await getPrommEthPrice(chainId as ChainId, apolloProMMClient)\n      // }\n\n      dispatch(\n        version === VERSION.ELASTIC\n          ? updatePrommETHPrice({\n              currentPrice: (newPrice ? newPrice : 0).toString(),\n              oneDayBackPrice: (oneDayBackPrice ? oneDayBackPrice : 0).toString(),\n              pricePercentChange,\n            })\n          : updateETHPrice({\n              currentPrice: (newPrice ? newPrice : 0).toString(),\n              oneDayBackPrice: (oneDayBackPrice ? oneDayBackPrice : 0).toString(),\n              pricePercentChange,\n            }),\n      )\n    }\n    checkForEthPrice()\n  }, [dispatch, chainId, apolloClient, version])\n\n  return ethPrice\n}\n\n/**\n * Gets the current price of KNC by ETH\n */\nconst getKNCPriceByETH = async (chainId: ChainId, apolloClient: ApolloClient<NormalizedCacheObject>) => {\n  let kncPriceByETH = 0\n\n  try {\n    const result = await apolloClient.query({\n      query: TOKEN_DERIVED_ETH(KNC[chainId as ChainId].address),\n      fetchPolicy: 'no-cache',\n    })\n\n    const derivedETH = result?.data?.tokens[0]?.derivedETH\n\n    kncPriceByETH = parseFloat(derivedETH) || 0\n  } catch (e) {\n    console.log(e)\n  }\n\n  return kncPriceByETH\n}\n\nexport function useKNCPrice(): AppState['application']['kncPrice'] {\n  const dispatch = useDispatch()\n  const ethPrice = useETHPrice()\n  const { chainId } = useActiveWeb3React()\n  const blockNumber = useBlockNumber()\n  const apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient\n\n  const kncPrice = useSelector((state: AppState) => state.application.kncPrice)\n\n  useEffect(() => {\n    async function checkForKNCPrice() {\n      const kncPriceByETH = await getKNCPriceByETH(chainId as ChainId, apolloClient)\n      const kncPrice = ethPrice.currentPrice && kncPriceByETH * parseFloat(ethPrice.currentPrice)\n      dispatch(updateKNCPrice(kncPrice?.toString()))\n    }\n    checkForKNCPrice()\n  }, [kncPrice, dispatch, ethPrice.currentPrice, chainId, blockNumber, apolloClient])\n\n  return kncPrice\n}\n\n/**\n * Gets the current price of KNC by ETH\n */\nconst getTokenPriceByETH = async (tokenAddress: string, apolloClient: ApolloClient<NormalizedCacheObject>) => {\n  let tokenPriceByETH = 0\n\n  try {\n    const result = await apolloClient.query({\n      query: TOKEN_DERIVED_ETH(tokenAddress),\n      fetchPolicy: 'no-cache',\n    })\n\n    const derivedETH = result?.data?.tokens[0]?.derivedETH\n\n    tokenPriceByETH = parseFloat(derivedETH)\n\n    const temp = OUTSITE_FARM_REWARDS_QUERY[tokenAddress]\n    if (temp) {\n      const res = await fetch(temp.subgraphAPI, {\n        method: 'POST',\n        body: JSON.stringify({\n          query: temp.query,\n        }),\n      }).then(res => res.json())\n\n      const derivedETH = res?.data?.tokens[0]?.derivedBNB\n\n      tokenPriceByETH = parseFloat(derivedETH)\n    }\n  } catch (e) {\n    console.log(e)\n  }\n\n  return tokenPriceByETH\n}\n\nconst cache: { [key: string]: number } = {}\n\nexport function useTokensPrice(tokens: (Token | NativeCurrency | null | undefined)[], version?: string): number[] {\n  const ethPrice = useETHPrice(version)\n\n  const { chainId } = useActiveWeb3React()\n  const [prices, setPrices] = useState<number[]>([])\n  const apolloClient = NETWORKS_INFO[chainId || ChainId.MAINNET].classicClient\n\n  const client = version !== VERSION.ELASTIC ? apolloClient : NETWORKS_INFO[chainId || ChainId.MAINNET].elasticClient\n\n  useDeepCompareEffect(() => {\n    async function checkForTokenPrice() {\n      const tokensPrice = tokens.map(async token => {\n        if (!token) {\n          return 0\n        }\n\n        if (!ethPrice?.currentPrice) {\n          return 0\n        }\n\n        if (token.isNative || token?.address === ZERO_ADDRESS) {\n          return parseFloat(ethPrice.currentPrice)\n        }\n\n        const key = `${token.address}_${chainId}_${version}`\n        if (cache[key]) return cache[key]\n\n        const tokenPriceByETH = await getTokenPriceByETH(token?.address, client)\n        const tokenPrice = tokenPriceByETH * parseFloat(ethPrice.currentPrice)\n\n        if (tokenPrice) cache[key] = tokenPrice\n\n        return tokenPrice || 0\n      })\n\n      const result = await Promise.all(tokensPrice)\n\n      setPrices(result)\n    }\n\n    checkForTokenPrice()\n  }, [ethPrice.currentPrice, chainId, tokens, version])\n\n  return prices\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAASA,OAAT,QAA+C,wBAA/C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,OAAjC,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,oBAAT,QAAqC,WAArC;AAEA,SAASC,SAAT,EAAoBC,eAApB,EAAqCC,iBAArC,QAA8D,gBAA9D;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,qBAAT,EAAgCC,gBAAhC,QAAwD,OAAxD;AAEA,SAASC,GAAT,EAAcC,0BAAd,EAA0CC,YAA1C,QAA8D,iBAA9D;AACA,SAASC,kBAAT,QAAmC,aAAnC;AAEA,SACEC,gBADF,EAKEC,SALF,EAMEC,QANF,EAOEC,WAPF,EAQEC,YARF,EASEC,cATF,EAUEC,cAVF,EAWEC,mBAXF,QAYO,WAZP;AAcA,OAAO,SAASC,cAAT,GAA8C;EAAA;;EACnD,0BAAoBT,kBAAkB,EAAtC;EAAA,IAAQU,OAAR,uBAAQA,OAAR;;EAEA,OAAOtB,WAAW,CAAC,UAACuB,KAAD;IAAA,OAAqBA,KAAK,CAACC,WAAN,CAAkBC,WAAlB,CAA8BH,OAA9B,aAA8BA,OAA9B,cAA8BA,OAA9B,GAAyC,CAAC,CAA1C,CAArB;EAAA,CAAD,CAAlB;AACD;;GAJeD,c;UACMT,kB,EAEbZ,W;;;AAGT,OAAO,SAAS0B,YAAT,CAAsBC,KAAtB,EAAwD;EAAA;;EAC7D,IAAMC,SAAS,GAAG5B,WAAW,CAAC,UAACuB,KAAD;IAAA,OAAqBA,KAAK,CAACC,WAAN,CAAkBI,SAAvC;EAAA,CAAD,CAA7B;EACA,OAAOA,SAAS,KAAKD,KAArB;AACD;;IAHeD,Y;UACI1B,W;;;AAIpB,OAAO,SAAS6B,cAAT,CAAwBF,KAAxB,EAA6D;EAAA;;EAClE,IAAMG,IAAI,GAAGJ,YAAY,CAACC,KAAD,CAAzB;EACA,IAAMI,QAAQ,GAAGhC,WAAW,EAA5B;EACA,OAAOJ,WAAW,CAAC;IAAA,OAAMoC,QAAQ,CAACd,YAAY,CAACa,IAAI,GAAG,IAAH,GAAUH,KAAf,CAAb,CAAd;EAAA,CAAD,EAAoD,CAACI,QAAD,EAAWJ,KAAX,EAAkBG,IAAlB,CAApD,CAAlB;AACD;;IAJeD,c;UACDH,Y,EACI3B,W;;;AAInB,OAAO,SAASiC,YAAT,CAAsBL,KAAtB,EAA2D;EAAA;;EAChE,IAAMI,QAAQ,GAAGhC,WAAW,EAA5B;EACA,OAAOJ,WAAW,CAAC;IAAA,OAAMoC,QAAQ,CAACd,YAAY,CAACU,KAAD,CAAb,CAAd;EAAA,CAAD,EAAsC,CAACI,QAAD,EAAWJ,KAAX,CAAtC,CAAlB;AACD;;IAHeK,Y;UACGjC,W;;;AAInB,OAAO,SAASkC,cAAT,GAAsC;EAAA;;EAC3C,IAAMF,QAAQ,GAAGhC,WAAW,EAA5B;EACA,OAAOJ,WAAW,CAAC;IAAA,OAAMoC,QAAQ,CAACd,YAAY,CAAC,IAAD,CAAb,CAAd;EAAA,CAAD,EAAqC,CAACc,QAAD,CAArC,CAAlB;AACD;;IAHeE,c;UACGlC,W;;;AAInB,OAAO,SAASmC,qBAAT,GAA6C;EAAA;;EAClD,OAAOL,cAAc,CAAChB,gBAAgB,CAACsB,OAAlB,CAArB;AACD;;IAFeD,qB;UACPL,c;;;AAGT,OAAO,SAASO,oBAAT,GAA4C;EAAA;;EACjD,OAAOP,cAAc,CAAChB,gBAAgB,CAACwB,MAAlB,CAArB;AACD;;IAFeD,oB;UACPP,c;;;AAGT,OAAO,SAASS,qBAAT,GAA6C;EAAA;;EAClD,OAAOT,cAAc,CAAChB,gBAAgB,CAAC0B,QAAlB,CAArB;AACD;;IAFeD,qB;UACPT,c;;;AAGT,OAAO,SAASW,gCAAT,GAAwD;EAAA;;EAC7D,OAAOX,cAAc,CAAChB,gBAAgB,CAAC4B,oBAAlB,CAArB;AACD;;IAFeD,gC;UACPX,c;;;AAGT,OAAO,SAASa,iBAAT,GAAsC;EAAA;;EAC3C,OAAOhB,YAAY,CAACb,gBAAgB,CAAC8B,WAAlB,CAAnB;AACD;;KAFeD,iB;UACPhB,Y;;;AAGT,OAAO,SAASkB,uBAAT,GAA+C;EAAA;;EACpD,OAAOf,cAAc,CAAChB,gBAAgB,CAAC8B,WAAlB,CAArB;AACD;;KAFeC,uB;UACPf,c;;;AAGT,OAAO,SAASgB,uBAAT,GAA+C;EAAA;;EACpD,OAAOhB,cAAc,CAAChB,gBAAgB,CAACiC,UAAlB,CAArB;AACD;;KAFeD,uB;UACPhB,c;;;AAGT,OAAO,SAASkB,sBAAT,GAA8C;EAAA;;EACnD,OAAOlB,cAAc,CAAChB,gBAAgB,CAACmC,QAAlB,CAArB;AACD;;KAFeD,sB;UACPlB,c;;;AAGT,OAAO,SAASoB,sCAAT,GAA8D;EAAA;;EACnE,OAAOpB,cAAc,CAAChB,gBAAgB,CAACqC,0BAAlB,CAArB;AACD;;KAFeD,sC;UACPpB,c;;;AAGT,OAAO,SAASsB,kBAAT,GAA0C;EAAA;;EAC/C,OAAOtB,cAAc,CAAChB,gBAAgB,CAACuC,IAAlB,CAArB;AACD;;KAFeD,kB;UACPtB,c;;;AAGT,OAAO,SAASwB,wBAAT,GAAgD;EAAA;;EACrD,OAAOxB,cAAc,CAAChB,gBAAgB,CAACyC,WAAlB,CAArB;AACD;;KAFeD,wB;UACPxB,c;;;AAGT,OAAO,SAAS0B,iCAAT,GAAyD;EAAA;;EAC9D,OAAO1B,cAAc,CAAChB,gBAAgB,CAAC2C,qBAAlB,CAArB;AACD;;KAFeD,iC;UACP1B,c;;;AAGT,OAAO,SAAS4B,4BAAT,GAAoD;EAAA;;EACzD,OAAO5B,cAAc,CAAChB,gBAAgB,CAAC6C,eAAlB,CAArB;AACD;;KAFeD,4B;UACP5B,c;;;AAGT,OAAO,SAAS8B,qCAAT,GAA6D;EAAA;;EAClE,OAAO9B,cAAc,CAAChB,gBAAgB,CAAC+C,yBAAlB,CAArB;AACD;;KAFeD,qC;UACP9B,c;;;AAGT,OAAO,SAASgC,qCAAT,GAA6D;EAAA;;EAClE,OAAOhC,cAAc,CAAChB,gBAAgB,CAACiD,yBAAlB,CAArB;AACD;;KAFeD,qC;UACPhC,c;;;AAGT,OAAO,SAASkC,8BAAT,GAAsD;EAAA;;EAC3D,OAAOlC,cAAc,CAAChB,gBAAgB,CAACmD,iBAAlB,CAArB;AACD;;KAFeD,8B;UACPlC,c;;;AAGT,OAAO,SAASoC,qCAAT,GAA6D;EAAA;;EAClE,OAAOpC,cAAc,CAAChB,gBAAgB,CAACqD,0BAAlB,CAArB;AACD;;KAFeD,qC;UACPpC,c;;;AAGT,OAAO,SAASsC,kCAAT,GAA0D;EAAA;;EAC/D,OAAOtC,cAAc,CAAChB,gBAAgB,CAACuD,qBAAlB,CAArB;AACD;;KAFeD,kC;UACPtC,c;;;AAGT,OAAO,SAASwC,uBAAT,GAA+C;EAAA;;EACpD,OAAOxC,cAAc,CAAChB,gBAAgB,CAACyD,WAAlB,CAArB;AACD,C,CAED;;KAJgBD,uB;UACPxC,c;;;AAIT,SAAS0C,WAAT,GAKU;EAAA;;EACR,IAAMxC,QAAQ,GAAGhC,WAAW,EAA5B;EAEA,OAAOJ,WAAW,CAChB,UAAC6E,OAAD,EAAwBC,SAAxB,EAA8CC,GAA9C,EAA4DC,aAA5D,EAA8F;IAC5F5C,QAAQ,CAAChB,QAAQ,CAAC;MAAEyD,OAAO,EAAPA,OAAF;MAAWE,GAAG,EAAHA,GAAX;MAAgBD,SAAS,EAATA,SAAhB;MAA2BE,aAAa,EAAbA;IAA3B,CAAD,CAAT,CAAR;EACD,CAHe,EAIhB,CAAC5C,QAAD,CAJgB,CAAlB;AAMD;;KAdQwC,W;UAMUxE,W;;;AAUnB,WAAY6E,gBAAZ,C,CAKA;;WALYA,gB;EAAAA,gB,CAAAA,gB;EAAAA,gB,CAAAA,gB;EAAAA,gB,CAAAA,gB;GAAAA,gB,KAAAA,gB;;AAMZ,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;EAAA;;EAC7B,IAAM9D,QAAQ,GAAGwD,WAAW,EAA5B;EACA,OAAO5E,WAAW,CAChB,UAACmF,IAAD,EAAoD;IAAA,IAAzBH,aAAyB,uEAAT,IAAS;IAClD5D,QAAQ,CAAC+D,IAAD,EAAOhE,SAAS,CAACiE,MAAjB,EAAyBD,IAAI,CAACE,KAA9B,EAAqCL,aAArC,CAAR;EACD,CAHe,EAIhB,CAAC5D,QAAD,CAJgB,CAAlB;AAMD,CARM,C,CAUP;;KAVa8D,S;UACMN,W;;;AAUnB,OAAO,IAAMU,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;EAAA;;EACxC,IAAMlE,QAAQ,GAAGwD,WAAW,EAA5B;EACA,OAAO5E,WAAW,CAChB,UAACmF,IAAD,EAA2B;IACzB/D,QAAQ,CAAC+D,IAAD,EAAOhE,SAAS,CAACoE,WAAjB,EAA8BJ,IAAI,CAACK,IAAnC,CAAR;EACD,CAHe,EAIhB,CAACpE,QAAD,CAJgB,CAAlB;AAMD,CARM,C,CAUP;;KAVakE,oB;UACMV,W;;;AAUnB,OAAO,SAASa,cAAT,GAAiD;EAAA;;EACtD,IAAMrD,QAAQ,GAAGhC,WAAW,EAA5B;EACA,OAAOJ,WAAW,CAChB,UAAC+E,GAAD,EAAiB;IACf3C,QAAQ,CAACf,WAAW,CAAC;MAAE0D,GAAG,EAAHA;IAAF,CAAD,CAAZ,CAAR;EACD,CAHe,EAIhB,CAAC3C,QAAD,CAJgB,CAAlB;AAMD,C,CAED;;KAVgBqD,c;UACGrF,W;;;AAUnB,OAAO,SAASsF,eAAT,GAAiE;EAAA;;EACtE,IAAMC,IAAI,GAAGtF,WAAW,CAAC,UAACuB,KAAD;IAAA,OAAqBA,KAAK,CAACC,WAAN,CAAkB+D,SAAvC;EAAA,CAAD,CAAxB;EACA,OAAO1F,OAAO,CAAC;IAAA,OAAMyF,IAAI,CAACE,MAAL,CAAY,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACC,IAAT;IAAA,CAAhB,CAAN;EAAA,CAAD,EAAuC,CAACJ,IAAD,CAAvC,CAAd;AACD;AAED;AACA;AACA;;KAPgBD,e;UACDrF,W;;;AAOf,IAAM2F,WAAW;EAAA,sEAAG,iBAAOrE,OAAP,EAAyBsE,YAAzB;IAAA;;IAAA;MAAA;QAAA;UAAA;YACZC,cADY,GACKnG,KAAK,EADV;YAEZoG,aAFY,GAEID,cAAc,CAACE,QAAf,CAAwB,CAAxB,EAA2B,KAA3B,EAAkCC,OAAlC,CAA0C,QAA1C,EAAoDC,IAApD,EAFJ;YAIdC,QAJc,GAIH,CAJG;YAKdC,cALc,GAKG,CALH;YAMdC,cANc,GAMG,CANH;YAAA;YAAA;YAAA,OASU7F,qBAAqB,CAACuF,aAAD,EAAgBxE,OAAhB,CAT/B;;UAAA;YASV+E,WATU;YAAA;YAAA,OAUKT,YAAY,CAACU,KAAb,CAAmB;cACtCA,KAAK,EAAEpG,SAAS,EADsB;cAEtCqG,WAAW,EAAE;YAFyB,CAAnB,CAVL;;UAAA;YAUVC,MAVU;YAAA;YAAA,OAeWZ,YAAY,CAACU,KAAb,CAAmB;cAC5CA,KAAK,EAAEpG,SAAS,CAACmG,WAAD,CAD4B;cAE5CE,WAAW,EAAE;YAF+B,CAAnB,CAfX;;UAAA;YAeVE,YAfU;YAmBVC,YAnBU,GAmBKF,MAnBL,aAmBKA,MAnBL,uCAmBKA,MAAM,CAAE1B,IAnBb,0EAmBK,aAAc6B,OAAd,CAAsB,CAAtB,CAnBL,0DAmBK,sBAA0BT,QAnB/B;YAoBVU,eApBU,GAoBQH,YApBR,aAoBQA,YApBR,6CAoBQA,YAAY,CAAE3B,IApBtB,gFAoBQ,mBAAoB6B,OAApB,CAA4B,CAA5B,CApBR,0DAoBQ,sBAAgCT,QApBxC;YAsBhBE,cAAc,GAAG5F,gBAAgB,CAACkG,YAAD,EAAeE,eAAf,CAAjC;YACAV,QAAQ,GAAGQ,YAAX;YACAP,cAAc,GAAGS,eAAjB;YAxBgB;YAAA;;UAAA;YAAA;YAAA;YA0BhBC,OAAO,CAACC,GAAR;;UA1BgB;YAAA,iCA6BX,CAACZ,QAAD,EAAWC,cAAX,EAA2BC,cAA3B,CA7BW;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAXT,WAAW;IAAA;EAAA;AAAA,GAAjB;;AAgCA,IAAMoB,gBAAgB;EAAA,uEAAG,kBAAOzF,OAAP,EAAyBsE,YAAzB;IAAA;;IAAA;MAAA;QAAA;UAAA;YACjBC,cADiB,GACAnG,KAAK,EADL;YAEjBoG,aAFiB,GAEDD,cAAc,CAACE,QAAf,CAAwB,CAAxB,EAA2B,KAA3B,EAAkCC,OAAlC,CAA0C,QAA1C,EAAoDC,IAApD,EAFC;YAInBC,QAJmB,GAIR,CAJQ;YAKnBC,cALmB,GAKF,CALE;YAMnBC,cANmB,GAMF,CANE;YAAA;YAAA;YAAA,OASK7F,qBAAqB,CAACuF,aAAD,EAAgBxE,OAAhB,CAT1B;;UAAA;YASf+E,WATe;YAAA;YAAA,OAUAT,YAAY,CAACU,KAAb,CAAmB;cACtCA,KAAK,EAAEnG,eAAe,EADgB;cAEtCoG,WAAW,EAAE;YAFyB,CAAnB,CAVA;;UAAA;YAUfC,MAVe;YAAA;YAAA,OAeMZ,YAAY,CAACU,KAAb,CAAmB;cAC5CA,KAAK,EAAEnG,eAAe,CAACkG,WAAD,CADsB;cAE5CE,WAAW,EAAE;YAF+B,CAAnB,CAfN;;UAAA;YAefE,YAfe;YAmBfC,YAnBe,GAmBAF,MAnBA,aAmBAA,MAnBA,wCAmBAA,MAAM,CAAE1B,IAnBR,2EAmBA,cAAc6B,OAAd,CAAsB,CAAtB,CAnBA,0DAmBA,sBAA0BK,WAnB1B;YAoBfJ,eApBe,GAoBGH,YApBH,aAoBGA,YApBH,8CAoBGA,YAAY,CAAE3B,IApBjB,iFAoBG,oBAAoB6B,OAApB,CAA4B,CAA5B,CApBH,0DAoBG,sBAAgCK,WApBnC;YAsBrBZ,cAAc,GAAG5F,gBAAgB,CAACkG,YAAD,EAAeE,eAAf,CAAjC;YACAV,QAAQ,GAAGQ,YAAX;YACAP,cAAc,GAAGS,eAAjB;YAxBqB;YAAA;;UAAA;YAAA;YAAA;YA0BrBC,OAAO,CAACC,GAAR;;UA1BqB;YAAA,kCA6BhB,CAACZ,QAAD,EAAWC,cAAX,EAA2BC,cAA3B,CA7BgB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAhBW,gBAAgB;IAAA;EAAA;AAAA,GAAtB;;AAgCA,OAAO,SAASE,WAAT,GAA6F;EAAA;;EAAA,IAAxEC,OAAwE,uEAAtD5G,OAAO,CAAC6G,OAA8C;EAClG,IAAMpF,QAAQ,GAAGhC,WAAW,EAA5B;;EACA,2BAAoBa,kBAAkB,EAAtC;EAAA,IAAQU,OAAR,wBAAQA,OAAR;;EACA,IAAMsE,YAAY,GAAGvF,aAAa,CAACiB,OAAO,IAAI7B,OAAO,CAAC2H,OAApB,CAAb,CAA0CC,aAA/D;EAEA,IAAMnB,QAAQ,GAAGlG,WAAW,CAAC,UAACuB,KAAD;IAAA,OAC3B2F,OAAO,KAAK5G,OAAO,CAACgH,OAApB,GAA8B/F,KAAK,CAACC,WAAN,CAAkB+F,aAAhD,GAAgEhG,KAAK,CAACC,WAAN,CAAkB0E,QADvD;EAAA,CAAD,CAA5B;EAIAtG,SAAS,CAAC,YAAM;IACd,IAAM4H,iBAAiB,GAAGnH,aAAa,CAACiB,OAAO,IAAI7B,OAAO,CAAC2H,OAApB,CAAb,CAA0CK,aAApE;;IADc,SAGCC,gBAHD;MAAA;IAAA;;IAAA;MAAA,+EAGd;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACiER,OAAO,KAAK5G,OAAO,CAACgH,OAApB,IAA+BE,iBAA/B,GAC3DT,gBAAgB,CAACzF,OAAD,EAAqBkG,iBAArB,CAD2C,GAE3D7B,WAAW,CAACrE,OAAD,EAAqBsE,YAArB,CAHjB;;cAAA;gBAAA;gBAAA;gBACS+B,QADT;gBACmBf,eADnB;gBACoCgB,kBADpC;gBAKE;gBACA;gBACA;gBAEA7F,QAAQ,CACNmF,OAAO,KAAK5G,OAAO,CAACgH,OAApB,GACIlG,mBAAmB,CAAC;kBAClBsF,YAAY,EAAE,CAACiB,QAAQ,GAAGA,QAAH,GAAc,CAAvB,EAA0BE,QAA1B,EADI;kBAElBjB,eAAe,EAAE,CAACA,eAAe,GAAGA,eAAH,GAAqB,CAArC,EAAwCiB,QAAxC,EAFC;kBAGlBD,kBAAkB,EAAlBA;gBAHkB,CAAD,CADvB,GAMI1G,cAAc,CAAC;kBACbwF,YAAY,EAAE,CAACiB,QAAQ,GAAGA,QAAH,GAAc,CAAvB,EAA0BE,QAA1B,EADD;kBAEbjB,eAAe,EAAE,CAACA,eAAe,GAAGA,eAAH,GAAqB,CAArC,EAAwCiB,QAAxC,EAFJ;kBAGbD,kBAAkB,EAAlBA;gBAHa,CAAD,CAPZ,CAAR;;cATF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAHc;MAAA;IAAA;;IA0BdF,gBAAgB;EACjB,CA3BQ,EA2BN,CAAC3F,QAAD,EAAWT,OAAX,EAAoBsE,YAApB,EAAkCsB,OAAlC,CA3BM,CAAT;EA6BA,OAAOhB,QAAP;AACD;AAED;AACA;AACA;;KA3CgBe,W;UACGlH,W,EACGa,kB,EAGHZ,W;;;AAuCnB,IAAM8H,gBAAgB;EAAA,uEAAG,kBAAOxG,OAAP,EAAyBsE,YAAzB;IAAA;;IAAA;MAAA;QAAA;UAAA;YACnBmC,aADmB,GACH,CADG;YAAA;YAAA;YAAA,OAIAnC,YAAY,CAACU,KAAb,CAAmB;cACtCA,KAAK,EAAElG,iBAAiB,CAACK,GAAG,CAACa,OAAD,CAAH,CAAwB0G,OAAzB,CADc;cAEtCzB,WAAW,EAAE;YAFyB,CAAnB,CAJA;;UAAA;YAIfC,MAJe;YASfyB,UATe,GASFzB,MATE,aASFA,MATE,wCASFA,MAAM,CAAE1B,IATN,2EASF,cAAcoD,MAAd,CAAqB,CAArB,CATE,0DASF,sBAAyBD,UATvB;YAWrBF,aAAa,GAAGI,UAAU,CAACF,UAAD,CAAV,IAA0B,CAA1C;YAXqB;YAAA;;UAAA;YAAA;YAAA;YAarBpB,OAAO,CAACC,GAAR;;UAbqB;YAAA,kCAgBhBiB,aAhBgB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAhBD,gBAAgB;IAAA;EAAA;AAAA,GAAtB;;AAmBA,OAAO,SAASM,WAAT,GAA4D;EAAA;;EACjE,IAAMrG,QAAQ,GAAGhC,WAAW,EAA5B;EACA,IAAMmG,QAAQ,GAAGe,WAAW,EAA5B;;EACA,2BAAoBrG,kBAAkB,EAAtC;EAAA,IAAQU,OAAR,wBAAQA,OAAR;;EACA,IAAMG,WAAW,GAAGJ,cAAc,EAAlC;EACA,IAAMuE,YAAY,GAAGvF,aAAa,CAACiB,OAAO,IAAI7B,OAAO,CAAC2H,OAApB,CAAb,CAA0CC,aAA/D;EAEA,IAAMgB,QAAQ,GAAGrI,WAAW,CAAC,UAACuB,KAAD;IAAA,OAAqBA,KAAK,CAACC,WAAN,CAAkB6G,QAAvC;EAAA,CAAD,CAA5B;EAEAzI,SAAS,CAAC,YAAM;IAAA,SACC0I,gBADD;MAAA;IAAA;;IAAA;MAAA,+EACd;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAC8BR,gBAAgB,CAACxG,OAAD,EAAqBsE,YAArB,CAD9C;;cAAA;gBACQmC,aADR;gBAEQM,QAFR,GAEmBnC,QAAQ,CAACQ,YAAT,IAAyBqB,aAAa,GAAGI,UAAU,CAACjC,QAAQ,CAACQ,YAAV,CAFtE;gBAGE3E,QAAQ,CAACZ,cAAc,CAACkH,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAER,QAAV,EAAD,CAAf,CAAR;;cAHF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CADc;MAAA;IAAA;;IAMdS,gBAAgB;EACjB,CAPQ,EAON,CAACD,QAAD,EAAWtG,QAAX,EAAqBmE,QAAQ,CAACQ,YAA9B,EAA4CpF,OAA5C,EAAqDG,WAArD,EAAkEmE,YAAlE,CAPM,CAAT;EASA,OAAOyC,QAAP;AACD;AAED;AACA;AACA;;KAvBgBD,W;UACGrI,W,EACAkH,W,EACGrG,kB,EACAS,c,EAGHrB,W;;;AAiBnB,IAAMuI,kBAAkB;EAAA,uEAAG,kBAAOC,YAAP,EAA6B5C,YAA7B;IAAA;;IAAA;MAAA;QAAA;UAAA;YACrB6C,eADqB,GACH,CADG;YAAA;YAAA;YAAA,OAIF7C,YAAY,CAACU,KAAb,CAAmB;cACtCA,KAAK,EAAElG,iBAAiB,CAACoI,YAAD,CADc;cAEtCjC,WAAW,EAAE;YAFyB,CAAnB,CAJE;;UAAA;YAIjBC,MAJiB;YASjByB,UATiB,GASJzB,MATI,aASJA,MATI,wCASJA,MAAM,CAAE1B,IATJ,2EASJ,cAAcoD,MAAd,CAAqB,CAArB,CATI,0DASJ,sBAAyBD,UATrB;YAWvBQ,eAAe,GAAGN,UAAU,CAACF,UAAD,CAA5B;YAEMS,IAbiB,GAaVhI,0BAA0B,CAAC8H,YAAD,CAbhB;;YAAA,KAcnBE,IAdmB;cAAA;cAAA;YAAA;;YAAA;YAAA,OAeHC,KAAK,CAACD,IAAI,CAACE,WAAN,EAAmB;cACxCC,MAAM,EAAE,MADgC;cAExCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;gBACnB1C,KAAK,EAAEoC,IAAI,CAACpC;cADO,CAAf;YAFkC,CAAnB,CAAL,CAKf2C,IALe,CAKV,UAAAC,GAAG;cAAA,OAAIA,GAAG,CAACC,IAAJ,EAAJ;YAAA,CALO,CAfG;;UAAA;YAefD,GAfe;YAsBfjB,WAtBe,GAsBFiB,GAtBE,aAsBFA,GAtBE,oCAsBFA,GAAG,CAAEpE,IAtBH,mEAsBF,UAAWoD,MAAX,CAAkB,CAAlB,CAtBE,sDAsBF,kBAAsBkB,UAtBpB;YAwBrBX,eAAe,GAAGN,UAAU,CAACF,WAAD,CAA5B;;UAxBqB;YAAA;YAAA;;UAAA;YAAA;YAAA;YA2BvBpB,OAAO,CAACC,GAAR;;UA3BuB;YAAA,kCA8BlB2B,eA9BkB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAlBF,kBAAkB;IAAA;EAAA;AAAA,GAAxB;;AAiCA,IAAMc,KAAgC,GAAG,EAAzC;AAEA,OAAO,SAASC,cAAT,CAAwBpB,MAAxB,EAA+EhB,OAA/E,EAA2G;EAAA;;EAChH,IAAMhB,QAAQ,GAAGe,WAAW,CAACC,OAAD,CAA5B;;EAEA,2BAAoBtG,kBAAkB,EAAtC;EAAA,IAAQU,OAAR,wBAAQA,OAAR;;EACA,gBAA4BxB,QAAQ,CAAW,EAAX,CAApC;EAAA;EAAA,IAAOyJ,MAAP;EAAA,IAAeC,SAAf;;EACA,IAAM5D,YAAY,GAAGvF,aAAa,CAACiB,OAAO,IAAI7B,OAAO,CAAC2H,OAApB,CAAb,CAA0CC,aAA/D;EAEA,IAAMoC,MAAM,GAAGvC,OAAO,KAAK5G,OAAO,CAACgH,OAApB,GAA8B1B,YAA9B,GAA6CvF,aAAa,CAACiB,OAAO,IAAI7B,OAAO,CAAC2H,OAApB,CAAb,CAA0CK,aAAtG;EAEAxH,oBAAoB,CAAC,YAAM;IAAA,SACVyJ,kBADU;MAAA;IAAA;;IAAA;MAAA,iFACzB;QAAA;QAAA;UAAA;YAAA;cAAA;gBACQC,WADR,GACsBzB,MAAM,CAAC0B,GAAP;kBAAA,uEAAW,kBAAMC,KAAN;oBAAA;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA,IACxBA,KADwB;8BAAA;8BAAA;4BAAA;;4BAAA,kCAEpB,CAFoB;;0BAAA;4BAAA,IAKxB3D,QALwB,aAKxBA,QALwB,eAKxBA,QAAQ,CAAEQ,YALc;8BAAA;8BAAA;4BAAA;;4BAAA,kCAMpB,CANoB;;0BAAA;4BAAA,MASzBmD,KAAK,CAACC,QAAN,IAAkB,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE7B,OAAP,MAAmBrH,YATZ;8BAAA;8BAAA;4BAAA;;4BAAA,kCAUpBwH,UAAU,CAACjC,QAAQ,CAACQ,YAAV,CAVU;;0BAAA;4BAavBhC,GAbuB,aAadmF,KAAK,CAAC7B,OAbQ,cAaG1G,OAbH,cAac4F,OAbd;;4BAAA,KAczBmC,KAAK,CAAC3E,GAAD,CAdoB;8BAAA;8BAAA;4BAAA;;4BAAA,kCAcN2E,KAAK,CAAC3E,GAAD,CAdC;;0BAAA;4BAAA;4BAAA,OAgBC6D,kBAAkB,CAACsB,KAAD,aAACA,KAAD,uBAACA,KAAK,CAAE7B,OAAR,EAAiByB,MAAjB,CAhBnB;;0BAAA;4BAgBvBhB,eAhBuB;4BAiBvBsB,UAjBuB,GAiBVtB,eAAe,GAAGN,UAAU,CAACjC,QAAQ,CAACQ,YAAV,CAjBlB;4BAmB7B,IAAIqD,UAAJ,EAAgBV,KAAK,CAAC3E,GAAD,CAAL,GAAaqF,UAAb;4BAnBa,kCAqBtBA,UAAU,IAAI,CArBQ;;0BAAA;0BAAA;4BAAA;wBAAA;sBAAA;oBAAA;kBAAA,CAAX;;kBAAA;oBAAA;kBAAA;gBAAA,IADtB;gBAAA;gBAAA,OAyBuBC,OAAO,CAACC,GAAR,CAAYN,WAAZ,CAzBvB;;cAAA;gBAyBQnD,MAzBR;gBA2BEgD,SAAS,CAAChD,MAAD,CAAT;;cA3BF;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CADyB;MAAA;IAAA;;IA+BzBkD,kBAAkB;EACnB,CAhCmB,EAgCjB,CAACxD,QAAQ,CAACQ,YAAV,EAAwBpF,OAAxB,EAAiC4G,MAAjC,EAAyChB,OAAzC,CAhCiB,CAApB;EAkCA,OAAOqC,MAAP;AACD;;KA5CeD,c;UACGrC,W,EAEGrG,kB,EAMpBX,oB"},"metadata":{},"sourceType":"module"}