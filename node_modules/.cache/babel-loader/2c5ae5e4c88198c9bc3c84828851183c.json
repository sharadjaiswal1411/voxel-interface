{"ast":null,"code":"import _taggedTemplateLiteral from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nimport _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/pages/Campaign/CampaignButtonWithOptions.tsx\",\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport { i18n } from \"@lingui/core\";\nimport { BigNumber } from '@ethersproject/bignumber';\nimport axios from 'axios';\nimport { useMemo, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Flex, Text } from 'rebass';\nimport styled, { css } from 'styled-components';\nimport { ReactComponent as ChevronDown } from \"@svgr/webpack?-svgo,+titleProp,+ref!assets/svg/down.svg\";\nimport { ButtonPrimary } from 'components/Button';\nimport { BIG_INT_ZERO, DEFAULT_SIGNIFICANT } from 'constants/index';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { useActiveWeb3React } from 'hooks';\nimport { useActiveNetwork } from 'hooks/useActiveNetwork';\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel';\nimport { useOnClickOutside } from 'hooks/useOnClickOutside';\nimport useSendTransactionCallback from 'hooks/useSendTransactionCallback';\nimport useTheme from 'hooks/useTheme';\nimport { Dots } from 'pages/Pool/styleds';\nimport { OptionsContainer } from 'pages/TrueSight/styled';\nimport { setCampaignData, setSelectedCampaignLeaderboard } from 'state/campaigns/actions';\nimport { useSetClaimingCampaignRewardId, useSwapNowHandler } from 'state/campaigns/hooks';\nimport { useTransactionAdder } from 'state/transactions/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CampaignButtonWithOptions(_ref) {\n  _s();\n\n  var _this = this;\n\n  var campaign = _ref.campaign,\n      leaderboard = _ref.leaderboard,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      type = _ref.type,\n      addTemporaryClaimedRefs = _ref.addTemporaryClaimedRefs,\n      size = _ref.size;\n  var theme = useTheme();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isShowNetworks = _useState2[0],\n      setIsShowNetworks = _useState2[1];\n\n  var _useActiveNetwork = useActiveNetwork(),\n      changeNetwork = _useActiveNetwork.changeNetwork;\n\n  var containerRef = useRef(null);\n  useOnClickOutside(containerRef, function () {\n    return setIsShowNetworks(false);\n  });\n\n  var _useMixpanel = useMixpanel(),\n      mixpanelHandler = _useMixpanel.mixpanelHandler;\n\n  var chainIds = campaign ? campaign[type === 'swap_now' ? 'chainIds' : 'rewardChainIds'].split(',').map(Number) : [];\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      account = _useActiveWeb3React.account,\n      library = _useActiveWeb3React.library;\n\n  var leaderboardInfo = leaderboard || (campaign === null || campaign === void 0 ? void 0 : campaign.leaderboard);\n  var refs = [];\n\n  if (leaderboardInfo && leaderboardInfo.rewards) {\n    leaderboardInfo.rewards.forEach(function (reward) {\n      if (!reward.claimed && reward.rewardAmount.greaterThan(BIG_INT_ZERO)) {\n        refs.push(reward.ref);\n      }\n    });\n  }\n\n  var transactionsState = useSelector(function (state) {\n    return state.transactions;\n  });\n\n  var _useSelector = useSelector(function (state) {\n    return state.campaigns;\n  }),\n      selectedCampaign = _useSelector.selectedCampaign,\n      campaignData = _useSelector.data,\n      selectedCampaignLeaderboard = _useSelector.selectedCampaignLeaderboard;\n\n  var transactions = useMemo(function () {\n    var _transactionsState$pa;\n\n    return campaign ? (_transactionsState$pa = transactionsState[parseInt(campaign.rewardChainIds)]) !== null && _transactionsState$pa !== void 0 ? _transactionsState$pa : {} : {};\n  }, [transactionsState, campaign]);\n\n  var _useSetClaimingCampai = useSetClaimingCampaignRewardId(),\n      _useSetClaimingCampai2 = _slicedToArray(_useSetClaimingCampai, 2),\n      claimingCampaignRewardId = _useSetClaimingCampai2[0],\n      setClaimingCampaignRewardId = _useSetClaimingCampai2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      ref2Hash = _useState4[0],\n      setRef2Hash = _useState4[1];\n\n  var claimRewardHashes = refs.map(function (ref) {\n    return ref2Hash[ref];\n  }).filter(function (hash) {\n    return !!hash;\n  });\n  var isClaimingThisCampaignRewards = claimRewardHashes.some(function (hash) {\n    var _transactions$hash;\n\n    return transactions[hash] !== undefined && ((_transactions$hash = transactions[hash]) === null || _transactions$hash === void 0 ? void 0 : _transactions$hash.receipt) === undefined;\n  }) || (campaign === null || campaign === void 0 ? void 0 : campaign.id) === claimingCampaignRewardId;\n  var dispatch = useDispatch();\n\n  var updateCampaignStore = function updateCampaignStore() {\n    var _leaderboardInfo$rewa, _leaderboardInfo$rewa2;\n\n    var rewards = (_leaderboardInfo$rewa = leaderboardInfo === null || leaderboardInfo === void 0 ? void 0 : (_leaderboardInfo$rewa2 = leaderboardInfo.rewards) === null || _leaderboardInfo$rewa2 === void 0 ? void 0 : _leaderboardInfo$rewa2.map(function (rw) {\n      return _objectSpread(_objectSpread({}, rw), {}, {\n        claimed: true\n      });\n    })) !== null && _leaderboardInfo$rewa !== void 0 ? _leaderboardInfo$rewa : []; // update selected leaderboard of campaign\n\n    if ((campaign === null || campaign === void 0 ? void 0 : campaign.id) === (selectedCampaign === null || selectedCampaign === void 0 ? void 0 : selectedCampaign.id) && selectedCampaignLeaderboard) {\n      var newLeaderboard = _objectSpread(_objectSpread({}, selectedCampaignLeaderboard), {}, {\n        rewards: rewards\n      });\n\n      dispatch(setSelectedCampaignLeaderboard({\n        leaderboard: newLeaderboard\n      }));\n    } // update leaderboard of list campaign\n\n\n    var campaigns = campaignData === null || campaignData === void 0 ? void 0 : campaignData.map(function (el) {\n      if (el.id === (campaign === null || campaign === void 0 ? void 0 : campaign.id) && el.leaderboard) return _objectSpread(_objectSpread({}, el), {}, {\n        leaderboard: _objectSpread(_objectSpread({}, el.leaderboard), {}, {\n          rewards: rewards\n        })\n      });\n      return el;\n    });\n    dispatch(setCampaignData({\n      campaigns: campaigns\n    }));\n  };\n\n  var addTransactionWithType = useTransactionAdder();\n  var sendTransaction = useSendTransactionCallback();\n\n  var claimRewards = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(claimChainId) {\n      var _response, _response$data;\n\n      var url, data, response, rewardContractAddress, encodedData;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(!account || !library || !campaign || !leaderboardInfo)) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 2:\n              setClaimingCampaignRewardId(campaign.id);\n              url = process.env.REACT_APP_REWARD_SERVICE_API + '/rewards/claim';\n              data = {\n                wallet: account.toLowerCase(),\n                chainId: campaign.rewardChainIds,\n                clientCode: 'campaign',\n                ref: refs.join(',')\n              };\n              _context2.prev = 5;\n              _context2.next = 8;\n              return axios({\n                method: 'POST',\n                url: url,\n                data: data\n              });\n\n            case 8:\n              response = _context2.sent;\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](5);\n              console.error(_context2.t0);\n              setClaimingCampaignRewardId(null);\n\n            case 15:\n              if (!(((_response = response) === null || _response === void 0 ? void 0 : (_response$data = _response.data) === null || _response$data === void 0 ? void 0 : _response$data.code) === 200000)) {\n                _context2.next = 27;\n                break;\n              }\n\n              rewardContractAddress = response.data.data.ContractAddress;\n              encodedData = response.data.data.EncodedData;\n              _context2.prev = 18;\n              _context2.next = 21;\n              return sendTransaction(rewardContractAddress, encodedData, BigNumber.from(0), /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(transactionResponse) {\n                  var accumulatedUnclaimedRewards, rewardString, newRef2Hash, transactionReceipt;\n                  return _regeneratorRuntime().wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          accumulatedUnclaimedRewards = leaderboardInfo === null || leaderboardInfo === void 0 ? void 0 : leaderboardInfo.rewards.filter(function (reward) {\n                            return !reward.claimed;\n                          }).reduce(function (acc, value) {\n                            var key = value.token.chainId + '_' + value.token.address;\n\n                            if (acc[key] === undefined) {\n                              acc[key] = value;\n                            } else {\n                              acc[key] = _objectSpread(_objectSpread({}, value), {}, {\n                                rewardAmount: value.rewardAmount.add(acc[key].rewardAmount)\n                              });\n                            }\n\n                            return acc;\n                          }, {});\n                          rewardString = Object.values(accumulatedUnclaimedRewards !== null && accumulatedUnclaimedRewards !== void 0 ? accumulatedUnclaimedRewards : {}).map(function (reward) {\n                            return reward.rewardAmount.toSignificant(DEFAULT_SIGNIFICANT) + ' ' + reward.token.symbol;\n                          }).join(' ' +\n                          /*i18n*/\n                          i18n._(\"and\") + ' ');\n                          addTransactionWithType(transactionResponse, {\n                            type: 'Claim',\n                            desiredChainId: claimChainId,\n                            summary: \"\".concat(rewardString, \" from campaign \\\"\").concat(campaign === null || campaign === void 0 ? void 0 : campaign.name, \"\\\"\")\n                          });\n                          newRef2Hash = refs.filter(function (ref) {\n                            return !!ref;\n                          }).reduce(function (acc, ref) {\n                            return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, ref, transactionResponse.hash));\n                          }, {});\n                          setRef2Hash(function (prev) {\n                            return _objectSpread(_objectSpread({}, prev), newRef2Hash);\n                          });\n                          _context.next = 7;\n                          return transactionResponse.wait();\n\n                        case 7:\n                          transactionReceipt = _context.sent;\n\n                          if (transactionReceipt.status === 1) {\n                            addTemporaryClaimedRefs && addTemporaryClaimedRefs(refs);\n                            updateCampaignStore();\n                          }\n\n                        case 9:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n            case 21:\n              _context2.next = 27;\n              break;\n\n            case 23:\n              _context2.prev = 23;\n              _context2.t1 = _context2[\"catch\"](18);\n              console.error(_context2.t1);\n              setClaimingCampaignRewardId(null);\n\n            case 27:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[5, 11], [18, 23]]);\n    }));\n\n    return function claimRewards(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleSwapNow = useSwapNowHandler();\n  return /*#__PURE__*/_jsxDEV(StyledPrimaryButton, {\n    size: size,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      setIsShowNetworks(function (prev) {\n        return !prev;\n      });\n    },\n    disabled: disabled || isClaimingThisCampaignRewards,\n    ref: containerRef,\n    children: [type === 'swap_now' ?\n    /*i18n*/\n    i18n._(\"Swap now\") : isClaimingThisCampaignRewards ?\n    /*i18n*/\n    i18n._(\"Claiming Rewards\") :\n    /*i18n*/\n    i18n._(\"Claim Rewards\"), isClaimingThisCampaignRewards && /*#__PURE__*/_jsxDEV(Dots, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 41\n    }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n      style: {\n        position: 'absolute',\n        top: '50%',\n        right: '12px',\n        transform: 'translateY(-50%)'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), isShowNetworks && /*#__PURE__*/_jsxDEV(OptionsContainer, {\n      children: chainIds.map(function (chainId) {\n        return /*#__PURE__*/_jsxDEV(Flex, {\n          alignItems: \"center\",\n          onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n            return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    if (!(type === 'swap_now')) {\n                      _context3.next = 4;\n                      break;\n                    }\n\n                    handleSwapNow(chainId);\n                    _context3.next = 7;\n                    break;\n\n                  case 4:\n                    mixpanelHandler(MIXPANEL_TYPE.CAMPAIGN_CLAIM_REWARDS_CLICKED, {\n                      campaign_name: campaign === null || campaign === void 0 ? void 0 : campaign.name\n                    });\n                    _context3.next = 7;\n                    return changeNetwork(chainId, function () {\n                      return claimRewards(chainId);\n                    });\n\n                  case 7:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          })),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: NETWORKS_INFO[chainId].icon,\n            alt: \"Network\",\n            style: {\n              minWidth: '16px',\n              width: '16px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(Text, {\n            marginLeft: \"8px\",\n            color: theme.subText,\n            fontSize: \"12px\",\n            fontWeight: 500,\n            minWidth: \"fit-content\",\n            children: type === 'swap_now' ?\n            /*i18n*/\n            i18n._(\"Swap on {0}\", {\n              0: NETWORKS_INFO[chainId].name\n            }) :\n            /*i18n*/\n            i18n._(\"Claim on {0}\", {\n              0: NETWORKS_INFO[chainId].name\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, _this)]\n        }, chainId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CampaignButtonWithOptions, \"7Qau1J6rZvhA3c8BgQY6Dcgbo04=\", false, function () {\n  return [useTheme, useActiveNetwork, useOnClickOutside, useMixpanel, useActiveWeb3React, useSelector, useSelector, useSetClaimingCampaignRewardId, useDispatch, useTransactionAdder, useSendTransactionCallback, useSwapNowHandler];\n});\n\n_c = CampaignButtonWithOptions;\nexport var StyledPrimaryButton = styled(ButtonPrimary).withConfig({\n  displayName: \"CampaignButtonWithOptions__StyledPrimaryButton\",\n  componentId: \"sc-q8eh7g-0\"\n})([\"position:relative;font-size:14px;padding:12px 48px;min-width:fit-content;height:\", \";font-weight:500;color:\", \";border:none;z-index:unset;\", \";\"], function (_ref5) {\n  var size = _ref5.size;\n  return size === 'large' ? '44px' : '35px';\n}, function (_ref6) {\n  var theme = _ref6.theme;\n  return theme.textReverse;\n}, function (_ref7) {\n  var theme = _ref7.theme;\n  return theme.mediaWidth.upToSmall(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    \", \"\\n  \"])), css([\"flex:1;\"]));\n});\n_c2 = StyledPrimaryButton;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CampaignButtonWithOptions\");\n$RefreshReg$(_c2, \"StyledPrimaryButton\");","map":{"version":3,"names":["BigNumber","axios","useMemo","useRef","useState","useDispatch","useSelector","Flex","Text","styled","css","ButtonPrimary","BIG_INT_ZERO","DEFAULT_SIGNIFICANT","NETWORKS_INFO","useActiveWeb3React","useActiveNetwork","useMixpanel","MIXPANEL_TYPE","useOnClickOutside","useSendTransactionCallback","useTheme","Dots","OptionsContainer","setCampaignData","setSelectedCampaignLeaderboard","useSetClaimingCampaignRewardId","useSwapNowHandler","useTransactionAdder","CampaignButtonWithOptions","campaign","leaderboard","disabled","type","addTemporaryClaimedRefs","size","theme","isShowNetworks","setIsShowNetworks","changeNetwork","containerRef","mixpanelHandler","chainIds","split","map","Number","account","library","leaderboardInfo","refs","rewards","forEach","reward","claimed","rewardAmount","greaterThan","push","ref","transactionsState","state","transactions","campaigns","selectedCampaign","campaignData","data","selectedCampaignLeaderboard","parseInt","rewardChainIds","claimingCampaignRewardId","setClaimingCampaignRewardId","ref2Hash","setRef2Hash","claimRewardHashes","filter","hash","isClaimingThisCampaignRewards","some","undefined","receipt","id","dispatch","updateCampaignStore","rw","newLeaderboard","el","addTransactionWithType","sendTransaction","claimRewards","claimChainId","url","process","env","REACT_APP_REWARD_SERVICE_API","wallet","toLowerCase","chainId","clientCode","join","method","response","console","error","code","rewardContractAddress","ContractAddress","encodedData","EncodedData","from","transactionResponse","accumulatedUnclaimedRewards","reduce","acc","value","key","token","address","add","rewardString","Object","values","toSignificant","symbol","desiredChainId","summary","name","newRef2Hash","prev","wait","transactionReceipt","status","handleSwapNow","e","stopPropagation","position","top","right","transform","CAMPAIGN_CLAIM_REWARDS_CLICKED","campaign_name","icon","minWidth","width","subText","StyledPrimaryButton","textReverse","mediaWidth","upToSmall"],"sources":["/Applications/XAMPP/voxel-interface/src/pages/Campaign/CampaignButtonWithOptions.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { ChainId } from '@kyberswap/ks-sdk-core'\nimport { t } from '@lingui/macro'\nimport axios from 'axios'\nimport { useMemo, useRef, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Flex, Text } from 'rebass'\nimport styled, { css } from 'styled-components'\n\nimport { ReactComponent as ChevronDown } from 'assets/svg/down.svg'\nimport { ButtonPrimary } from 'components/Button'\nimport { BIG_INT_ZERO, DEFAULT_SIGNIFICANT } from 'constants/index'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { useActiveWeb3React } from 'hooks'\nimport { useActiveNetwork } from 'hooks/useActiveNetwork'\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\nimport { useOnClickOutside } from 'hooks/useOnClickOutside'\nimport useSendTransactionCallback from 'hooks/useSendTransactionCallback'\nimport useTheme from 'hooks/useTheme'\nimport { Dots } from 'pages/Pool/styleds'\nimport { OptionsContainer } from 'pages/TrueSight/styled'\nimport { AppState } from 'state'\nimport {\n  CampaignData,\n  CampaignLeaderboard,\n  CampaignLeaderboardReward,\n  setCampaignData,\n  setSelectedCampaignLeaderboard,\n} from 'state/campaigns/actions'\nimport { useSetClaimingCampaignRewardId, useSwapNowHandler } from 'state/campaigns/hooks'\nimport { useTransactionAdder } from 'state/transactions/hooks'\n\ntype Size = 'small' | 'large'\nexport default function CampaignButtonWithOptions({\n  campaign,\n  leaderboard,\n  disabled = false,\n  type,\n  addTemporaryClaimedRefs,\n  size,\n}: {\n  campaign: CampaignData | undefined\n  leaderboard?: CampaignLeaderboard\n  disabled?: boolean\n  type: 'swap_now' | 'claim_rewards'\n  size: Size\n  addTemporaryClaimedRefs?: (claimedRefs: string[]) => void\n}) {\n  const theme = useTheme()\n  const [isShowNetworks, setIsShowNetworks] = useState(false)\n  const { changeNetwork } = useActiveNetwork()\n  const containerRef = useRef<HTMLButtonElement>(null)\n  useOnClickOutside(containerRef, () => setIsShowNetworks(false))\n  const { mixpanelHandler } = useMixpanel()\n\n  const chainIds: ChainId[] = campaign\n    ? campaign[type === 'swap_now' ? 'chainIds' : 'rewardChainIds'].split(',').map(Number)\n    : []\n\n  const { account, library } = useActiveWeb3React()\n\n  const leaderboardInfo = leaderboard || campaign?.leaderboard\n\n  const refs: string[] = []\n  if (leaderboardInfo && leaderboardInfo.rewards) {\n    leaderboardInfo.rewards.forEach(reward => {\n      if (!reward.claimed && reward.rewardAmount.greaterThan(BIG_INT_ZERO)) {\n        refs.push(reward.ref)\n      }\n    })\n  }\n\n  const transactionsState = useSelector<AppState, AppState['transactions']>(state => state.transactions)\n  const {\n    selectedCampaign,\n    data: campaignData,\n    selectedCampaignLeaderboard,\n  } = useSelector((state: AppState) => state.campaigns)\n  const transactions = useMemo(\n    () => (campaign ? transactionsState[parseInt(campaign.rewardChainIds)] ?? {} : {}),\n    [transactionsState, campaign],\n  )\n  const [claimingCampaignRewardId, setClaimingCampaignRewardId] = useSetClaimingCampaignRewardId()\n  const [ref2Hash, setRef2Hash] = useState<{ [ref: string]: string }>({})\n  const claimRewardHashes = refs.map(ref => ref2Hash[ref]).filter(hash => !!hash)\n  const isClaimingThisCampaignRewards =\n    claimRewardHashes.some(hash => {\n      return transactions[hash] !== undefined && transactions[hash]?.receipt === undefined\n    }) || campaign?.id === claimingCampaignRewardId\n\n  const dispatch = useDispatch()\n\n  const updateCampaignStore = () => {\n    const rewards: CampaignLeaderboardReward[] = leaderboardInfo?.rewards?.map(rw => ({ ...rw, claimed: true })) ?? []\n\n    // update selected leaderboard of campaign\n    if (campaign?.id === selectedCampaign?.id && selectedCampaignLeaderboard) {\n      const newLeaderboard = { ...selectedCampaignLeaderboard, rewards }\n      dispatch(\n        setSelectedCampaignLeaderboard({\n          leaderboard: newLeaderboard,\n        }),\n      )\n    }\n\n    // update leaderboard of list campaign\n    const campaigns = campaignData?.map((el: CampaignData) => {\n      if (el.id === campaign?.id && el.leaderboard) return { ...el, leaderboard: { ...el.leaderboard, rewards } }\n      return el\n    })\n    dispatch(setCampaignData({ campaigns }))\n  }\n\n  const addTransactionWithType = useTransactionAdder()\n  const sendTransaction = useSendTransactionCallback()\n\n  const claimRewards = async (claimChainId: ChainId) => {\n    if (!account || !library || !campaign || !leaderboardInfo) return\n    setClaimingCampaignRewardId(campaign.id)\n    const url = process.env.REACT_APP_REWARD_SERVICE_API + '/rewards/claim'\n\n    const data = {\n      wallet: account.toLowerCase(),\n      chainId: campaign.rewardChainIds,\n      clientCode: 'campaign',\n      ref: refs.join(','),\n    }\n    let response: any\n    try {\n      response = await axios({ method: 'POST', url, data })\n    } catch (err) {\n      console.error(err)\n      setClaimingCampaignRewardId(null)\n    }\n\n    if (response?.data?.code === 200000) {\n      const rewardContractAddress = response.data.data.ContractAddress\n      const encodedData = response.data.data.EncodedData\n      try {\n        await sendTransaction(rewardContractAddress, encodedData, BigNumber.from(0), async transactionResponse => {\n          const accumulatedUnclaimedRewards = leaderboardInfo?.rewards\n            .filter(reward => !reward.claimed)\n            .reduce((acc: { [p: string]: CampaignLeaderboardReward }, value) => {\n              const key = value.token.chainId + '_' + value.token.address\n              if (acc[key] === undefined) {\n                acc[key] = value\n              } else {\n                acc[key] = {\n                  ...value,\n                  rewardAmount: value.rewardAmount.add(acc[key].rewardAmount),\n                }\n              }\n              return acc\n            }, {})\n          const rewardString = Object.values(accumulatedUnclaimedRewards ?? {})\n            .map(reward => reward.rewardAmount.toSignificant(DEFAULT_SIGNIFICANT) + ' ' + reward.token.symbol)\n            .join(' ' + t`and` + ' ')\n          addTransactionWithType(transactionResponse, {\n            type: 'Claim',\n            desiredChainId: claimChainId,\n            summary: `${rewardString} from campaign \"${campaign?.name}\"`,\n          })\n          const newRef2Hash = refs\n            .filter(ref => !!ref)\n            .reduce((acc, ref) => ({ ...acc, [ref]: transactionResponse.hash }), {})\n          setRef2Hash(prev => ({ ...prev, ...newRef2Hash }))\n          const transactionReceipt = await transactionResponse.wait()\n          if (transactionReceipt.status === 1) {\n            addTemporaryClaimedRefs && addTemporaryClaimedRefs(refs)\n            updateCampaignStore()\n          }\n        })\n      } catch (err) {\n        console.error(err)\n        setClaimingCampaignRewardId(null)\n      }\n    }\n  }\n\n  const handleSwapNow = useSwapNowHandler()\n\n  return (\n    <StyledPrimaryButton\n      size={size}\n      onClick={e => {\n        e.stopPropagation()\n        setIsShowNetworks(prev => !prev)\n      }}\n      disabled={disabled || isClaimingThisCampaignRewards}\n      ref={containerRef}\n    >\n      {type === 'swap_now' ? t`Swap now` : isClaimingThisCampaignRewards ? t`Claiming Rewards` : t`Claim Rewards`}\n      {isClaimingThisCampaignRewards && <Dots />}\n      <ChevronDown style={{ position: 'absolute', top: '50%', right: '12px', transform: 'translateY(-50%)' }} />\n      {isShowNetworks && (\n        <OptionsContainer>\n          {chainIds.map(chainId => {\n            return (\n              <Flex\n                key={chainId}\n                alignItems=\"center\"\n                onClick={async () => {\n                  if (type === 'swap_now') {\n                    handleSwapNow(chainId)\n                  } else {\n                    mixpanelHandler(MIXPANEL_TYPE.CAMPAIGN_CLAIM_REWARDS_CLICKED, { campaign_name: campaign?.name })\n                    await changeNetwork(chainId, () => claimRewards(chainId))\n                  }\n                }}\n              >\n                <img src={NETWORKS_INFO[chainId].icon} alt=\"Network\" style={{ minWidth: '16px', width: '16px' }} />\n                <Text marginLeft=\"8px\" color={theme.subText} fontSize=\"12px\" fontWeight={500} minWidth=\"fit-content\">\n                  {type === 'swap_now'\n                    ? t`Swap on ${NETWORKS_INFO[chainId].name}`\n                    : t`Claim on ${NETWORKS_INFO[chainId].name}`}\n                </Text>\n              </Flex>\n            )\n          })}\n        </OptionsContainer>\n      )}\n    </StyledPrimaryButton>\n  )\n}\n\nexport const StyledPrimaryButton = styled(ButtonPrimary)<{ size: Size }>`\n  position: relative;\n  font-size: 14px;\n  padding: 12px 48px;\n  min-width: fit-content;\n  height: ${({ size }) => (size === 'large' ? '44px' : '35px')};\n  font-weight: 500;\n  color: ${({ theme }) => theme.textReverse};\n  border: none;\n  z-index: unset;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    ${css`\n      flex: 1;\n    `}\n  `};\n`\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}