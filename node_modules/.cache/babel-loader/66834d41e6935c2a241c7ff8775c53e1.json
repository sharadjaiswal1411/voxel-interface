{"ast":null,"code":"import _regeneratorRuntime from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/Menu/FaucetModal.tsx\",\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { i18n } from \"@lingui/core\";\nimport { Fraction } from '@kyberswap/ks-sdk-core';\nimport { BigNumber } from 'ethers';\nimport JSBI from 'jsbi';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Flex, Text } from 'rebass';\nimport styled from 'styled-components';\nimport { ButtonPrimary } from 'components/Button';\nimport Logo from 'components/Logo';\nimport Modal from 'components/Modal';\nimport { RowBetween } from 'components/Row';\nimport { NETWORKS_INFO } from 'constants/networks';\nimport { nativeOnChain } from 'constants/tokens';\nimport { useActiveWeb3React } from 'hooks';\nimport { useAllTokens } from 'hooks/Tokens';\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel';\nimport useTheme from 'hooks/useTheme';\nimport { ApplicationModal } from 'state/application/actions';\nimport { NotificationType, useModalOpen, useNotify, useToggleModal, useWalletModalToggle } from 'state/application/hooks';\nimport { CloseIcon } from 'theme';\nimport { getTokenLogoURL, isAddress, shortenAddress } from 'utils';\nimport { filterTokens } from 'utils/filtering';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar AddressWrapper = styled.div.withConfig({\n  displayName: \"FaucetModal__AddressWrapper\",\n  componentId: \"sc-1xm3sdn-0\"\n})([\"background:\", \";border-radius:8px;padding:12px;overflow:hidden;p{margin:12px 0 0 0;font-size:24px;line-height:28px;font-weight:500;color:\", \";}\"], function (_ref) {\n  var theme = _ref.theme;\n  return theme.buttonBlack;\n}, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.disableText;\n});\n_c = AddressWrapper;\n\nvar getFullDisplayBalance = function getFullDisplayBalance(balance) {\n  var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 18;\n  var significant = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 6;\n  var amount = new Fraction(balance.toString(), JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(decimals)));\n\n  if (amount.lessThan(new Fraction('1'))) {\n    return amount.toSignificant(significant);\n  }\n\n  return amount.toFixed(0);\n};\n\nfunction FaucetModal() {\n  _s();\n\n  var _this = this;\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId,\n      account = _useActiveWeb3React.account;\n\n  var open = useModalOpen(ApplicationModal.FAUCET_POPUP);\n  var toggle = useToggleModal(ApplicationModal.FAUCET_POPUP);\n  var theme = useTheme();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      rewardData = _useState2[0],\n      setRewardData = _useState2[1];\n\n  var notify = useNotify();\n  var toggleWalletModal = useWalletModalToggle();\n\n  var _useMixpanel = useMixpanel(),\n      mixpanelHandler = _useMixpanel.mixpanelHandler;\n\n  var allTokens = useAllTokens();\n  var token = useMemo(function () {\n    if (!chainId || !account) return;\n    var nativeToken = nativeOnChain(chainId);\n\n    if (rewardData) {\n      if (rewardData.tokenAddress === '0') return nativeToken;\n      if (isAddress(rewardData.tokenAddress)) return filterTokens(Object.values(allTokens), rewardData.tokenAddress)[0];\n    }\n\n    return nativeToken;\n  }, [rewardData, chainId, account, allTokens]);\n  var tokenLogo = useMemo(function () {\n    if (!chainId || !token) return;\n    if (token.isNative) return NETWORKS_INFO[chainId].nativeToken.logo;\n    return getTokenLogoURL(token.address, chainId);\n  }, [chainId, token]);\n  var tokenSymbol = useMemo(function () {\n    if (token !== null && token !== void 0 && token.isNative && chainId) return NETWORKS_INFO[chainId].nativeToken.name;\n    return token === null || token === void 0 ? void 0 : token.symbol;\n  }, [token, chainId]);\n  var claimRewardCallBack = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var rawResponse, content;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (rewardData) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            _context.prev = 2;\n            _context.next = 5;\n            return fetch(process.env.REACT_APP_REWARD_SERVICE_API + '/rewards/claim', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                wallet: account,\n                program: rewardData.program\n              })\n            });\n\n          case 5:\n            rawResponse = _context.sent;\n            _context.next = 8;\n            return rawResponse.json();\n\n          case 8:\n            content = _context.sent;\n\n            if (content) {\n              notify({\n                title:\n                /*i18n*/\n                i18n._(\"Request to Faucet - Submitted\"),\n                type: NotificationType.SUCCESS,\n                summary:\n                /*i18n*/\n                i18n._(\"You will receive {0} {tokenSymbol} soon!\", {\n                  0: rewardData !== null && rewardData !== void 0 && rewardData.amount ? getFullDisplayBalance(rewardData === null || rewardData === void 0 ? void 0 : rewardData.amount, token === null || token === void 0 ? void 0 : token.decimals) : 0,\n                  tokenSymbol: tokenSymbol\n                })\n              });\n              setRewardData(function (rw) {\n                if (rw) {\n                  rw.amount = BigNumber.from(0);\n                }\n\n                return rw;\n              });\n            }\n\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(_context.t0);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 12]]);\n  })), [account, notify, rewardData, token === null || token === void 0 ? void 0 : token.decimals, tokenSymbol]);\n  useEffect(function () {\n    if (!chainId || !account) return;\n\n    var getRewardAmount = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _yield$fetch$then, data;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(\"\".concat(process.env.REACT_APP_REWARD_SERVICE_API, \"/faucets?wallet=\").concat(account, \"&chainId=\").concat(chainId)).then(function (res) {\n                  return res.json();\n                });\n\n              case 3:\n                _yield$fetch$then = _context2.sent;\n                data = _yield$fetch$then.data;\n                if (data[0]) setRewardData({\n                  amount: BigNumber.from(data[0].amount),\n                  tokenAddress: data[0].token,\n                  program: data[0].programId\n                });\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 8]]);\n      }));\n\n      return function getRewardAmount() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    getRewardAmount();\n  }, [chainId, account]);\n  var modalContent = useMemo(function () {\n    return /*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: 'column',\n      padding: \"26px 24px\",\n      style: {\n        gap: '25px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          fontSize: 20,\n          fontWeight: 500,\n          color: theme.text,\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Faucet\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n          onClick: toggle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(AddressWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Text, {\n          color: theme.subText,\n          fontSize: 12,\n          children: /*#__PURE__*/_jsxDEV(Trans, {\n            id: \"Your wallet address\"\n          }, void 0, false, void 0, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: account && shortenAddress(account, 9)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: 16,\n        lineHeight: \"24px\",\n        color: theme.text,\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"If your wallet is eligible, you will be able to request for some {tokenSymbol} tokens for free below. Each wallet can only request for the tokens once. You can claim:\",\n          values: {\n            tokenSymbol: tokenSymbol\n          }\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Text, {\n        fontSize: 32,\n        lineHeight: \"38px\",\n        fontWeight: 500,\n        children: token && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [tokenLogo && /*#__PURE__*/_jsxDEV(Logo, {\n            srcs: [tokenLogo],\n            alt: \"\".concat(tokenSymbol !== null && tokenSymbol !== void 0 ? tokenSymbol : 'token', \" logo\"),\n            style: {\n              width: '28px',\n              paddingRight: '8px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, _this), ' ', rewardData !== null && rewardData !== void 0 && rewardData.amount ? getFullDisplayBalance(rewardData === null || rewardData === void 0 ? void 0 : rewardData.amount, token === null || token === void 0 ? void 0 : token.decimals) : 0, \" \", tokenSymbol]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, _this), account ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n        disabled: !(rewardData !== null && rewardData !== void 0 && rewardData.amount) || (rewardData === null || rewardData === void 0 ? void 0 : rewardData.amount.eq(0)),\n        onClick: function onClick() {\n          claimRewardCallBack();\n          mixpanelHandler(MIXPANEL_TYPE.FAUCET_REQUEST_INITIATED);\n          toggle();\n        },\n        style: {\n          borderRadius: '24px',\n          height: '44px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Request\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, _this) : /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n        onClick: function onClick() {\n          toggleWalletModal();\n        },\n        style: {\n          borderRadius: '24px',\n          height: '44px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          id: \"Connect Wallet\"\n        }, void 0, false, void 0, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, _this);\n  }, [account, claimRewardCallBack, mixpanelHandler, rewardData === null || rewardData === void 0 ? void 0 : rewardData.amount, theme, toggle, toggleWalletModal, token, tokenLogo, tokenSymbol]);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: open,\n    onDismiss: function onDismiss() {\n      toggle();\n    },\n    maxHeight: 90,\n    children: modalContent\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FaucetModal, \"nhU8/KB8POezoONzlHPYDnFAioo=\", false, function () {\n  return [useActiveWeb3React, useModalOpen, useToggleModal, useTheme, useNotify, useWalletModalToggle, useMixpanel, useAllTokens];\n});\n\n_c2 = FaucetModal;\nexport default FaucetModal;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"AddressWrapper\");\n$RefreshReg$(_c2, \"FaucetModal\");","map":{"version":3,"names":["Fraction","BigNumber","JSBI","useCallback","useEffect","useMemo","useState","Flex","Text","styled","ButtonPrimary","Logo","Modal","RowBetween","NETWORKS_INFO","nativeOnChain","useActiveWeb3React","useAllTokens","useMixpanel","MIXPANEL_TYPE","useTheme","ApplicationModal","NotificationType","useModalOpen","useNotify","useToggleModal","useWalletModalToggle","CloseIcon","getTokenLogoURL","isAddress","shortenAddress","filterTokens","AddressWrapper","div","theme","buttonBlack","disableText","getFullDisplayBalance","balance","decimals","significant","amount","toString","exponentiate","BigInt","lessThan","toSignificant","toFixed","FaucetModal","chainId","account","open","FAUCET_POPUP","toggle","rewardData","setRewardData","notify","toggleWalletModal","mixpanelHandler","allTokens","token","nativeToken","tokenAddress","Object","values","tokenLogo","isNative","logo","address","tokenSymbol","name","symbol","claimRewardCallBack","fetch","process","env","REACT_APP_REWARD_SERVICE_API","method","headers","body","JSON","stringify","wallet","program","rawResponse","json","content","title","type","SUCCESS","summary","rw","from","console","log","getRewardAmount","then","res","data","programId","modalContent","gap","text","subText","width","paddingRight","eq","FAUCET_REQUEST_INITIATED","borderRadius","height"],"sources":["/Applications/XAMPP/voxel-interface/src/components/Menu/FaucetModal.tsx"],"sourcesContent":["import { ChainId, Fraction } from '@kyberswap/ks-sdk-core'\nimport { Trans, t } from '@lingui/macro'\nimport { BigNumber } from 'ethers'\nimport JSBI from 'jsbi'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { Flex, Text } from 'rebass'\nimport styled from 'styled-components'\n\nimport { ButtonPrimary } from 'components/Button'\nimport Logo from 'components/Logo'\nimport Modal from 'components/Modal'\nimport { RowBetween } from 'components/Row'\nimport { NETWORKS_INFO } from 'constants/networks'\nimport { nativeOnChain } from 'constants/tokens'\nimport { useActiveWeb3React } from 'hooks'\nimport { useAllTokens } from 'hooks/Tokens'\nimport useMixpanel, { MIXPANEL_TYPE } from 'hooks/useMixpanel'\nimport useTheme from 'hooks/useTheme'\nimport { ApplicationModal } from 'state/application/actions'\nimport {\n  NotificationType,\n  useModalOpen,\n  useNotify,\n  useToggleModal,\n  useWalletModalToggle,\n} from 'state/application/hooks'\nimport { CloseIcon } from 'theme'\nimport { getTokenLogoURL, isAddress, shortenAddress } from 'utils'\nimport { filterTokens } from 'utils/filtering'\n\nconst AddressWrapper = styled.div`\n  background: ${({ theme }) => theme.buttonBlack};\n  border-radius: 8px;\n  padding: 12px;\n  overflow: hidden;\n  p {\n    margin: 12px 0 0 0;\n    font-size: 24px;\n    line-height: 28px;\n    font-weight: 500;\n    color: ${({ theme }) => theme.disableText};\n  }\n`\n\nconst getFullDisplayBalance = (balance: BigNumber, decimals = 18, significant = 6): string => {\n  const amount = new Fraction(balance.toString(), JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(decimals)))\n  if (amount.lessThan(new Fraction('1'))) {\n    return amount.toSignificant(significant)\n  }\n\n  return amount.toFixed(0)\n}\n\nfunction FaucetModal() {\n  const { chainId, account } = useActiveWeb3React()\n  const open = useModalOpen(ApplicationModal.FAUCET_POPUP)\n  const toggle = useToggleModal(ApplicationModal.FAUCET_POPUP)\n  const theme = useTheme()\n  const [rewardData, setRewardData] = useState<{ amount: BigNumber; tokenAddress: string; program: number }>()\n  const notify = useNotify()\n  const toggleWalletModal = useWalletModalToggle()\n  const { mixpanelHandler } = useMixpanel()\n  const allTokens = useAllTokens()\n  const token = useMemo(() => {\n    if (!chainId || !account) return\n    const nativeToken = nativeOnChain(chainId as ChainId)\n    if (rewardData) {\n      if (rewardData.tokenAddress === '0') return nativeToken\n      if (isAddress(rewardData.tokenAddress)) return filterTokens(Object.values(allTokens), rewardData.tokenAddress)[0]\n    }\n    return nativeToken\n  }, [rewardData, chainId, account, allTokens])\n  const tokenLogo = useMemo(() => {\n    if (!chainId || !token) return\n    if (token.isNative) return NETWORKS_INFO[chainId].nativeToken.logo\n    return getTokenLogoURL(token.address, chainId)\n  }, [chainId, token])\n  const tokenSymbol = useMemo(() => {\n    if (token?.isNative && chainId) return NETWORKS_INFO[chainId].nativeToken.name\n    return token?.symbol\n  }, [token, chainId])\n  const claimRewardCallBack = useCallback(async () => {\n    if (!rewardData) return\n    try {\n      const rawResponse = await fetch(process.env.REACT_APP_REWARD_SERVICE_API + '/rewards/claim', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ wallet: account, program: rewardData.program }),\n      })\n      const content = await rawResponse.json()\n      if (content) {\n        notify({\n          title: t`Request to Faucet - Submitted`,\n          type: NotificationType.SUCCESS,\n          summary: t`You will receive ${\n            rewardData?.amount ? getFullDisplayBalance(rewardData?.amount, token?.decimals) : 0\n          } ${tokenSymbol} soon!`,\n        })\n        setRewardData(rw => {\n          if (rw) {\n            rw.amount = BigNumber.from(0)\n          }\n          return rw\n        })\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }, [account, notify, rewardData, token?.decimals, tokenSymbol])\n\n  useEffect(() => {\n    if (!chainId || !account) return\n    const getRewardAmount = async () => {\n      try {\n        const { data } = await fetch(\n          `${process.env.REACT_APP_REWARD_SERVICE_API}/faucets?wallet=${account}&chainId=${chainId}`,\n        ).then(res => res.json())\n        if (data[0])\n          setRewardData({\n            amount: BigNumber.from(data[0].amount),\n            tokenAddress: data[0].token,\n            program: data[0].programId,\n          })\n      } catch (err) {\n        console.log(err)\n      }\n    }\n    getRewardAmount()\n  }, [chainId, account])\n  const modalContent = useMemo(() => {\n    return (\n      <Flex flexDirection={'column'} padding=\"26px 24px\" style={{ gap: '25px' }}>\n        <RowBetween>\n          <Text fontSize={20} fontWeight={500} color={theme.text}>\n            <Trans>Faucet</Trans>\n          </Text>\n          <CloseIcon onClick={toggle} />\n        </RowBetween>\n\n        <AddressWrapper>\n          <Text color={theme.subText} fontSize={12}>\n            <Trans>Your wallet address</Trans>\n          </Text>\n          <p>{account && shortenAddress(account, 9)}</p>\n        </AddressWrapper>\n        <Text fontSize={16} lineHeight=\"24px\" color={theme.text}>\n          <Trans>\n            If your wallet is eligible, you will be able to request for some {tokenSymbol} tokens for free below. Each\n            wallet can only request for the tokens once. You can claim:\n          </Trans>\n        </Text>\n        <Text fontSize={32} lineHeight=\"38px\" fontWeight={500}>\n          {token && (\n            <>\n              {tokenLogo && (\n                <Logo\n                  srcs={[tokenLogo]}\n                  alt={`${tokenSymbol ?? 'token'} logo`}\n                  style={{ width: '28px', paddingRight: '8px' }}\n                />\n              )}{' '}\n              {rewardData?.amount ? getFullDisplayBalance(rewardData?.amount, token?.decimals) : 0} {tokenSymbol}\n            </>\n          )}\n        </Text>\n        {account ? (\n          <ButtonPrimary\n            disabled={!rewardData?.amount || rewardData?.amount.eq(0)}\n            onClick={() => {\n              claimRewardCallBack()\n              mixpanelHandler(MIXPANEL_TYPE.FAUCET_REQUEST_INITIATED)\n              toggle()\n            }}\n            style={{ borderRadius: '24px', height: '44px' }}\n          >\n            <Trans>Request</Trans>\n          </ButtonPrimary>\n        ) : (\n          <ButtonPrimary\n            onClick={() => {\n              toggleWalletModal()\n            }}\n            style={{ borderRadius: '24px', height: '44px' }}\n          >\n            <Trans>Connect Wallet</Trans>\n          </ButtonPrimary>\n        )}\n      </Flex>\n    )\n  }, [\n    account,\n    claimRewardCallBack,\n    mixpanelHandler,\n    rewardData?.amount,\n    theme,\n    toggle,\n    toggleWalletModal,\n    token,\n    tokenLogo,\n    tokenSymbol,\n  ])\n\n  return (\n    <Modal\n      isOpen={open}\n      onDismiss={() => {\n        toggle()\n      }}\n      maxHeight={90}\n    >\n      {modalContent}\n    </Modal>\n  )\n}\n\nexport default FaucetModal\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}