{"ast":null,"code":"import _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$(),\n    _s6 = $RefreshSig$(),\n    _s7 = $RefreshSig$();\n\nimport { Interface } from '@ethersproject/abi';\nimport { parseBytes32String } from '@ethersproject/strings';\nimport { Token } from '@kyberswap/ks-sdk-core';\nimport { arrayify } from 'ethers/lib/utils';\nimport { useMemo } from 'react';\nimport { ERC20_ABI, ERC20_BYTES32_ABI } from 'constants/abis/erc20';\nimport { ZERO_ADDRESS } from 'constants/index';\nimport { nativeOnChain } from 'constants/tokens';\nimport { useActiveWeb3React } from 'hooks/index';\nimport { useBytes32TokenContract, useTokenContract } from 'hooks/useContract';\nimport { useCombinedActiveList } from 'state/lists/hooks';\nimport { NEVER_RELOAD, useMultipleContractSingleData, useSingleCallResult } from 'state/multicall/hooks';\nimport { useUserAddedTokens } from 'state/user/hooks';\nimport { isAddress } from 'utils'; // reduce token map into standard address <-> Token mapping, optionally include user added tokens\n\nfunction useTokensFromMap(tokenMap, includeUserAdded, lowercaseAddress) {\n  _s();\n\n  var _useActiveWeb3React = useActiveWeb3React(),\n      chainId = _useActiveWeb3React.chainId;\n\n  var userAddedTokens = useUserAddedTokens();\n  return useMemo(function () {\n    if (!chainId) return {}; // reduce to just tokens\n\n    var mapWithoutUrls = Object.keys(tokenMap[chainId]).reduce(function (newMap, address) {\n      var key = lowercaseAddress ? address.toLowerCase() : address;\n      newMap[key] = tokenMap[chainId][address];\n      return newMap;\n    }, {});\n\n    if (includeUserAdded) {\n      return userAddedTokens // reduce into all ALL_TOKENS filtered by the current chain\n      .reduce(function (tokenMap, token) {\n        var key = lowercaseAddress ? token.address.toLowerCase() : token.address;\n        tokenMap[key] = token;\n        return tokenMap;\n      }, // must make a copy because reduce modifies the map, and we do not\n      // want to make a copy in every iteration\n      _objectSpread({}, mapWithoutUrls));\n    }\n\n    return mapWithoutUrls;\n  }, [chainId, userAddedTokens, tokenMap, includeUserAdded, lowercaseAddress]);\n}\n\n_s(useTokensFromMap, \"o7LgZeIx6jncN8Lb8S6zeK0wZEQ=\", false, function () {\n  return [useActiveWeb3React, useUserAddedTokens];\n});\n\nexport function useAllTokens() {\n  _s2();\n\n  var lowercaseAddress = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var allTokens = useCombinedActiveList();\n  return useTokensFromMap(allTokens, true, lowercaseAddress);\n}\n\n_s2(useAllTokens, \"jCGW4tI4Rs1UGm9shzKA8VnDJ0A=\", false, function () {\n  return [useCombinedActiveList, useTokensFromMap];\n});\n\nexport function useIsTokenActive(token) {\n  _s3();\n\n  var activeTokens = useAllTokens();\n\n  if (!activeTokens || !token) {\n    return false;\n  }\n\n  return !!activeTokens[token.address];\n} // Check if currency is included in custom list from user storage\n\n_s3(useIsTokenActive, \"/DZnqUeqi963rU8m84lshLFLG1g=\", false, function () {\n  return [useAllTokens];\n});\n\nexport function useIsUserAddedToken(currency) {\n  _s4();\n\n  var userAddedTokens = useUserAddedTokens();\n\n  if (!currency) {\n    return false;\n  }\n\n  return !!userAddedTokens.find(function (token) {\n    return currency.equals(token);\n  });\n} // parse a name or symbol from a token response\n\n_s4(useIsUserAddedToken, \"/J12HuilTfT8HPlUWn/aslQP0JY=\", false, function () {\n  return [useUserAddedTokens];\n});\n\nvar BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/;\n\nfunction parseStringOrBytes32(str, bytes32, defaultValue) {\n  return str && str.length > 0 ? str : // need to check for proper bytes string and valid terminator\n  bytes32 && BYTES32_REGEX.test(bytes32) && arrayify(bytes32)[31] === 0 ? parseBytes32String(bytes32) : defaultValue;\n}\n\nexport var useTokens = function useTokens(addresses) {\n  _s5();\n\n  var _useActiveWeb3React2 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React2.chainId;\n\n  var tokens = useAllTokens();\n  var knownTokens = useMemo(function () {\n    return addresses.filter(function (address) {\n      return address === ZERO_ADDRESS || tokens[address];\n    }).map(function (address) {\n      return address === ZERO_ADDRESS ? nativeOnChain(chainId) : tokens[address];\n    }); // eslint-disable-next-line\n  }, [JSON.stringify(addresses), tokens, chainId]);\n  var unKnowAddresses = useMemo(function () {\n    return addresses.filter(function (address) {\n      return address !== ZERO_ADDRESS && !tokens[address];\n    });\n  }, // eslint-disable-next-line\n  [JSON.stringify(addresses), tokens]);\n  var erc20Abi = useMemo(function () {\n    return new Interface(ERC20_ABI);\n  }, []);\n  var erc20Byte32Abi = useMemo(function () {\n    return new Interface(ERC20_BYTES32_ABI);\n  }, []);\n  var nameResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'name', undefined, NEVER_RELOAD);\n  var name32Result = useMultipleContractSingleData(unKnowAddresses, erc20Byte32Abi, 'name', undefined, NEVER_RELOAD);\n  var symbolResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'symbol', undefined, NEVER_RELOAD);\n  var symbol32Result = useMultipleContractSingleData(unKnowAddresses, erc20Byte32Abi, 'symbol', undefined, NEVER_RELOAD);\n  var decimalResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'decimals', undefined, NEVER_RELOAD);\n  return useMemo(function () {\n    var unknownTokens = unKnowAddresses.map(function (address, index) {\n      var _nameResult$0$result, _name32Result$0$resul, _symbolResult$0$resul, _symbol32Result$0$res, _decimalResult$0$resu;\n\n      var name = nameResult === null || nameResult === void 0 ? void 0 : (_nameResult$0$result = nameResult[0].result) === null || _nameResult$0$result === void 0 ? void 0 : _nameResult$0$result[index];\n      var name32 = name32Result === null || name32Result === void 0 ? void 0 : (_name32Result$0$resul = name32Result[0].result) === null || _name32Result$0$resul === void 0 ? void 0 : _name32Result$0$resul[index];\n      var symbol = symbolResult === null || symbolResult === void 0 ? void 0 : (_symbolResult$0$resul = symbolResult[0].result) === null || _symbolResult$0$resul === void 0 ? void 0 : _symbolResult$0$resul[index];\n      var symbol32 = symbol32Result === null || symbol32Result === void 0 ? void 0 : (_symbol32Result$0$res = symbol32Result[0].result) === null || _symbol32Result$0$res === void 0 ? void 0 : _symbol32Result$0$res[index];\n      var decimals = decimalResult === null || decimalResult === void 0 ? void 0 : (_decimalResult$0$resu = decimalResult[0].result) === null || _decimalResult$0$resu === void 0 ? void 0 : _decimalResult$0$resu[index];\n      if (!symbol || !decimals || !chainId) return null;\n      return new Token(chainId, address, decimals, parseStringOrBytes32(symbol, symbol32, 'UNKNOWN'), parseStringOrBytes32(name, name32, 'Unknown Token'));\n    });\n    return [].concat(_toConsumableArray(unknownTokens), _toConsumableArray(knownTokens)).reduce(function (acc, cur) {\n      if (!cur) return acc;\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, cur.isNative ? ZERO_ADDRESS : cur.address, cur));\n    }, {});\n  }, [unKnowAddresses, name32Result, nameResult, symbol32Result, symbolResult, decimalResult, knownTokens, chainId]);\n}; // undefined if invalid or does not exist\n// null if loading\n// otherwise returns the token\n\n_s5(useTokens, \"MVZG/Q864YWizrSU329XN2psYq0=\", false, function () {\n  return [useActiveWeb3React, useAllTokens, useMultipleContractSingleData, useMultipleContractSingleData, useMultipleContractSingleData, useMultipleContractSingleData, useMultipleContractSingleData];\n});\n\nexport function useToken(tokenAddress) {\n  _s6();\n\n  var _decimals$result, _symbol$result, _symbolBytes32$result, _tokenName$result, _tokenNameBytes32$res;\n\n  var _useActiveWeb3React3 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React3.chainId;\n\n  var tokens = useAllTokens();\n  var address = isAddress(tokenAddress);\n  var tokenContract = useTokenContract(address && tokenAddress !== ZERO_ADDRESS ? address : undefined, false);\n  var tokenContractBytes32 = useBytes32TokenContract(address ? address : undefined, false);\n  var token = tokenAddress === ZERO_ADDRESS ? nativeOnChain(chainId) : address ? tokens[address] : undefined;\n  var tokenName = useSingleCallResult(token ? undefined : tokenContract, 'name', undefined, NEVER_RELOAD);\n  var tokenNameBytes32 = useSingleCallResult(token ? undefined : tokenContractBytes32, 'name', undefined, NEVER_RELOAD);\n  var symbol = useSingleCallResult(token ? undefined : tokenContract, 'symbol', undefined, NEVER_RELOAD);\n  var symbolBytes32 = useSingleCallResult(token ? undefined : tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD);\n  var decimals = useSingleCallResult(token ? undefined : tokenContract, 'decimals', undefined, NEVER_RELOAD);\n  var decimalsResult = (_decimals$result = decimals.result) === null || _decimals$result === void 0 ? void 0 : _decimals$result[0];\n  var symbolResult = (_symbol$result = symbol.result) === null || _symbol$result === void 0 ? void 0 : _symbol$result[0];\n  var symbolBytes32Result = (_symbolBytes32$result = symbolBytes32.result) === null || _symbolBytes32$result === void 0 ? void 0 : _symbolBytes32$result[0];\n  var tokenNameResult = (_tokenName$result = tokenName.result) === null || _tokenName$result === void 0 ? void 0 : _tokenName$result[0];\n  var tokenNameBytes32Result = (_tokenNameBytes32$res = tokenNameBytes32.result) === null || _tokenNameBytes32$res === void 0 ? void 0 : _tokenNameBytes32$res[0];\n  return useMemo(function () {\n    if (token) return token;\n    if (!chainId || !address) return undefined;\n    if (decimals.loading || symbol.loading || tokenName.loading) return null;\n\n    if (decimalsResult) {\n      return new Token(chainId, address, decimalsResult, parseStringOrBytes32(symbolResult, symbolBytes32Result, 'UNKNOWN'), parseStringOrBytes32(tokenNameResult, tokenNameBytes32Result, 'Unknown Token'));\n    }\n\n    return undefined;\n  }, [address, chainId, decimals.loading, decimalsResult, symbol.loading, symbolResult, symbolBytes32Result, token, tokenName.loading, tokenNameResult, tokenNameBytes32Result]);\n}\n\n_s6(useToken, \"eKyRyOw1MkhB0rg/op393nwat5k=\", false, function () {\n  return [useActiveWeb3React, useAllTokens, useTokenContract, useBytes32TokenContract, useSingleCallResult, useSingleCallResult, useSingleCallResult, useSingleCallResult, useSingleCallResult];\n});\n\nexport function useCurrency(currencyId) {\n  _s7();\n\n  var _useActiveWeb3React4 = useActiveWeb3React(),\n      chainId = _useActiveWeb3React4.chainId;\n\n  var isETH = useMemo(function () {\n    return chainId && (currencyId === null || currencyId === void 0 ? void 0 : currencyId.toUpperCase()) === nativeOnChain(chainId).symbol;\n  }, [chainId, currencyId]);\n  var token = useToken(isETH ? undefined : currencyId);\n  return useMemo(function () {\n    return isETH ? nativeOnChain(chainId) : token;\n  }, [chainId, isETH, token]);\n}\n\n_s7(useCurrency, \"TR0bOiC6wBBblcxveqlGMWNKMc0=\", false, function () {\n  return [useActiveWeb3React, useToken];\n});","map":{"version":3,"names":["Interface","parseBytes32String","Token","arrayify","useMemo","ERC20_ABI","ERC20_BYTES32_ABI","ZERO_ADDRESS","nativeOnChain","useActiveWeb3React","useBytes32TokenContract","useTokenContract","useCombinedActiveList","NEVER_RELOAD","useMultipleContractSingleData","useSingleCallResult","useUserAddedTokens","isAddress","useTokensFromMap","tokenMap","includeUserAdded","lowercaseAddress","chainId","userAddedTokens","mapWithoutUrls","Object","keys","reduce","newMap","address","key","toLowerCase","token","useAllTokens","allTokens","useIsTokenActive","activeTokens","useIsUserAddedToken","currency","find","equals","BYTES32_REGEX","parseStringOrBytes32","str","bytes32","defaultValue","length","test","useTokens","addresses","tokens","knownTokens","filter","map","JSON","stringify","unKnowAddresses","erc20Abi","erc20Byte32Abi","nameResult","undefined","name32Result","symbolResult","symbol32Result","decimalResult","unknownTokens","index","name","result","name32","symbol","symbol32","decimals","acc","cur","isNative","useToken","tokenAddress","tokenContract","tokenContractBytes32","tokenName","tokenNameBytes32","symbolBytes32","decimalsResult","symbolBytes32Result","tokenNameResult","tokenNameBytes32Result","loading","useCurrency","currencyId","isETH","toUpperCase"],"sources":["/Applications/XAMPP/voxel-interface/src/hooks/Tokens.ts"],"sourcesContent":["import { Interface } from '@ethersproject/abi'\nimport { parseBytes32String } from '@ethersproject/strings'\nimport { ChainId, Currency, NativeCurrency, Token } from '@kyberswap/ks-sdk-core'\nimport { arrayify } from 'ethers/lib/utils'\nimport { useMemo } from 'react'\n\nimport { ERC20_ABI, ERC20_BYTES32_ABI } from 'constants/abis/erc20'\nimport { ZERO_ADDRESS } from 'constants/index'\nimport { nativeOnChain } from 'constants/tokens'\nimport { useActiveWeb3React } from 'hooks/index'\nimport { useBytes32TokenContract, useTokenContract } from 'hooks/useContract'\nimport { TokenAddressMap, useCombinedActiveList } from 'state/lists/hooks'\nimport { NEVER_RELOAD, useMultipleContractSingleData, useSingleCallResult } from 'state/multicall/hooks'\nimport { useUserAddedTokens } from 'state/user/hooks'\nimport { isAddress } from 'utils'\n\n// reduce token map into standard address <-> Token mapping, optionally include user added tokens\nfunction useTokensFromMap(\n  tokenMap: TokenAddressMap,\n  includeUserAdded: boolean,\n  lowercaseAddress?: boolean,\n): { [address: string]: Token } {\n  const { chainId } = useActiveWeb3React()\n  const userAddedTokens = useUserAddedTokens()\n\n  return useMemo(() => {\n    if (!chainId) return {}\n\n    // reduce to just tokens\n    const mapWithoutUrls = Object.keys(tokenMap[chainId]).reduce<{ [address: string]: Token }>((newMap, address) => {\n      const key = lowercaseAddress ? address.toLowerCase() : address\n      newMap[key] = tokenMap[chainId][address]\n      return newMap\n    }, {})\n\n    if (includeUserAdded) {\n      return (\n        userAddedTokens\n          // reduce into all ALL_TOKENS filtered by the current chain\n          .reduce<{ [address: string]: Token }>(\n            (tokenMap, token) => {\n              const key = lowercaseAddress ? token.address.toLowerCase() : token.address\n              tokenMap[key] = token\n              return tokenMap\n            },\n            // must make a copy because reduce modifies the map, and we do not\n            // want to make a copy in every iteration\n            { ...mapWithoutUrls },\n          )\n      )\n    }\n\n    return mapWithoutUrls\n  }, [chainId, userAddedTokens, tokenMap, includeUserAdded, lowercaseAddress])\n}\n\nexport type AllTokenType = { [address: string]: Token }\n\nexport function useAllTokens(lowercaseAddress = false): AllTokenType {\n  const allTokens = useCombinedActiveList()\n  return useTokensFromMap(allTokens, true, lowercaseAddress)\n}\n\nexport function useIsTokenActive(token: Token | undefined | null): boolean {\n  const activeTokens = useAllTokens()\n\n  if (!activeTokens || !token) {\n    return false\n  }\n\n  return !!activeTokens[token.address]\n}\n\n// Check if currency is included in custom list from user storage\nexport function useIsUserAddedToken(currency: Currency | undefined | null): boolean {\n  const userAddedTokens = useUserAddedTokens()\n\n  if (!currency) {\n    return false\n  }\n\n  return !!userAddedTokens.find(token => currency.equals(token))\n}\n\n// parse a name or symbol from a token response\nconst BYTES32_REGEX = /^0x[a-fA-F0-9]{64}$/\n\nfunction parseStringOrBytes32(str: string | undefined, bytes32: string | undefined, defaultValue: string): string {\n  return str && str.length > 0\n    ? str\n    : // need to check for proper bytes string and valid terminator\n    bytes32 && BYTES32_REGEX.test(bytes32) && arrayify(bytes32)[31] === 0\n    ? parseBytes32String(bytes32)\n    : defaultValue\n}\n\nexport const useTokens = (addresses: string[]): { [address: string]: Token } => {\n  const { chainId } = useActiveWeb3React()\n  const tokens = useAllTokens()\n\n  const knownTokens = useMemo(() => {\n    return addresses\n      .filter(address => address === ZERO_ADDRESS || tokens[address])\n      .map(address => (address === ZERO_ADDRESS ? nativeOnChain(chainId as ChainId) : tokens[address]))\n    // eslint-disable-next-line\n  }, [JSON.stringify(addresses), tokens, chainId])\n\n  const unKnowAddresses = useMemo(\n    () => addresses.filter(address => address !== ZERO_ADDRESS && !tokens[address]),\n    // eslint-disable-next-line\n    [JSON.stringify(addresses), tokens],\n  )\n\n  const erc20Abi = useMemo(() => new Interface(ERC20_ABI), [])\n  const erc20Byte32Abi = useMemo(() => new Interface(ERC20_BYTES32_ABI), [])\n  const nameResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'name', undefined, NEVER_RELOAD)\n\n  const name32Result = useMultipleContractSingleData(unKnowAddresses, erc20Byte32Abi, 'name', undefined, NEVER_RELOAD)\n\n  const symbolResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'symbol', undefined, NEVER_RELOAD)\n\n  const symbol32Result = useMultipleContractSingleData(\n    unKnowAddresses,\n    erc20Byte32Abi,\n    'symbol',\n    undefined,\n    NEVER_RELOAD,\n  )\n\n  const decimalResult = useMultipleContractSingleData(unKnowAddresses, erc20Abi, 'decimals', undefined, NEVER_RELOAD)\n\n  return useMemo(() => {\n    const unknownTokens = unKnowAddresses.map((address, index) => {\n      const name = nameResult?.[0].result?.[index]\n      const name32 = name32Result?.[0].result?.[index]\n      const symbol = symbolResult?.[0].result?.[index]\n      const symbol32 = symbol32Result?.[0].result?.[index]\n      const decimals = decimalResult?.[0].result?.[index]\n\n      if (!symbol || !decimals || !chainId) return null\n\n      return new Token(\n        chainId,\n        address,\n        decimals,\n        parseStringOrBytes32(symbol, symbol32, 'UNKNOWN'),\n        parseStringOrBytes32(name, name32, 'Unknown Token'),\n      )\n    })\n\n    return [...unknownTokens, ...knownTokens].reduce((acc, cur) => {\n      if (!cur) return acc\n      return {\n        ...acc,\n        [cur.isNative ? ZERO_ADDRESS : cur.address]: cur,\n      }\n    }, {})\n  }, [unKnowAddresses, name32Result, nameResult, symbol32Result, symbolResult, decimalResult, knownTokens, chainId])\n}\n\n// undefined if invalid or does not exist\n// null if loading\n// otherwise returns the token\nexport function useToken(tokenAddress?: string): Token | NativeCurrency | undefined | null {\n  const { chainId } = useActiveWeb3React()\n  const tokens = useAllTokens()\n\n  const address = isAddress(tokenAddress)\n\n  const tokenContract = useTokenContract(address && tokenAddress !== ZERO_ADDRESS ? address : undefined, false)\n  const tokenContractBytes32 = useBytes32TokenContract(address ? address : undefined, false)\n  const token =\n    tokenAddress === ZERO_ADDRESS ? nativeOnChain(chainId as ChainId) : address ? tokens[address] : undefined\n\n  const tokenName = useSingleCallResult(token ? undefined : tokenContract, 'name', undefined, NEVER_RELOAD)\n  const tokenNameBytes32 = useSingleCallResult(\n    token ? undefined : tokenContractBytes32,\n    'name',\n    undefined,\n    NEVER_RELOAD,\n  )\n  const symbol = useSingleCallResult(token ? undefined : tokenContract, 'symbol', undefined, NEVER_RELOAD)\n  const symbolBytes32 = useSingleCallResult(token ? undefined : tokenContractBytes32, 'symbol', undefined, NEVER_RELOAD)\n  const decimals = useSingleCallResult(token ? undefined : tokenContract, 'decimals', undefined, NEVER_RELOAD)\n  const decimalsResult = decimals.result?.[0]\n  const symbolResult = symbol.result?.[0]\n  const symbolBytes32Result = symbolBytes32.result?.[0]\n  const tokenNameResult = tokenName.result?.[0]\n  const tokenNameBytes32Result = tokenNameBytes32.result?.[0]\n\n  return useMemo(() => {\n    if (token) return token\n    if (!chainId || !address) return undefined\n    if (decimals.loading || symbol.loading || tokenName.loading) return null\n    if (decimalsResult) {\n      return new Token(\n        chainId,\n        address,\n        decimalsResult,\n        parseStringOrBytes32(symbolResult, symbolBytes32Result, 'UNKNOWN'),\n        parseStringOrBytes32(tokenNameResult, tokenNameBytes32Result, 'Unknown Token'),\n      )\n    }\n    return undefined\n  }, [\n    address,\n    chainId,\n    decimals.loading,\n    decimalsResult,\n    symbol.loading,\n    symbolResult,\n    symbolBytes32Result,\n    token,\n    tokenName.loading,\n    tokenNameResult,\n    tokenNameBytes32Result,\n  ])\n}\n\nexport function useCurrency(currencyId: string | undefined): Currency | null | undefined {\n  const { chainId } = useActiveWeb3React()\n  const isETH = useMemo(\n    () => chainId && currencyId?.toUpperCase() === nativeOnChain(chainId).symbol,\n    [chainId, currencyId],\n  )\n  const token = useToken(isETH ? undefined : currencyId)\n  return useMemo(() => (isETH ? nativeOnChain(chainId as ChainId) : token), [chainId, isETH, token])\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}