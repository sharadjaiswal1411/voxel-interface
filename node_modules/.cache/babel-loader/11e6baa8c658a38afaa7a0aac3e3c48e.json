{"ast":null,"code":"import _defineProperty from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Applications/XAMPP/voxel-interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"/Applications/XAMPP/voxel-interface/src/components/Vesting/index.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Trans } from \"@lingui/react\";\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { CurrencyAmount } from '@kyberswap/ks-sdk-core';\nimport React from 'react';\nimport { Text } from 'rebass';\nimport LocalLoader from 'components/LocalLoader';\nimport RewardLockerSchedules from 'components/Vesting/RewardLockerSchedules';\nimport { ScheduleGrid } from 'components/Vesting/styleds';\nimport useTheme from 'hooks/useTheme';\nimport { useBlockNumber } from 'state/application/hooks';\nimport { RewardLockerVersion } from 'state/farms/types';\nimport { useRewardLockerAddressesWithVersion, useSchedules } from 'state/vesting/hooks';\nimport { useFarmRewardsUSD } from 'utils/dmm';\nimport ConfirmVestingModal from './ConfirmVestingModal';\nimport VestingSummary from './VestingSummary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Vesting = function Vesting(_ref) {\n  _s();\n\n  var loading = _ref.loading;\n\n  var _useSchedules = useSchedules(),\n      schedulesByRewardLocker = _useSchedules.schedulesByRewardLocker;\n\n  var rewardLockerAddressesWithVersion = useRewardLockerAddressesWithVersion();\n  var theme = useTheme();\n  var currentBlockNumber = useBlockNumber();\n  var currentTimestamp = Math.round(Date.now() / 1000);\n  var schedules = Object.values(schedulesByRewardLocker).flat();\n  var info = schedules.reduce(function (result, schedule) {\n    if (!currentBlockNumber) return result;\n    var address = schedule[4].symbol;\n\n    if (!result[address]) {\n      result[address] = {\n        vestableIndexes: [],\n        vestableAmount: BigNumber.from(0),\n        fullyIndexes: [],\n        fullyAmount: BigNumber.from(0),\n        totalAmount: BigNumber.from(0),\n        unlockedAmount: BigNumber.from(0),\n        token: schedule[4]\n      };\n    }\n\n    result[address].totalAmount = result[address].totalAmount.add(BigNumber.from(schedule[2]));\n    /**\n     * fullyVestedAlready = schedule.quantity - schedule.vestedQuantity\n     */\n\n    var fullyVestedAlready = BigNumber.from(schedule[2]).sub(BigNumber.from(schedule[3])).isZero();\n    var rewardLockerVersion = schedule[6];\n    /**\n     * v1: isEnd = schedule.endBlock < currentBlock\n     * v2: isEnd = schedule.endTime < now\n     */\n\n    var isEnd = rewardLockerVersion === RewardLockerVersion.V1 ? schedule[1].lt(currentBlockNumber) : schedule[1].lt(currentTimestamp); // const vestedAndVestablePercent = BigNumber.from(currentBlockNumber)\n    //   .sub(BigNumber.from(s[1]))\n    //   .isNegative()\n    //   ? BigNumber.from(currentBlockNumber)\n    //       .sub(BigNumber.from(s[0]))\n    //       .mul(100)\n    //       .div(BigNumber.from(s[1]).sub(BigNumber.from(s[0])))\n    //   : 100\n    // const unlockedAmount = BigNumber.from(s[2])\n    //   .mul(vestedAndVestablePercent)\n    //   .div(100)\n\n    var unlockedAmount = isEnd ? schedule[2] : rewardLockerVersion === RewardLockerVersion.V1 ? schedule[2].mul(BigNumber.from(currentBlockNumber).sub(schedule[0])).div(schedule[1].sub(schedule[0])) : schedule[2].mul(BigNumber.from(currentTimestamp).sub(schedule[0])).div(schedule[1].sub(schedule[0]));\n    var vestableAmount = unlockedAmount.sub(BigNumber.from(schedule[3])); // vestableAmount = unlock - vestedQuanitty\n\n    if (!fullyVestedAlready) {\n      result[address].vestableIndexes.push(schedule[5]);\n    }\n\n    result[address].vestableAmount = result[address].vestableAmount.add(vestableAmount.isNegative() ? BigNumber.from(0) : vestableAmount);\n\n    if (!fullyVestedAlready && !!currentBlockNumber && BigNumber.from(currentBlockNumber).gt(schedule[1])) {\n      result[address].fullyIndexes.push(schedule[5]);\n      result[address].fullyAmount = result[address].fullyAmount.add(BigNumber.from(schedule[2]));\n    }\n\n    result[address].unlockedAmount = result[address].unlockedAmount.add(unlockedAmount);\n    return result;\n  }, {});\n  var totalUSD = useFarmRewardsUSD(Object.keys(info).map(function (k) {\n    return {\n      token: info[k].token,\n      amount: info[k].totalAmount\n    };\n  }));\n  var totalHarvested = {\n    value: totalUSD,\n    amountByAddress: Object.values(info).reduce(function (acc, item) {\n      var address = item.token.isNative ? item.token.symbol : item.token.address;\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, address, CurrencyAmount.fromRawAmount(item.token, item.totalAmount.toString())));\n    }, {})\n  };\n  var lockedUSD = useFarmRewardsUSD(Object.keys(info).map(function (k) {\n    return {\n      token: info[k].token,\n      amount: info[k].totalAmount.sub(info[k].unlockedAmount)\n    };\n  }));\n  var locked = {\n    value: lockedUSD,\n    amountByAddress: Object.values(info).reduce(function (acc, item) {\n      var address = item.token.isNative ? item.token.symbol : item.token.address;\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, address, CurrencyAmount.fromRawAmount(item.token, item.totalAmount.sub(item.unlockedAmount).toString())));\n    }, {})\n  };\n  var claimedUSD = useFarmRewardsUSD(Object.keys(info).map(function (k) {\n    return {\n      token: info[k].token,\n      amount: info[k].unlockedAmount.sub(info[k].vestableAmount)\n    };\n  }));\n  var claimed = {\n    value: claimedUSD,\n    amountByAddress: Object.values(info).reduce(function (acc, item) {\n      var address = item.token.isNative ? item.token.symbol : item.token.address;\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, address, CurrencyAmount.fromRawAmount(item.token, item.unlockedAmount.sub(item.vestableAmount).toString())));\n    }, {})\n  };\n  var unlockedUSD = useFarmRewardsUSD(Object.keys(info).map(function (k) {\n    return {\n      token: info[k].token,\n      amount: info[k].vestableAmount\n    };\n  }));\n  var unlocked = {\n    value: unlockedUSD,\n    amountByAddress: Object.values(info).reduce(function (acc, item) {\n      var address = item.token.isNative ? item.token.symbol : item.token.address;\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, address, CurrencyAmount.fromRawAmount(item.token, item.vestableAmount.toString())));\n    }, {})\n  };\n  var noVesting = Object.keys(rewardLockerAddressesWithVersion).every(function (rewardLockerAddress) {\n    var _schedulesByRewardLoc;\n\n    return !((_schedulesByRewardLoc = schedulesByRewardLocker[rewardLockerAddress]) !== null && _schedulesByRewardLoc !== void 0 && _schedulesByRewardLoc.length);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ConfirmVestingModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(VestingSummary, {\n      loading: loading,\n      totalHarvested: totalHarvested,\n      locked: locked,\n      unlocked: unlocked,\n      claimed: claimed\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Text, {\n      fontSize: 16,\n      fontWeight: \"500\",\n      marginTop: \"24px\",\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"Vesting Schedules\"\n      }, void 0, false, void 0, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, _this), noVesting ? loading ? /*#__PURE__*/_jsxDEV(LocalLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 11\n    }, _this) : /*#__PURE__*/_jsxDEV(Text, {\n      textAlign: \"center\",\n      color: theme.subText,\n      marginTop: \"24px\",\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        id: \"No vesting schedule!\"\n      }, void 0, false, void 0, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }, _this) : /*#__PURE__*/_jsxDEV(ScheduleGrid, {\n      children: Object.keys(rewardLockerAddressesWithVersion).filter(function (rewardLockerAddress) {\n        var _schedulesByRewardLoc2;\n\n        return !!((_schedulesByRewardLoc2 = schedulesByRewardLocker[rewardLockerAddress]) !== null && _schedulesByRewardLoc2 !== void 0 && _schedulesByRewardLoc2.length);\n      }).map(function (rewardLockerAddress, index) {\n        return /*#__PURE__*/_jsxDEV(RewardLockerSchedules, {\n          rewardLockerAddress: rewardLockerAddress,\n          schedules: schedulesByRewardLocker[rewardLockerAddress],\n          rewardLockerVersion: rewardLockerAddressesWithVersion[rewardLockerAddress]\n        }, rewardLockerAddress, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(Vesting, \"/34+0xQ4XRySlR/GweFlPuiaxXs=\", false, function () {\n  return [useSchedules, useRewardLockerAddressesWithVersion, useTheme, useBlockNumber, useFarmRewardsUSD, useFarmRewardsUSD, useFarmRewardsUSD, useFarmRewardsUSD];\n});\n\n_c = Vesting;\nexport default Vesting;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vesting\");","map":{"version":3,"names":["BigNumber","CurrencyAmount","React","Text","LocalLoader","RewardLockerSchedules","ScheduleGrid","useTheme","useBlockNumber","RewardLockerVersion","useRewardLockerAddressesWithVersion","useSchedules","useFarmRewardsUSD","ConfirmVestingModal","VestingSummary","Vesting","loading","schedulesByRewardLocker","rewardLockerAddressesWithVersion","theme","currentBlockNumber","currentTimestamp","Math","round","Date","now","schedules","Object","values","flat","info","reduce","result","schedule","address","symbol","vestableIndexes","vestableAmount","from","fullyIndexes","fullyAmount","totalAmount","unlockedAmount","token","add","fullyVestedAlready","sub","isZero","rewardLockerVersion","isEnd","V1","lt","mul","div","push","isNegative","gt","totalUSD","keys","map","k","amount","totalHarvested","value","amountByAddress","acc","item","isNative","fromRawAmount","toString","lockedUSD","locked","claimedUSD","claimed","unlockedUSD","unlocked","noVesting","every","rewardLockerAddress","length","subText","filter","index"],"sources":["/Applications/XAMPP/voxel-interface/src/components/Vesting/index.tsx"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\nimport { CurrencyAmount, Token } from '@kyberswap/ks-sdk-core'\nimport { Trans } from '@lingui/macro'\nimport React from 'react'\nimport { Text } from 'rebass'\n\nimport LocalLoader from 'components/LocalLoader'\nimport RewardLockerSchedules from 'components/Vesting/RewardLockerSchedules'\nimport { ScheduleGrid } from 'components/Vesting/styleds'\nimport useTheme from 'hooks/useTheme'\nimport { useBlockNumber } from 'state/application/hooks'\nimport { Reward, RewardLockerVersion } from 'state/farms/types'\nimport { useRewardLockerAddressesWithVersion, useSchedules } from 'state/vesting/hooks'\nimport { useFarmRewardsUSD } from 'utils/dmm'\n\nimport ConfirmVestingModal from './ConfirmVestingModal'\nimport VestingSummary from './VestingSummary'\n\nconst Vesting = ({ loading }: { loading: boolean }) => {\n  const { schedulesByRewardLocker } = useSchedules()\n  const rewardLockerAddressesWithVersion = useRewardLockerAddressesWithVersion()\n  const theme = useTheme()\n  const currentBlockNumber = useBlockNumber()\n  const currentTimestamp = Math.round(Date.now() / 1000)\n\n  const schedules = Object.values(schedulesByRewardLocker).flat()\n\n  const info = schedules.reduce<{\n    [key: string]: {\n      vestableIndexes: number[]\n      vestableAmount: BigNumber\n      fullyIndexes: number[]\n      fullyAmount: BigNumber\n      totalAmount: BigNumber\n      unlockedAmount: BigNumber\n      token: Token\n    }\n  }>((result, schedule) => {\n    if (!currentBlockNumber) return result\n    const address = (schedule[4] as Token).symbol as string\n    if (!result[address]) {\n      result[address] = {\n        vestableIndexes: [],\n        vestableAmount: BigNumber.from(0),\n        fullyIndexes: [],\n        fullyAmount: BigNumber.from(0),\n        totalAmount: BigNumber.from(0),\n        unlockedAmount: BigNumber.from(0),\n        token: schedule[4] as Token,\n      }\n    }\n\n    result[address].totalAmount = result[address].totalAmount.add(BigNumber.from(schedule[2]))\n    /**\n     * fullyVestedAlready = schedule.quantity - schedule.vestedQuantity\n     */\n    const fullyVestedAlready = BigNumber.from(schedule[2]).sub(BigNumber.from(schedule[3])).isZero()\n    const rewardLockerVersion = schedule[6]\n    /**\n     * v1: isEnd = schedule.endBlock < currentBlock\n     * v2: isEnd = schedule.endTime < now\n     */\n    const isEnd =\n      rewardLockerVersion === RewardLockerVersion.V1\n        ? schedule[1].lt(currentBlockNumber)\n        : schedule[1].lt(currentTimestamp)\n    // const vestedAndVestablePercent = BigNumber.from(currentBlockNumber)\n    //   .sub(BigNumber.from(s[1]))\n    //   .isNegative()\n    //   ? BigNumber.from(currentBlockNumber)\n    //       .sub(BigNumber.from(s[0]))\n    //       .mul(100)\n    //       .div(BigNumber.from(s[1]).sub(BigNumber.from(s[0])))\n    //   : 100\n    // const unlockedAmount = BigNumber.from(s[2])\n    //   .mul(vestedAndVestablePercent)\n    //   .div(100)\n    const unlockedAmount = isEnd\n      ? schedule[2]\n      : rewardLockerVersion === RewardLockerVersion.V1\n      ? schedule[2].mul(BigNumber.from(currentBlockNumber).sub(schedule[0])).div(schedule[1].sub(schedule[0]))\n      : schedule[2].mul(BigNumber.from(currentTimestamp).sub(schedule[0])).div(schedule[1].sub(schedule[0]))\n    const vestableAmount = unlockedAmount.sub(BigNumber.from(schedule[3])) // vestableAmount = unlock - vestedQuanitty\n    if (!fullyVestedAlready) {\n      result[address].vestableIndexes.push(schedule[5])\n    }\n    result[address].vestableAmount = result[address].vestableAmount.add(\n      vestableAmount.isNegative() ? BigNumber.from(0) : vestableAmount,\n    )\n\n    if (!fullyVestedAlready && !!currentBlockNumber && BigNumber.from(currentBlockNumber).gt(schedule[1])) {\n      result[address].fullyIndexes.push(schedule[5])\n      result[address].fullyAmount = result[address].fullyAmount.add(BigNumber.from(schedule[2]))\n    }\n\n    result[address].unlockedAmount = result[address].unlockedAmount.add(unlockedAmount)\n    return result\n  }, {})\n\n  const totalUSD = useFarmRewardsUSD(\n    Object.keys(info).map(k => {\n      return { token: info[k].token, amount: info[k].totalAmount } as Reward\n    }),\n  )\n\n  const totalHarvested = {\n    value: totalUSD,\n    amountByAddress: Object.values(info).reduce((acc, item) => {\n      const address = (item.token.isNative ? item.token.symbol : item.token.address) as string\n      return {\n        ...acc,\n        [address]: CurrencyAmount.fromRawAmount(item.token, item.totalAmount.toString()),\n      }\n    }, {}),\n  }\n\n  const lockedUSD = useFarmRewardsUSD(\n    Object.keys(info).map(k => {\n      return { token: info[k].token, amount: info[k].totalAmount.sub(info[k].unlockedAmount) } as Reward\n    }),\n  )\n\n  const locked = {\n    value: lockedUSD,\n    amountByAddress: Object.values(info).reduce((acc, item) => {\n      const address = (item.token.isNative ? item.token.symbol : item.token.address) as string\n      return {\n        ...acc,\n        [address]: CurrencyAmount.fromRawAmount(item.token, item.totalAmount.sub(item.unlockedAmount).toString()),\n      }\n    }, {}),\n  }\n\n  const claimedUSD = useFarmRewardsUSD(\n    Object.keys(info).map(k => {\n      return { token: info[k].token, amount: info[k].unlockedAmount.sub(info[k].vestableAmount) } as Reward\n    }),\n  )\n\n  const claimed = {\n    value: claimedUSD,\n    amountByAddress: Object.values(info).reduce((acc, item) => {\n      const address = (item.token.isNative ? item.token.symbol : item.token.address) as string\n      return {\n        ...acc,\n        [address]: CurrencyAmount.fromRawAmount(item.token, item.unlockedAmount.sub(item.vestableAmount).toString()),\n      }\n    }, {}),\n  }\n  const unlockedUSD = useFarmRewardsUSD(\n    Object.keys(info).map(k => {\n      return { token: info[k].token, amount: info[k].vestableAmount } as Reward\n    }),\n  )\n\n  const unlocked = {\n    value: unlockedUSD,\n    amountByAddress: Object.values(info).reduce((acc, item) => {\n      const address = (item.token.isNative ? item.token.symbol : item.token.address) as string\n      return {\n        ...acc,\n        [address]: CurrencyAmount.fromRawAmount(item.token, item.vestableAmount.toString()),\n      }\n    }, {}),\n  }\n\n  const noVesting = Object.keys(rewardLockerAddressesWithVersion).every(\n    rewardLockerAddress => !schedulesByRewardLocker[rewardLockerAddress]?.length,\n  )\n\n  return (\n    <>\n      <ConfirmVestingModal />\n      <VestingSummary\n        loading={loading}\n        totalHarvested={totalHarvested}\n        locked={locked}\n        unlocked={unlocked}\n        claimed={claimed}\n      />\n\n      <Text fontSize={16} fontWeight=\"500\" marginTop=\"24px\">\n        <Trans>Vesting Schedules</Trans>\n      </Text>\n\n      {noVesting ? (\n        loading ? (\n          <LocalLoader />\n        ) : (\n          <Text textAlign=\"center\" color={theme.subText} marginTop=\"24px\">\n            <Trans>No vesting schedule!</Trans>\n          </Text>\n        )\n      ) : (\n        <ScheduleGrid>\n          {Object.keys(rewardLockerAddressesWithVersion)\n            .filter(rewardLockerAddress => !!schedulesByRewardLocker[rewardLockerAddress]?.length)\n            .map((rewardLockerAddress, index) => (\n              <RewardLockerSchedules\n                key={rewardLockerAddress}\n                rewardLockerAddress={rewardLockerAddress}\n                schedules={schedulesByRewardLocker[rewardLockerAddress]}\n                rewardLockerVersion={rewardLockerAddressesWithVersion[rewardLockerAddress]}\n              />\n            ))}\n        </ScheduleGrid>\n      )}\n    </>\n  )\n}\n\nexport default Vesting\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}