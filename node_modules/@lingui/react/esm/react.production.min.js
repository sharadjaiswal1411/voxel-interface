import e from"@babel/runtime/helpers/slicedToArray";import t from"react";import n from"@babel/runtime/helpers/defineProperty";var r=t.createContext(null);function o(){var e=t.useContext(r);return e}function a(e){return function(e){return function(n){var r=o(),a=r.i18n;return t.createElement(e,Object.assign({},n,{i18n:a}))}}}var i=function(n){var o=n.i18n,a=n.defaultComponent,i=n.forceRenderOnLocaleChange,c=void 0===i||i,u=n.children,l=function(){return{i18n:o,defaultComponent:a}},f=function(){return c&&o.locale||"default"},s=t.useState(l()),p=e(s,2),m=p[0],d=p[1],v=t.useState(f()),y=e(v,2),b=y[0],h=y[1];return t.useEffect((function(){var e=o.on("change",(function(){d(l()),h(f())}));return"default"===b&&h(f()),c&&"default"===b&&console.log("I18nProvider did not render. A call to i18n.activate still needs to happen or forceRenderOnLocaleChange must be set to false."),function(){return e()}}),[]),c&&"default"===b?null:t.createElement(r.Provider,{value:m,key:b},u)};function c(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=/<(\d+)>(.*?)<\/\1>|<(\d+)\/>/,f=/(?:\r\n|\r|\n)/g,s={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function p(t){if(!t.length)return[];var n=t.slice(0,4),r=e(n,4),o=r[0],a=r[1],i=r[2],c=r[3];return[[parseInt(o||i),a||"",c]].concat(p(t.slice(4,t.length)))}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return"".concat(t,"_").concat(e++)}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(n){var r=o(),a=r.i18n,i=r.defaultComponent,u=n.render,d=n.component,y=n.id,b=n.message,h=n.formats,g=v({},n.values),O=v({},n.components);g&&Object.keys(g).forEach((function(e){var n=g[e];if(t.isValidElement(n)){var r=Object.keys(O).length;O[r]=n,g[e]="<".concat(r,"/>")}}));var j=a&&"function"==typeof a._?a._(y,g,{message:b,formats:h}):y,E=j?function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=m(0,"$lingui$"),i=r.replace(f,"").split(l);if(1===i.length)return r;var u=[],d=i.shift();d&&u.push(d);var v,y=c(p(i));try{for(y.s();!(v=y.n()).done;){var b=e(v.value,3),h=b[0],g=b[1],O=b[2],j=o[h];(!j||s[j.type]&&g)&&(j?console.error("".concat(j.type," is a void element tag therefore it must have no children")):console.error("Can use element at index '".concat(h,"' as it is not declared in the original translation")),j=t.createElement(t.Fragment)),u.push(t.cloneElement(j,{key:a()},g?n(g,o):j.props.children)),O&&u.push(O)}}catch(e){y.e(e)}finally{y.f()}return u}(j,O):null;if(null===u||null===d)return E;var w=i||t.Fragment,P={id:y,message:b,translation:E,isTranslated:y!==E&&b!==E};if(u&&d)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(u&&"function"!=typeof u)console.error("Invalid value supplied to prop `render`. It must be a function, provided ".concat(u));else if(d&&"function"!=typeof d)return console.error("Invalid value supplied to prop `component`. It must be a React component, provided ".concat(d)),t.createElement(w,Object.assign({},P),E);if("function"==typeof u)return u(P);var S=d||w,C=i;return C&&!d?t.createElement(C,Object.assign({},P),E):t.createElement(S,null,E)}y.defaultProps={values:{},components:{}};export{i as I18nProvider,y as Trans,o as useLingui,a as withI18n};
//# sourceMappingURL=react.production.min.js.map
